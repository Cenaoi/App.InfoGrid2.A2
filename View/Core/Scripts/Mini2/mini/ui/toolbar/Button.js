Mini2.define("Mini2.ui.toolbar.Button",{extend:"Mini2.ui.Component",btnInner:undefined,baseCls:Mini2.baseCSSPrefix+"btn",scale:"small",allowedScales:["small","medium","large"],renderTpl:['<a class="mi-btn ',"mi-unselectable ","mi-btn-toolbar ","mi-box-item ","mi-toolbar-item ","mi-btn-default-toolbar-small ",'" ','role="button" hidefocus="on" unselectable="on" tabindex="0" ','style="right: auto; left: 229px; top: 0px; margin: 0px;">','<span class="mi-btn-wrap" unselectable="on">','<span class="mi-btn-button">','<span class="mi-btn-inner mi-btn-inner-center" unselectable="on">',"</span>","</span>","</span>","</a>"],getInputEl:function(){var d=this,a=d.command,b,c,f=["mi-over","mi-btn-over","mi-btn-default-toolbar-small-over"],g=["mi-pressed","mi-btn-pressed","mi-btn-default-toolbar-small-pressed"];c=Mini2.$joinStr(d.renderTpl);c.css({width:d.width,height:d.height,left:d.left});if(a&&a!=""){c.attr("command",a)}if((d.text==undefined||d.text=="")&&d.icon){c.addCls("mi-btn-default-toolbar-small-icon")}else{if(d.text!=""&&d.icon){c.addCls("mi-icon-text-left","mi-btn-icon-text-left","mi-btn-default-toolbar-small-icon-text-left")}}if(d.icon){d.imgEl=b=$('<img src="" class="mi-btn-icon-el  mi-btn-glyph"  />');b.attr("src",d.icon);c.find(".mi-btn-button").append(b)}if(d.tooltip){c.attr("title",d.tooltip)}d.btnInner=c.find(".mi-btn-inner:first");d.btnInner.html(d.text);c.bind("mouseenter",function(){$(this).addCls(f)}).bind("mouseleave",function(){$(this).removeCls(f)});c.muBind("mousedown",function(){$(this).addCls(g);Mini2.ui.FocusMgr.setControl(this)}).muBind("mouseup",function(){$(this).removeCls(g);if(d.beforeClick){var h=d.beforeClick.call(d,e);if(h==false){return}}else{if(d.beforeAskText&&""!=d.beforeAskText){return d.showAskMsg(d)}}d.callback_click.call(d)});return c},showAskMsg:function(b){var a=b;Mini2.Msg.prompt("Ñ¯ÎÊ",a.beforeAskText,function(){a.click()});return false},serverForSubmit:function(){var a=this,b=a.widget||window.widget1;if(b){b.submit(a.el,{command:a.command,commandParam:a.commandParams})}},getWidth:function(){var b=this,a=b.el;return $(a).outerWidth()},render:function(){var b=this,a;b.el=a=b.getInputEl();if(b.applyTo){$(b.applyTo).replaceWith(a)}else{$(b.renderTo).append(a)}if(b.click){b.userClick=b.click;delete b.click}b.click=b.callback_click;return b},callback_click:function(){var a=this;if(a.userClick){a.userClick.call(a)}else{if(a.command){a.serverForSubmit.call(a)}}}});