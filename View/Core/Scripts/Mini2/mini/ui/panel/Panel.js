Mini2.define("Mini2.ui.panel.Panel",{extend:"Mini2.ui.Component",baseCls:Mini2.baseCSSPrefix+"panel",renderTpl:['<div style="right: auto; left: 0px; top: 0px;">','<div class="mi-box-inner " role="presentation" style=" height: 24px;">','<div class="mi-box-target" style=""></div>',"</div>","</div>"],border:true,isPanel:true,width:400,height:100,top:0,left:0,dock:"top",region:"north",ui:"default",uiCls:[],userCls:null,lockable:false,flowDirection:"lefttoright",wrapContents:true,itemWidth:0,fixed:false,autoSize:false,ownerParent:null,callParent:function(){var a=this,b=a.ownerParent;if(b){b.updateLayout()}},initComponent:function(){var b=this,a=b.layout;if(Mini2.isString(a)){b.layout={type:a}}else{if(!a){b.layout={type:"auto"}}}b.oneShow=!!b.visible;b.itemMargin=Mini2.apply({left:0,top:0,right:0,bottom:0},b.itemMargin);b.padding=Mini2.apply({left:0,top:0,right:0,bottom:0},b.padding);if(b.layout.type=="toolbar"){b.baseCls=Mini2.baseCSSPrefix+"toolbar"}},resizeChilds:function(){var a=this},toggle:function(){var b=this,a=b.el;if(b.isVisible()){b.hide()}else{b.show()}return b},resize:function(a){var d=this,c,b=d.resizeFns||[],a;if(arguments.length==0){d.updateLayout(d);for(c=0;c<b.length;c++){a=b[c];a.call(d)}}else{if(!d.resizeFns){d.resizeFns=b}b.push(a)}},prepareItems_ForFlow:function(a){var b=this,c=[];return a},prepareItems_ForTable:function(a){var b=this,c=[];return a},getItemObj:function(b){var a;if(b.muid){a=b}else{a=$(b).data("me")}return a},prepareItems:function(d){var e=this,a,b,c,f=[];$(d).each(function(){b=this;c=e.getItemObj(b);if(c){c.ownerParent=e;if(c.isVisible&&!c.isVisible()){return}f.push(c);if(e.layout.itemCls){c.el.addClass(e.layout.itemCls)}if(e.itemWidth&&c.setWidth){if(c.colspan){c.setWidth(e.itemWidth*c.colspan)}else{c.setWidth(e.itemWidth)}}if(e.itemlabelWidth&&c.labelable){c.labelable.setWidth(e.itemlabelWidth)}if(e.itemLabelAlign&&c.labelable){c.labelable.setLabelAlign(e.itemLabelAlign)}}else{if(Mini2.isDom(b)&&$(b).is(":visible")){f.push(b);if(e.layout.itemCls){$(b).addClass(e.layout.itemCls)}if(e.itemWidth){$(b).css("width",e.itemWidth)}}}});return f},layoutEngine:null,offsetParent:function(c){var b=$(c),a="mi-border-box",d=0;if(b.hasClass(a)){return c}for(d;d<99;d++){b=b.parent();if(b.hasClass(a)){break}}return b},updateLayout:function(g){var f=this,c,h,b=f.layoutEngine,d=f.layout,e=d.type,a=f.boxTarget;if(!f.isVisible()){return}h=f.offsetParent(f.el);c=a.children();if("table"==e){c=f.prepareItems_ForTable(c)}else{c=f.prepareItems(c)}if(c&&c.length==0){return}if("form"==e){b=b||Mini2.create("Mini2.ui.layout.container.Form",{owner:f})}else{if("hbox"==e){b=b||Mini2.create("Mini2.ui.layout.container.HBox",{owner:f,align:d.align})}else{if("vbox"==e){b=b||Mini2.create("Mini2.ui.layout.container.VBox",{owner:f,align:d.align})}else{b=b||Mini2.create("Mini2.ui.container.DockingContainer",{owner:f,itemMargin:f.itemMargin,padding:f.padding});b.clearItems();if(c.length){b.addDocked(c)}}}}b.updateLayout(f);f.layoutEngine=b},getWidth:function(){return this.el.outerWidth()},getHeight:function(){return this.el.outerHeight()},getSize:function(){var a=this;return{width:a.getWidth(),height:a.getHeight()}},setLeft:function(c){var b=this,a=b.el;a.css("left",c);return b},setTop:function(c){var b=this,a=b.el;a.css("top",c);return b},getLeft:function(){var b=this,a=b.el;return a.css("left")},getTop:function(){var b=this,a=b.el;return a.css("top")},setSize:function(j,f,d){var g=this,e=g.el,a=g.boxInner,b=g.boxTarget,i=g.padding||{left:0,right:0};g.targetWidth=j||g.width;g.targetHeight=f||g.height;g.updateLayout(g);g.width=g.targetWidth||g.width;g.height=g.targetHeight||g.height;if(e){var c=g.width-(i.right+i.left);e.css({width:g.width});a.css({width:g.width,height:g.height});b.css({width:c,height:g.height})}g.resize();return g},animate:function(f,e,b,a){var d=this,c=d.el;c.animate(f,e,b,a);return d},hide:function(){var b=this,a=b.el;a.hide();b.callParent();return b},show:function(){var b=this,a=b.el;a.show();b.callParent();b.callParent();return b},css:function(c,d){var b=this,a=b.el;return a.css(c,d)},isVisible:function(){var b=this,a=b.el;return a.is(":visible")},baseRender:function(){var g=this,d,i=g.padding||{left:0,right:0,top:0,bottom:0},a,b,j=g.width,e=g.height;g.el=d=Mini2.$joinStr(g.renderTpl);g.boxInner=a=d.cFirst(".mi-box-inner");g.boxTarget=b=a.cFirst(".mi-box-target");if(g.visible==false){d.hide();delete g.visible}if(g.onResize){g.resize(g.onResize)}d.data("me",g);d.addCls(g.baseCls,"mi-box-layout-ct");if(g.ui){d.addCls(g.baseCls+"-"+g.ui)}if("default"!=g.dock){d.addCls("mi-docked","mi-docked-"+g.dock,g.baseCls+"-docked-"+g.dock);if(g.ui){d.addCls(g.baseCls+"-"+g.ui+"-docked-"+g.dock)}}if(g.fixed){d.addClass("mi-fixed-layer");d.css("z-index",1009)}switch(g.scroll){case"none":b.css({overflow:"hide"});break;case"vertical":b.css({"overflow-x":"hidden","overflow-y":"auto"});break;case"horizontal":b.css({"overflow-x":"auto","overflow-y":"hidden"});break;default:b.css({overflow:"auto"});break}if(i.left){d.css({"padding-left":i.left})}if(i.right){d.css({"padding-right":i.right})}if(i.top){d.css({"padding-top":i.top})}if(i.bottom){d.css({"padding-bottom":i.bottom})}d.css({width:j,top:g.top,left:g.left});a.css({width:j,height:e});b.css({width:j,height:e});if(g.userCls){d.addClass(g.userCls)}if(g.contentEl){var c=$(g.contentEl);var f=c.children();c.after(d);b.append(f);d.attr("id",c.attr("id"));c.remove()}else{if(g.applyTo){$(g.applyTo).replaceWith(d)}else{if(g.renderTo){$(g.renderTo).append(d)}}}},afterRender:function(){},render:function(){this.baseRender()}},function(){var a=this;Mini2.apply(this,arguments[0]);a.initComponent()});