Mini2.define("Mini2.ui.tab.Panel",{extend:"Mini2.ui.Component",tabCls:Mini2.baseCSSPrefix+"tab-panel",curActiveTab:null,plain:false,dock:"top",region:"north",renderTpl_body:['<div class="mi-panel-body ',"mi-panel-body-default ","mi-layout-fit ","mi-panel-body-default ",'mi-noborder-trbl" ','style="width: 450px; left: 0px; top: 36px; height: 160px;" >',"</div>"],renderTpl_bar:['<div class="mi-tab-bar ',"mi-header ","mi-header-horizontal ","mi-docked ","mi-unselectable ","mi-tab-bar-default ","mi-horizontal ","mi-tab-bar-horizontal ","mi-tab-bar-default-horizontal ","mi-top ","mi-tab-bar-top ","mi-tab-bar-default-top ","mi-horizontal-noborder ","mi-tab-bar-horizontal-noborder ","mi-tab-bar-default-horizontal-noborder ","mi-docked-top ","mi-tab-bar-docked-top ","mi-tab-bar-default-docked-top ",'mi-noborder-trl" >','<div class="mi-tab-bar-body ',"mi-tab-bar-body-default ","mi-tab-bar-body-horizontal ","mi-tab-bar-body-default-horizontal ","mi-tab-bar-body-top ","mi-tab-bar-body-default-top ","mi-tab-bar-body-horizontal-noborder ","mi-tab-bar-body-default-horizontal-noborder ","mi-tab-bar-body-docked-top ","mi-tab-bar-body-default-docked-top ","mi-box-layout-ct ","mi-tab-bar-body-default ","mi-tab-bar-body-default-horizontal ","mi-tab-bar-body-default-top ","mi-tab-bar-body-default-horizontal-noborder ",'mi-tab-bar-body-default-docked-top" ','style="width: 450px;">','<div class="mi-box-inner mi-box-scroller-left ">','<div class="mi-box-scroller mi-tabbar-scroll-left" style="display:none;"></div>',"</div>",'<div class="mi-box-inner mi-horizontal-box-overflow-body" role="presentation" style="width:450px;height:31px;" >','<div class="mi-box-target" style="width: 450px;">',"</div>","</div>",'<div class="mi-box-inner mi-box-scroller-right ">','<div class="mi-box-scroller mi-tabbar-scroll-right" style="display:none;"></div>',"</div>","</div>",'<div class="mi-tab-bar-strip mi-tab-bar-strip-top mi-tab-bar-strip-default mi-tab-bar-strip-default-horizontal mi-tab-bar-strip-default-top mi-tab-bar-strip-default-horizontal-noborder mi-tab-bar-strip-default-docked-top">',"</div>","</div>"],initComponent:function(){var a=this},setActiveTab:function(c){var b=this,a=b.items;if(Mini2.isNumber(c)){if(c<a.length){c=a[c]}}if(c){c.setActive()}},setSize:function(o,h){var n=this,g=n.el,b=n.barEl,f=n.boxTargetEl,c=n.bodyEl,j,m=n.items,k,l;if(undefined!=o){$(g).children(".mi-panel:first").css("width",o);b.css("width",o);var a=$(b).children(".mi-tab-bar-body");var d=a.children(".mi-box-inner");var e=d.children(".mi-box-target");a.css("width",o);d.css("width",o);e.css("width",o);c.css("width",o)}if(undefined!=h){$(g).css("height",h);$(g).children(".mi-panel:first").css("height",h);c.css("height",h-31-4)}n.refresh_tabPage()},render_btn:function(b,a){var k=this,g,e,c,o=0,j=k.items,l;if(j){l=[j.length];for(g=0;g<j.length;g++){e=Mini2.applyIf(j[g],{left:o,tabPanel:k,renderTo:b});c=Mini2.create("Mini2.ui.tab.Tab",e);c.render();if(c.contentEl){var d=$(c.contentEl);c.contentEl=d}var n=k.width;var f=$(a).outerHeight();var m=Mini2.create("Mini2.ui.panel.Panel",{dock:"full",width:n,height:f,scroll:c.scroll,renderTo:a});m.render();c.panel=m;m.hide();$(m.boxTarget).append(c.contentEl.html());m.boxTarget.css({display:"table-cell",height:"100%",width:n,"vertical-align":"top"});delete c.contentEl;l[g]=c}delete k.items;k.items=l}},isVisible:function(){var b=this,a=b.el;return a.is(":visible")},refresh_btn:function(){var a=this,b=0;$(a.items).each(function(){if(this.setLeft){this.setLeft(b);b+=this.getWidth()+1}else{}})},refresh_tabPage:function(){var j=this,a=j.bodyEl,k,b,c,d,f=j.items,g=f.length,e;k=a.outerWidth();b=a.outerHeight();for(c=0;c<g;c++){d=f[c];e=d.panel;if(e){e.setSize(k,b)}}},baseRender:function(){var h=this,f;h.el=f=$("<div></div>");var i=Mini2.$joinStr(['<div class="mi-panel mi-panel-default mi-border-box" style="width: 450px; height: 196px;" >',"</div>"]);i.css("width",h.width);var b=Mini2.$joinStr(h.renderTpl_bar);var d=b.find(".mi-box-target:first");var c=Mini2.$joinStr(h.renderTpl_body);b.css("width",h.width);d.css("width",h.width);c.css("width",h.width);if(h.plain){b.addClass("mi-tab-bar-plain");var a=b.children(".mi-tab-bar-body");a.children(".mi-box-scroller-left").addClass("x-box-scroller-plain");a.children(".mi-box-scroller-right").addClass("x-box-scroller-plain")}h.render_btn(d,c);i.append(b);i.append(c);f.append(i);h.barEl=b;h.boxTargetEl=d;h.bodyEl=c;if(h.contentEl){var e=$(h.contentEl);var g=e.children();e.after(f);f.attr("id",e.attr("id"));e.remove()}else{if(h.applyTo){$(h.applyTo).replaceWith(f)}else{if(h.renderTo){$(h.renderTo).append(f)}}}if(h.visible==false){f.hide();delete h.visible}f.css("height",h.height);c.css("height",h.height-31-4);$(f).children(".mi-panel").css("height",h.height);f.data("me",h);h.refresh_tabPage();h.refresh_btn();h.setActiveTab(0)},render:function(){var a=this;a.baseRender()}});