Mini2.define("Mini2.ui.tab.Tab",{extend:"Mini2.ui.Component",tabPanel:null,padding:"10px 10px 10px 10px",reandeTpl:['<a class="mi-tab ',"mi-unselectable ","mi-box-item ","mi-tab-default ","mi-noicon ","mi-tab-noicon ","mi-tab-default-noicon ","mi-top ","mi-tab-top ",'mi-tab-default-top" ','style="border-width: 0px; right: auto; left: 0px; top: 0px; margin: 0px;" ','role="button" hidefocus="on" unselectable="on" tabindex="0" >','<span class="mi-tab-wrap" unselectable="on">','<span class="mi-tab-button">','<span class="mi-tab-inner mi-tab-inner-center" unselectable="on">',"Tab","</span>",'<span role="img" class="mi-tab-icon-el" unselectable="on" ></span>',"</span>","</span>","</a>"],closeBtnTpl:['<span class="mi-tab-close-btn" title="" tabindex="0"></span>'],closeOverCls:"mi-tab-close-btn-over",getText:function(){var c=this,a=c.btnInnerEl;var b=$(a).html();return b},setText:function(c){var b=this,a=b.btnInnerEl;$(a).html(c)},setActive:function(){var d=this,b=d.el;var a=["mi-active","mi-tab-active","mi-tab-default-active","mi-top-active","mi-tab-top-active","mi-tab-default-top-active"];var e=d.tabPanel;var c=e.curActiveTab;if(e.curActiveTab===d){return}e.curActiveTab=d;$(b).addCls(a);if(d.contentEl){$(d.contentEl).removeClass("mi-hide-display")}d.panel.show();d.panel.updateLayout();if(c){$(c.el).removeCls(a);if(c.panel){c.panel.hide()}}},close:function(){var a=this;a.panel.el.remove()},createCloseBtn:function(){var d=this,c=d.el,b,a=d.closable;if(a){b=Mini2.$joinStr(d.closeBtnTpl);c.append(b);c.addCls("mi-closable","mi-tab-closable","mi-tab-default-closable","mi-closable-top","mi-tab-closable-top","mi-tab-default-closable-top");d.closeEl=b;b.mouseenter(function(){$(this).addClass(d.closeOverCls)}).mouseleave(function(){$(this).removeClass(d.closeOverCls)});b.muBind("mousedown",function(){}).muBind("mouseup",function(){alert("Œ¥ µœ÷!")})}},render:function(){var b=this,a;b.el=a=Mini2.$joinStr(b.reandeTpl);b.btnEl=a.find(".mi-tab-button");b.btnInnerEl=b.btnEl.children(".mi-tab-inner");b.btnIconEl=b.btnEl.children(".mi-tab-icon-el");b.setText(b.text||"∞¥≈•");b.createCloseBtn();a.css("left",b.left||0);a.mouseenter(function(){$(this).addClass("mi-tab-default-over")}).mouseleave(function(){$(this).removeClass("mi-tab-default-over")});a.muBind("mousedown",function(){Mini2.ui.FocusMgr.setControl(b.scope||b)}).muBind("mouseup",function(){b.setActive()});if(b.applyTo){$(b.applyTo).replaceWith(a)}else{if(b.renderTo){$(b.renderTo).append(a)}}}});