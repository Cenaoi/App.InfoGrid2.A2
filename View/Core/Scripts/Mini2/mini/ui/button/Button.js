Mini2.define("Mini2.ui.button.Button",{extend:"Mini2.ui.Component",btnInner:null,baseCls:Mini2.baseCSSPrefix+"btn",scale:"small",allowedScales:["small","medium","large"],dock:"none",text:"°´Å¥",icon:false,el:null,userCls:false,isButton:true,hrefTarget:"_blank",renderTpl:['<a class="mi-btn ',"mi-unselectable ",'" ','role="button" hidefocus="on" unselectable="on" tabindex="0" >','<span class="mi-btn-wrap" unselectable="on">','<span class="mi-btn-button">','<span class="mi-btn-inner mi-btn-inner-center" unselectable="on">',"</span>","</span>","</span>","</a>"],initComponent:function(){var a=this},setTop:function(c){var b=this,a=b.el;a.css("top",c);return b},setLeft:function(c){var b=this,a=b.el;a.css("left",c);return b},focus:function(){var a=this;Mini2.ui.FocusMgr.setControl(a)},getInputEl:function(){var f=this,i=f.scale,d=f.href,e=f.hrefTarget,a=f.baseCls,b=f.command,h="-pressed",g="-over",c=Mini2.$joinStr(f.renderTpl);f.overCls=["mi"+g,a+g,a+"-default-"+i+g];f.pressedCls=["mi"+h,a+h,a+"-default-"+i+h];if(b&&b!=""){c.attr("command",b)}c.css({width:f.width,height:f.height,left:f.left});c.addCls(a+"-default-"+i);f.btnInner=c.find(".mi-btn-inner:first");f.btnInner.html(f.text);if(f.icon&&""!=f.icon){c.addCls("mi-icon-text-left",a+"-icon-text-left",a+"-default-"+i+"-icon-text-left");f.imgEl=$('<img src="" class="mi-btn-icon-el mi-btn-glyph"  />');f.imgEl.attr("src",f.icon);c.mFind("."+a+"-button").append(f.imgEl)}c.bind("mouseenter",function(){$(this).addCls(f.overCls)}).bind("mouseleave",function(){$(this).removeCls(f.overCls)});if(d){c.attr("href",d);if(d){c.attr("target",e)}}else{c.muBind("mousedown",function(j){$(this).addCls(f.pressedCls);Mini2.ui.FocusMgr.setControl(f)}).muBind("mouseup",function(j){$(this).removeCls(f.pressedCls);if(f.beforeClick){var k=f.beforeClick.call(f,j);if(k==false){return}}else{if(f.beforeAskText&&""!=f.beforeAskText){return f.showAskMsg.call(f)}}f.callback_click.call(f)})}return c},showAskMsg:function(){var a=this;Mini2.Msg.prompt("Ñ¯ÎÊ",a.beforeAskText,function(){a.click()});return false},expandCls:function(a){var d=this,b=d.el,c,e;if(a){e=a.split(" ");for(c=0;c<e.length;c++){b.addClass(e[c])}}},serverForSubmit:function(){var a=this,b=a.widget||window.widget1;if(b){b.submit(a.el,{command:a.command,commandParam:a.commandParams})}},setHref:function(b){var c=this,a=c.el;c.href=b;a.attr("href",b)},getHref:function(){var b=this,a=b.el;return b.href},render:function(){var c=this,b,a=c.clientId;c.el=b=c.getInputEl();b.attr("id",a).data("me",c);c.expandCls(c.userCls);if(c.applyTo){$(c.applyTo).replaceWith(b)}else{$(c.renderTo).append(b)}if(c.click){c.userClick=c.click;delete c.click}c.click=c.callback_click;return c},callback_click:function(){var a=this;if(a.userClick){a.userClick.call(a)}else{if(a.command){a.serverForSubmit.call(a)}}}});