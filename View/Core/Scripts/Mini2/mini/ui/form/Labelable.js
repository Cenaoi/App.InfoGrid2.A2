Mini2.define("Mini2.ui.form.Labelable",{childEls:["labelCell","labelEl","bodyEl","sideErrorCell","errorEl","inputRow"],activeErrorsTpl:['<td role="presentation" sid="sideErrorCell" valign="middle" style="" width="21">','<div role="presentation" sid="textfield-XXX-errorEl" class="mi-form-error-msg mi-form-invalid-icon" title="" ','style="" data-errorqtip="&lt;ul class=&quot;mi-list-plain&quot;&gt;&lt;li role=&quot;alert&quot;&gt;Name is required&lt;/li&gt;&lt;/ul&gt;">','<ul class="mi-list-plain"><li role="alert"></li></ul>',"</div>","</td>"],labelableRenderTpl:['<table class="mi-field mi-table-plain mi-form-item mi-field-default mi-anchor-form-item" ','cellpadding="0" cellspacing="0" style="table-layout: fixed; width: 100%; ">',"<tbody>",'<tr role="presentation" class="mi-form-item-input-row">','<td role="presentation" class="mi-form-item-body"></td>',"</tr>","</tbody>","</table>"],formItemCls:Mini2.baseCSSPrefix+"form-item",labelCls:Mini2.baseCSSPrefix+"form-item-label",errorMsgCls:Mini2.baseCSSPrefix+"form-error-msg",baseBodyCls:Mini2.baseCSSPrefix+"form-item-body",inputRowCls:Mini2.baseCSSPrefix+"form-item-input-row",fieldBodyCls:"",mixinsPropertys:["fieldLabel","labelAlign","labelWidth","labelPad","labelSeparator","hideLabel"],clearCls:Mini2.baseCSSPrefix+"clear",invalidCls:Mini2.baseCSSPrefix+"form-invalid",fieldLabel:undefined,labelAlign:"left",labelWidth:100,labelPad:5,labelSeparator:":",hideLabel:false,labelCell:undefined,getEl:function(){var c=this,b,a=c.fieldLabel;b=$('<label class="mi-form-item-label mi-unselectable" unselectable="on"></label>');b.html((a?a:"±Í«©")+c.labelSeparator);b.addClass("mi-form-item-label-"+c.labelAlign);b.css({width:c.labelWidth+"px","margin-right":c.labelPad+"px"});return b},setHideLabel:function(c){var b=this,a=b.labelCell;b.hideLabel=c;if(c){if(!a){b.renderLabelCell()}}else{if(a){a.hide()}}},setLabelAlign:function(g){var e=this,f=e.owner,b,a,c,d=e.labelCls;e.labelAlign=g;if(f&&f.el){b=f.el;a=b.find("td.mi-field-label-cell:first");c=a.find("label:first");c.removeClass(d+"-left");c.removeClass(d+"-right")}c.addClass("mi-form-item-label-"+e.labelAlign)},getLabelAlign:function(){var a=this;return a.labelAlign},setWidth:function(f){var d=this,e=d.owner,b,a,c;d.labelWidth=f;if(e&&e.el){b=e.el;a=b.find("td.mi-field-label-cell:first");labEl=a.find("label:first");c=f+d.labelPad;$(a).css("width",c);$(labEl).css("width",f)}},getWidth:function(){var a=this;return a.labelWidth},renderLabelCell:function(){var c=this,b,a;a=c.labelableRenderTpl.find("td.mi-form-item-body:first");c.labelCell=b=$('<td role="presentation" valign="top" halign="left" width="105" class="mi-field-label-cell"></td>');$(a).before(b)},initLabelable:function(){var a=this;a.labelableRenderTpl=Mini2.$joinStr(a.labelableRenderTpl);a.lastActiveError="";if(!a.hideLabel){a.renderLabelCell()}},getActiveError:function(){return this.activeError||""},hasActiveError:function(){return !!this.getActiveError()},setActiveError:function(a){this.setActiveErrors(a)},getActiveErrors:function(){return this.activeErrors||[]},setActiveErrors:function(a){var b=this;if(!Mini2.isArray(a)){a=[a]}b.activeError=a[0];b.activeErrors=a;b.renderActiveError()},unsetActiveError:function(){var a=this;delete a.activeError;delete a.activeErrors;a.renderActiveError()},renderActiveError:function(){var f=this,a=f.getActiveError(),e=!!a,d=f.errorEl;if(a!==f.lastActiveError){f.lastActiveError=a}if(e){if(!d){f.errorEl=d=Mini2.$joinStr(f.activeErrorsTpl);var b=f.labelableRenderTpl.find("td.mi-form-item-body:first");$(b).after(d)}d.show();var c=d.children(".mi-form-error-msg");$(c).attr("title",a)}else{if(d){d.hide()}}}},function(a){var d=this;Mini2.apply(d,a);if(d.owner){var f=d.owner,b,e=d.mixinsPropertys,c=e.length,g;for(b=0;b<c;b++){g=e[b];d[g]=f[g]||d[g]}}d.initLabelable()});