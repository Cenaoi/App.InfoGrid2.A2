/*artTemplate - Template Engine*/
var template=function(c,d){return template["object"==typeof d?"render":"compile"].apply(template,arguments)};(function(g,h){g.version="2.0.1",g.openTag="<%",g.closeTag="%>",g.isEscape=!0,g.isCompress=!1,g.parser=null,g.render=function(d,e){var f=j(d);return void 0===f?k({id:d,name:"Render Error",message:"No Template"}):f(e)},g.compile=function(a,c){function p(b){try{return new n(b)+""}catch(d){return f?(d.id=a||c,d.name="Render Error",d.source=c,k(d)):g.compile(a,c,!0)(b)}}var e=arguments,f=e[2],m="anonymous";"string"!=typeof c&&(f=e[1],c=e[0],a=m);try{var n=l(c,f)}catch(o){return o.id=a||c,o.name="Syntax Error",k(o)}return p.prototype=n.prototype,p.toString=function(){return""+n},a!==m&&(i[a]=p),p},g.helper=function(a,d){g.prototype[a]=d},g.onerror=function(b){var d="[template]:\n"+b.id+"\n\n[name]:\n"+b.name;b.message&&(d+="\n\n[message]:\n"+b.message),b.line&&(d+="\n\n[line]:\n"+b.line,d+="\n\n[source]:\n"+b.source.split(/\n/)[b.line-1].replace(/^[\s\t]+/,"")),b.temp&&(d+="\n\n[temp]:\n"+b.temp),h.console&&console.error(d)};var i={},j=function(a){var b=i[a];if(void 0===b&&"document" in h){var c=document.getElementById(a);if(c){var m=c.value||c.innerHTML;return g.compile(a,m.replace(/^\s*|\s*$/g,""))}}else{if(i.hasOwnProperty(a)){return b}}},k=function(a){function d(){return d+""}return g.onerror(a),d.toString=function(){return"{Template Error}"},d},l=function(){g.prototype={$render:g.render,$escape:function(b){return"string"==typeof b?b.replace(/&(?![\w#]+;)|[<>"']/g,function(c){return{"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"}[c]}):b},$string:function(b){return"string"==typeof b||"number"==typeof b?b:"function"==typeof b?b():""}};var a=Array.prototype.forEach||function(e,f){for(var u=this.length>>>0,v=0;u>v;v++){v in this&&e.call(f,this[v],v,this)}},m=function(b,d){a.call(b,d)},n="break,case,catch,continue,debugger,default,delete,do,else,false,finally,for,function,if,in,instanceof,new,null,return,switch,this,throw,true,try,typeof,var,void,while,with,abstract,boolean,byte,char,class,const,double,enum,export,extends,final,float,goto,implements,import,int,interface,long,native,package,private,protected,public,short,static,super,synchronized,throws,transient,volatile,arguments,let,yield,undefined",o=/\/\*(?:.|\n)*?\*\/|\/\/[^\n]*\n|\/\/[^\n]*$|'[^']*'|"[^"]*"|[\s\t\n]*\.[\s\t\n]*[$\w\.]+/g,p=/[^\w$]+/g,q=RegExp(["\\b"+n.replace(/,/g,"\\b|\\b")+"\\b"].join("|"),"g"),r=/\b\d[^,]*/g,s=/^,+|,+$/g,t=function(b){return b=b.replace(o,"").replace(p,",").replace(q,"").replace(r,"").replace(s,""),b=b?b.split(/,+/):[]};return function(c,A){function S(d){return G+=d.split(/\n/).length-1,g.isCompress&&(d=d.replace(/[\n\r\t\s]+/g," ")),d=d.replace(/('|\\)/g,"\\$1").replace(/\r/g,"\\r").replace(/\n/g,"\\n"),d=M[1]+"'"+d+"'"+M[2],d+"\n"}function T(d){var u=G;if(D?d=D(d):A&&(d=d.replace(/\n/g,function(){return G++,"$line="+G+";"})),0===d.indexOf("=")){var v=0!==d.indexOf("==");if(d=d.replace(/^=*|[\s;]*$/g,""),v&&g.isEscape){var w=d.replace(/\s*\([^\)]+\)/,"");I.hasOwnProperty(w)||/^(include|print)$/.test(w)||(d="$escape($string("+d+"))")}else{d="$string("+d+")"}d=M[1]+d+M[2]}return A&&(d="$line="+u+";"+d),U(d),d+"\n"}function U(b){b=t(b),m(b,function(d){H.hasOwnProperty(d)||(V(d),H[d]=!0)})}function V(d){var e;"print"===d?e=O:"include"===d?(J.$render=I.$render,e=P):(e="$data."+d,I.hasOwnProperty(d)&&(J[d]=I[d],e=0===d.indexOf("$")?"$helpers."+d:e+"===undefined?$helpers."+d+":"+e)),K+=d+"="+e+","}var B=g.openTag,C=g.closeTag,D=g.parser,E=c,F="",G=1,H={$data:!0,$helpers:!0,$out:!0,$line:!0},I=g.prototype,J={},K="var $helpers=this,"+(A?"$line=0,":""),L="".trim,M=L?["$out='';","$out+=",";","$out"]:["$out=[];","$out.push(",");","$out.join('')"],N=L?"if(content!==undefined){$out+=content;return content}":"$out.push(content);",O="function(content){"+N+"}",P="function(id,data){if(data===undefined){data=$data}var content=$helpers.$render(id,data);"+N+"}";m(E.split(B),function(b){b=b.split(C);var e=b[0],f=b[1];1===b.length?F+=S(e):(F+=T(e),f&&(F+=S(f)))}),E=F,A&&(E="try{"+E+"}catch(e){e.line=$line;throw e}"),E="'use strict';"+K+M[0]+E+"return new String("+M[3]+")";try{var Q=Function("$data",E);return Q.prototype=J,Q}catch(R){throw R.temp="function anonymous($data) {"+E+"}",R}}}()})(template,this),"function"==typeof define?define(function(d,e,f){f.exports=template}):"undefined"!=typeof exports&&(module.exports=template);