/// Mini2.js 创建日期:2021/6/11 19:21:55
(function(b,a){if(typeof define==="function"&&define.amd){define(function(){return a(b)})}else{a(b)}}(this,function(window){var Zepto=(function(){var undefined,key,$,classList,emptyArray=[],concat=emptyArray.concat,filter=emptyArray.filter,slice=emptyArray.slice,document=window.document,elementDisplay={},classCache={},cssNumber={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},fragmentRE=/^\s*<(\w+|!)[^>]*>/,singleTagRE=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,tagExpanderRE=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,rootNodeRE=/^(?:body|html)$/i,capitalRE=/([A-Z])/g,methodAttributes=["val","css","html","text","data","width","height","offset"],adjacencyOperators=["after","prepend","before","append"],table=document.createElement("table"),tableRow=document.createElement("tr"),containers={tr:document.createElement("tbody"),tbody:table,thead:table,tfoot:table,td:tableRow,th:tableRow,"*":document.createElement("div")},readyRE=/complete|loaded|interactive/,simpleSelectorRE=/^[\w-]*$/,class2type={},toString=class2type.toString,zepto={},camelize,uniq,tempParent=document.createElement("div"),propMap={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},isArray=Array.isArray||function(object){return object instanceof Array};zepto.matches=function(element,selector){if(!selector||!element||element.nodeType!==1){return false}var matchesSelector=element.matches||element.webkitMatchesSelector||element.mozMatchesSelector||element.oMatchesSelector||element.matchesSelector;if(matchesSelector){return matchesSelector.call(element,selector)}var match,parent=element.parentNode,temp=!parent;if(temp){(parent=tempParent).appendChild(element)}match=~zepto.qsa(parent,selector).indexOf(element);temp&&tempParent.removeChild(element);return match};function type(obj){return obj==null?String(obj):class2type[toString.call(obj)]||"object"}function isFunction(value){return type(value)=="function"}function isWindow(obj){return obj!=null&&obj==obj.window}function isDocument(obj){return obj!=null&&obj.nodeType==obj.DOCUMENT_NODE}function isObject(obj){return type(obj)=="object"}function isPlainObject(obj){return isObject(obj)&&!isWindow(obj)&&Object.getPrototypeOf(obj)==Object.prototype}function likeArray(obj){var length=!!obj&&"length" in obj&&obj.length,type=$.type(obj);return"function"!=type&&!isWindow(obj)&&("array"==type||length===0||(typeof length=="number"&&length>0&&(length-1) in obj))}function compact(array){return filter.call(array,function(item){return item!=null})}function flatten(array){return array.length>0?$.fn.concat.apply([],array):array}camelize=function(str){return str.replace(/-+(.)?/g,function(match,chr){return chr?chr.toUpperCase():""})};function dasherize(str){return str.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}uniq=function(array){return filter.call(array,function(item,idx){return array.indexOf(item)==idx})};function classRE(name){return name in classCache?classCache[name]:(classCache[name]=new RegExp("(^|\\s)"+name+"(\\s|$)"))}function maybeAddPx(name,value){return(typeof value=="number"&&!cssNumber[dasherize(name)])?value+"px":value}function defaultDisplay(nodeName){var element,display;if(!elementDisplay[nodeName]){element=document.createElement(nodeName);document.body.appendChild(element);display=getComputedStyle(element,"").getPropertyValue("display");element.parentNode.removeChild(element);display=="none"&&(display="block");elementDisplay[nodeName]=display}return elementDisplay[nodeName]}function children(element){return"children" in element?slice.call(element.children):$.map(element.childNodes,function(node){if(node.nodeType==1){return node}})}function Z(dom,selector){var i,len=dom?dom.length:0;for(i=0;i<len;i++){this[i]=dom[i]}this.length=len;this.selector=selector||""}zepto.fragment=function(html,name,properties){var dom,nodes,container;if(singleTagRE.test(html)){dom=$(document.createElement(RegExp.$1))}if(!dom){if(html.replace){html=html.replace(tagExpanderRE,"<$1></$2>")}if(name===undefined){name=fragmentRE.test(html)&&RegExp.$1}if(!(name in containers)){name="*"}container=containers[name];container.innerHTML=""+html;dom=$.each(slice.call(container.childNodes),function(){container.removeChild(this)})}if(isPlainObject(properties)){nodes=$(dom);$.each(properties,function(key,value){if(methodAttributes.indexOf(key)>-1){nodes[key](value)}else{nodes.attr(key,value)}})}return dom};zepto.Z=function(dom,selector){return new Z(dom,selector)};zepto.isZ=function(object){return object instanceof zepto.Z};zepto.init=function(selector,context){var dom;if(!selector){return zepto.Z()}else{if(typeof selector=="string"){selector=selector.trim();if(selector[0]=="<"&&fragmentRE.test(selector)){dom=zepto.fragment(selector,RegExp.$1,context),selector=null}else{if(context!==undefined){return $(context).find(selector)}else{dom=zepto.qsa(document,selector)}}}else{if(isFunction(selector)){return $(document).ready(selector)}else{if(zepto.isZ(selector)){return selector}else{if(isArray(selector)){dom=compact(selector)}else{if(isObject(selector)){dom=[selector],selector=null}else{if(fragmentRE.test(selector)){dom=zepto.fragment(selector.trim(),RegExp.$1,context),selector=null}else{if(context!==undefined){return $(context).find(selector)}else{dom=zepto.qsa(document,selector)}}}}}}}}return zepto.Z(dom,selector)};$=function(selector,context){return zepto.init(selector,context)};function extend(target,source,deep){for(key in source){if(deep&&(isPlainObject(source[key])||isArray(source[key]))){if(isPlainObject(source[key])&&!isPlainObject(target[key])){target[key]={}}if(isArray(source[key])&&!isArray(target[key])){target[key]=[]}extend(target[key],source[key],deep)}else{if(source[key]!==undefined){target[key]=source[key]}}}}$.extend=function(target){var deep,args=slice.call(arguments,1);if(typeof target=="boolean"){deep=target;target=args.shift()}args.forEach(function(arg){extend(target,arg,deep)});return target};zepto.qsa=function(element,selector){var found,maybeID=selector[0]=="#",maybeClass=!maybeID&&selector[0]==".",nameOnly=maybeID||maybeClass?selector.slice(1):selector,isSimple=simpleSelectorRE.test(nameOnly);return(element.getElementById&&isSimple&&maybeID)?((found=element.getElementById(nameOnly))?[found]:[]):(element.nodeType!==1&&element.nodeType!==9&&element.nodeType!==11)?[]:slice.call(isSimple&&!maybeID&&element.getElementsByClassName?maybeClass?element.getElementsByClassName(nameOnly):element.getElementsByTagName(selector):element.querySelectorAll(selector))};function filtered(nodes,selector){return selector==null?$(nodes):$(nodes).filter(selector)}$.contains=document.documentElement.contains?function(parent,node){return parent!==node&&parent.contains(node)}:function(parent,node){while(node&&(node=node.parentNode)){if(node===parent){return true}}return false};function funcArg(context,arg,idx,payload){return isFunction(arg)?arg.call(context,idx,payload):arg}function setAttribute(node,name,value){value==null?node.removeAttribute(name):node.setAttribute(name,value)}function className(node,value){var klass=node.className||"",svg=klass&&klass.baseVal!==undefined;if(value===undefined){return svg?klass.baseVal:klass}svg?(klass.baseVal=value):(node.className=value)}function deserializeValue(value){try{return value?value=="true"||(value=="false"?false:value=="null"?null:+value+""==value?+value:/^[\[\{]/.test(value)?$.parseJSON(value):value):value}catch(e){return value}}$.type=type;$.isFunction=isFunction;$.isWindow=isWindow;$.isArray=isArray;$.isPlainObject=isPlainObject;$.isEmptyObject=function(obj){var name;for(name in obj){return false}return true};$.isNumeric=function(val){var num=Number(val),type=typeof val;return val!=null&&type!="boolean"&&(type!="string"||val.length)&&!isNaN(num)&&isFinite(num)||false};$.inArray=function(elem,array,i){return emptyArray.indexOf.call(array,elem,i)};$.camelCase=camelize;$.trim=function(str){return str==null?"":String.prototype.trim.call(str)};$.uuid=0;$.support={};$.expr={};$.noop=function(){};$.map=function(elements,callback){var value,values=[],i,key;if(likeArray(elements)){for(i=0;i<elements.length;i++){value=callback(elements[i],i);if(value!=null){values.push(value)}}}else{for(key in elements){value=callback(elements[key],key);if(value!=null){values.push(value)}}}return flatten(values)};$.each=function(elements,callback){var i,key;if(likeArray(elements)){for(i=0;i<elements.length;i++){if(callback.call(elements[i],i,elements[i])===false){return elements}}}else{for(key in elements){if(callback.call(elements[key],key,elements[key])===false){return elements}}}return elements};$.grep=function(elements,callback){return filter.call(elements,callback)};if(window.JSON){$.parseJSON=JSON.parse}$.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(i,name){class2type["[object "+name+"]"]=name.toLowerCase()});$.fn={constructor:zepto.Z,length:0,forEach:emptyArray.forEach,reduce:emptyArray.reduce,push:emptyArray.push,sort:emptyArray.sort,splice:emptyArray.splice,indexOf:emptyArray.indexOf,concat:function(){var i,value,args=[];for(i=0;i<arguments.length;i++){value=arguments[i];args[i]=zepto.isZ(value)?value.toArray():value}return concat.apply(zepto.isZ(this)?this.toArray():this,args)},map:function(fn){return $($.map(this,function(el,i){return fn.call(el,i,el)}))},slice:function(){return $(slice.apply(this,arguments))},ready:function(callback){if(readyRE.test(document.readyState)&&document.body){callback($)}else{document.addEventListener("DOMContentLoaded",function(){callback($)},false)}return this},get:function(idx){return idx===undefined?slice.call(this):this[idx>=0?idx:idx+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){if(this.parentNode!=null){this.parentNode.removeChild(this)}})},each:function(callback){emptyArray.every.call(this,function(el,idx){return callback.call(el,idx,el)!==false});return this},filter:function(selector){if(isFunction(selector)){return this.not(this.not(selector))}return $(filter.call(this,function(element){return zepto.matches(element,selector)}))},add:function(selector,context){return $(uniq(this.concat($(selector,context))))},is:function(selector){return this.length>0&&zepto.matches(this[0],selector)},not:function(selector){var nodes=[];if(isFunction(selector)&&selector.call!==undefined){this.each(function(idx){if(!selector.call(this,idx)){nodes.push(this)}})}else{var excludes=typeof selector=="string"?this.filter(selector):(likeArray(selector)&&isFunction(selector.item))?slice.call(selector):$(selector);this.forEach(function(el){if(excludes.indexOf(el)<0){nodes.push(el)}})}return $(nodes)},has:function(selector){return this.filter(function(){return isObject(selector)?$.contains(this,selector):$(this).find(selector).size()})},eq:function(idx){return idx===-1?this.slice(idx):this.slice(idx,+idx+1)},first:function(){var el=this[0];return el&&!isObject(el)?el:$(el)},last:function(){var el=this[this.length-1];return el&&!isObject(el)?el:$(el)},find:function(selector){var result,$this=this;if(!selector){result=$()}else{if(typeof selector=="object"){result=$(selector).filter(function(){var node=this;return emptyArray.some.call($this,function(parent){return $.contains(parent,node)})})}else{if(this.length==1){result=$(zepto.qsa(this[0],selector))}else{result=this.map(function(){return zepto.qsa(this,selector)})}}}return result},closest:function(selector,context){var nodes=[],collection=typeof selector=="object"&&$(selector);this.each(function(_,node){while(node&&!(collection?collection.indexOf(node)>=0:zepto.matches(node,selector))){node=node!==context&&!isDocument(node)&&node.parentNode}if(node&&nodes.indexOf(node)<0){nodes.push(node)}});return $(nodes)},parents:function(selector){var ancestors=[],nodes=this;while(nodes.length>0){nodes=$.map(nodes,function(node){if((node=node.parentNode)&&!isDocument(node)&&ancestors.indexOf(node)<0){ancestors.push(node);return node}})}return filtered(ancestors,selector)},parent:function(selector){return filtered(uniq(this.pluck("parentNode")),selector)},children:function(selector){return filtered(this.map(function(){return children(this)}),selector)},contents:function(){return this.map(function(){return this.contentDocument||slice.call(this.childNodes)})},siblings:function(selector){return filtered(this.map(function(i,el){return filter.call(children(el.parentNode),function(child){return child!==el})}),selector)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(property){return $.map(this,function(el){return el[property]})},show:function(){return this.each(function(){this.style.display=="none"&&(this.style.display="");if(getComputedStyle(this,"").getPropertyValue("display")=="none"){this.style.display=defaultDisplay(this.nodeName)}})},replaceWith:function(newContent){return this.before(newContent).remove()},wrap:function(structure){var func=isFunction(structure);if(this[0]&&!func){var dom=$(structure).get(0),clone=dom.parentNode||this.length>1}return this.each(function(index){$(this).wrapAll(func?structure.call(this,index):clone?dom.cloneNode(true):dom)})},wrapAll:function(structure){if(this[0]){$(this[0]).before(structure=$(structure));var children;while((children=structure.children()).length){structure=children.first()}$(structure).append(this)}return this},wrapInner:function(structure){var func=isFunction(structure);return this.each(function(index){var self=$(this),contents=self.contents(),dom=func?structure.call(this,index):structure;contents.length?contents.wrapAll(dom):self.append(dom)})},unwrap:function(){this.parent().each(function(){$(this).replaceWith($(this).children())});return this},clone:function(){return this.map(function(){return this.cloneNode(true)})},hide:function(){return this.css("display","none")},toggle:function(setting){return this.each(function(){var el=$(this);(setting===undefined?el.css("display")=="none":setting)?el.show():el.hide()})},prev:function(selector){return $(this.pluck("previousElementSibling")).filter(selector||"*")},next:function(selector){return $(this.pluck("nextElementSibling")).filter(selector||"*")},html:function(html){return 0 in arguments?this.each(function(idx){var originHtml=this.innerHTML;$(this).empty().append(funcArg(this,html,idx,originHtml))}):(0 in this?this[0].innerHTML:null)},text:function(text){return 0 in arguments?this.each(function(idx){var newText=funcArg(this,text,idx,this.textContent);this.textContent=newText==null?"":""+newText}):(0 in this?this.pluck("textContent").join(""):null)},attr:function(name,value){var result;return(typeof name=="string"&&!(1 in arguments))?(0 in this&&this[0].nodeType==1&&(result=this[0].getAttribute(name))!=null?result:undefined):this.each(function(idx){if(this.nodeType!==1){return}if(isObject(name)){for(key in name){setAttribute(this,key,name[key])}}else{setAttribute(this,name,funcArg(this,value,idx,this.getAttribute(name)))}})},removeAttr:function(name){return this.each(function(){this.nodeType===1&&name.split(" ").forEach(function(attribute){setAttribute(this,attribute)},this)})},prop:function(name,value){name=propMap[name]||name;return(1 in arguments)?this.each(function(idx){this[name]=funcArg(this,value,idx,this[name])}):(this[0]&&this[0][name])},removeProp:function(name){name=propMap[name]||name;return this.each(function(){delete this[name]})},data:function(name,value){var attrName="data-"+name.replace(capitalRE,"-$1").toLowerCase();var data=(1 in arguments)?this.attr(attrName,value):this.attr(attrName);return data!==null?deserializeValue(data):undefined},val:function(value){if(0 in arguments){if(value==null){value=""}return this.each(function(idx){this.value=funcArg(this,value,idx,this.value)})}else{return this[0]&&(this[0].multiple?$(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)}},offset:function(coordinates){if(coordinates){return this.each(function(index){var $this=$(this),coords=funcArg(this,coordinates,index,$this.offset()),parentOffset=$this.offsetParent().offset(),props={top:coords.top-parentOffset.top,left:coords.left-parentOffset.left};if($this.css("position")=="static"){props.position="relative"}$this.css(props)})}if(!this.length){return null}if(document.documentElement!==this[0]&&!$.contains(document.documentElement,this[0])){return{top:0,left:0}}var obj=this[0].getBoundingClientRect();return{left:obj.left+window.pageXOffset,top:obj.top+window.pageYOffset,width:Math.round(obj.width),height:Math.round(obj.height)}},css:function(property,value){if(arguments.length<2){var element=this[0];if(typeof property=="string"){if(!element){return}return element.style[camelize(property)]||getComputedStyle(element,"").getPropertyValue(property)}else{if(isArray(property)){if(!element){return}var props={};var computedStyle=getComputedStyle(element,"");$.each(property,function(_,prop){props[prop]=(element.style[camelize(prop)]||computedStyle.getPropertyValue(prop))});return props}}}var css="";if(type(property)=="string"){if(!value&&value!==0){this.each(function(){this.style.removeProperty(dasherize(property))})}else{css=dasherize(property)+":"+maybeAddPx(property,value)}}else{for(key in property){if(!property[key]&&property[key]!==0){this.each(function(){this.style.removeProperty(dasherize(key))})}else{css+=dasherize(key)+":"+maybeAddPx(key,property[key])+";"}}}return this.each(function(){this.style.cssText+=";"+css})},index:function(element){return element?this.indexOf($(element)[0]):this.parent().children().indexOf(this[0])},hasClass:function(name){if(!name){return false}return emptyArray.some.call(this,function(el){return this.test(className(el))},classRE(name))},addClass:function(name){if(!name){return this}return this.each(function(idx){if(!("className" in this)){return}classList=[];var cls=className(this),newName=funcArg(this,name,idx,cls);newName.split(/\s+/g).forEach(function(klass){if(!$(this).hasClass(klass)){classList.push(klass)}},this);classList.length&&className(this,cls+(cls?" ":"")+classList.join(" "))})},removeClass:function(name){return this.each(function(idx){if(!("className" in this)){return}if(name===undefined){return className(this,"")}classList=className(this);funcArg(this,name,idx,classList).split(/\s+/g).forEach(function(klass){classList=classList.replace(classRE(klass)," ")});className(this,classList.trim())})},toggleClass:function(name,when){if(!name){return this}return this.each(function(idx){var $this=$(this),names=funcArg(this,name,idx,className(this));names.split(/\s+/g).forEach(function(klass){(when===undefined?!$this.hasClass(klass):when)?$this.addClass(klass):$this.removeClass(klass)})})},scrollTop:function(value){if(!this.length){return}var hasScrollTop="scrollTop" in this[0];if(value===undefined){return hasScrollTop?this[0].scrollTop:this[0].pageYOffset}return this.each(hasScrollTop?function(){this.scrollTop=value}:function(){this.scrollTo(this.scrollX,value)})},scrollLeft:function(value){if(!this.length){return}var hasScrollLeft="scrollLeft" in this[0];if(value===undefined){return hasScrollLeft?this[0].scrollLeft:this[0].pageXOffset}return this.each(hasScrollLeft?function(){this.scrollLeft=value}:function(){this.scrollTo(value,this.scrollY)})},position:function(){if(!this.length){return}var elem=this[0],offsetParent=this.offsetParent(),offset=this.offset(),parentOffset=rootNodeRE.test(offsetParent[0].nodeName)?{top:0,left:0}:offsetParent.offset();offset.top-=parseFloat($(elem).css("margin-top"))||0;offset.left-=parseFloat($(elem).css("margin-left"))||0;parentOffset.top+=parseFloat($(offsetParent[0]).css("border-top-width"))||0;parentOffset.left+=parseFloat($(offsetParent[0]).css("border-left-width"))||0;return{top:offset.top-parentOffset.top,left:offset.left-parentOffset.left}},offsetParent:function(){return this.map(function(){var parent=this.offsetParent||document.body;while(parent&&!rootNodeRE.test(parent.nodeName)&&$(parent).css("position")=="static"){parent=parent.offsetParent}return parent})}};$.fn.detach=$.fn.remove;["width","height"].forEach(function(dimension){var dimensionProperty=dimension.replace(/./,function(m){return m[0].toUpperCase()});$.fn[dimension]=function(value){var offset,el=this[0];if(value===undefined){return isWindow(el)?el["inner"+dimensionProperty]:isDocument(el)?el.documentElement["scroll"+dimensionProperty]:(offset=this.offset())&&offset[dimension]}else{return this.each(function(idx){el=$(this);el.css(dimension,funcArg(this,value,idx,el[dimension]()))})}}});function traverseNode(node,fun){fun(node);for(var i=0,len=node.childNodes.length;i<len;i++){traverseNode(node.childNodes[i],fun)}}adjacencyOperators.forEach(function(operator,operatorIndex){var inside=operatorIndex%2;$.fn[operator]=function(){var argType,nodes=$.map(arguments,function(arg){var arr=[];argType=type(arg);if(argType=="array"){arg.forEach(function(el){if(el.nodeType!==undefined){return arr.push(el)}else{if($.zepto.isZ(el)){return arr=arr.concat(el.get())}}arr=arr.concat(zepto.fragment(el))});return arr}return argType=="object"||arg==null?arg:zepto.fragment(arg)}),parent,copyByClone=this.length>1;if(nodes.length<1){return this}return this.each(function(_,target){parent=inside?target:target.parentNode;target=operatorIndex==0?target.nextSibling:operatorIndex==1?target.firstChild:operatorIndex==2?target:null;var parentInDocument=$.contains(document.documentElement,parent);nodes.forEach(function(node){if(copyByClone){node=node.cloneNode(true)}else{if(!parent){return $(node).remove()}}parent.insertBefore(node,target);if(parentInDocument){traverseNode(node,function(el){if(el.nodeName!=null&&el.nodeName.toUpperCase()==="SCRIPT"&&(!el.type||el.type==="text/javascript")&&!el.src){var target=el.ownerDocument?el.ownerDocument.defaultView:window;target["eval"].call(target,el.innerHTML)}})}})})};$.fn[inside?operator+"To":"insert"+(operatorIndex?"Before":"After")]=function(html){$(html)[operator](this);return this}});zepto.Z.prototype=Z.prototype=$.fn;zepto.uniq=uniq;zepto.deserializeValue=deserializeValue;$.zepto=zepto;return $})();window.Zepto=Zepto;window.$===undefined&&(window.$=Zepto);(function($){var _zid=1,undefined,slice=Array.prototype.slice,isFunction=$.isFunction,isString=function(obj){return typeof obj=="string"},handlers={},specialEvents={},focusinSupported="onfocusin" in window,focus={focus:"focusin",blur:"focusout"},hover={mouseenter:"mouseover",mouseleave:"mouseout"};specialEvents.click=specialEvents.mousedown=specialEvents.mouseup=specialEvents.mousemove="MouseEvents";function zid(element){return element._zid||(element._zid=_zid++)}function findHandlers(element,event,fn,selector){event=parse(event);if(event.ns){var matcher=matcherFor(event.ns)}return(handlers[zid(element)]||[]).filter(function(handler){return handler&&(!event.e||handler.e==event.e)&&(!event.ns||matcher.test(handler.ns))&&(!fn||zid(handler.fn)===zid(fn))&&(!selector||handler.sel==selector)})}function parse(event){var parts=(""+event).split(".");return{e:parts[0],ns:parts.slice(1).sort().join(" ")}}function matcherFor(ns){return new RegExp("(?:^| )"+ns.replace(" "," .* ?")+"(?: |$)")}function eventCapture(handler,captureSetting){return handler.del&&(!focusinSupported&&(handler.e in focus))||!!captureSetting}function realEvent(type){return hover[type]||(focusinSupported&&focus[type])||type}function add(element,events,fn,data,selector,delegator,capture){var id=zid(element),set=(handlers[id]||(handlers[id]=[]));events.split(/\s/).forEach(function(event){if(event=="ready"){return $(document).ready(fn)}var handler=parse(event);handler.fn=fn;handler.sel=selector;if(handler.e in hover){fn=function(e){var related=e.relatedTarget;if(!related||(related!==this&&!$.contains(this,related))){return handler.fn.apply(this,arguments)}}}handler.del=delegator;var callback=delegator||fn;handler.proxy=function(e){e=compatible(e);if(e.isImmediatePropagationStopped()){return}e.data=data;var result=callback.apply(element,e._args==undefined?[e]:[e].concat(e._args));if(result===false){e.preventDefault(),e.stopPropagation()}return result};handler.i=set.length;set.push(handler);if("addEventListener" in element){element.addEventListener(realEvent(handler.e),handler.proxy,eventCapture(handler,capture))}})}function remove(element,events,fn,selector,capture){var id=zid(element);(events||"").split(/\s/).forEach(function(event){findHandlers(element,event,fn,selector).forEach(function(handler){delete handlers[id][handler.i];if("removeEventListener" in element){element.removeEventListener(realEvent(handler.e),handler.proxy,eventCapture(handler,capture))}})})}$.event={add:add,remove:remove};$.proxy=function(fn,context){var args=(2 in arguments)&&slice.call(arguments,2);if(isFunction(fn)){var proxyFn=function(){return fn.apply(context,args?args.concat(slice.call(arguments)):arguments)};proxyFn._zid=zid(fn);return proxyFn}else{if(isString(context)){if(args){args.unshift(fn[context],fn);return $.proxy.apply(null,args)}else{return $.proxy(fn[context],fn)}}else{throw new TypeError("expected function")}}};$.fn.bind=function(event,data,callback){return this.on(event,data,callback)};$.fn.unbind=function(event,callback){return this.off(event,callback)};$.fn.one=function(event,selector,data,callback){return this.on(event,selector,data,callback,1)};var returnTrue=function(){return true},returnFalse=function(){return false},ignoreProperties=/^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/,eventMethods={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};function compatible(event,source){if(source||!event.isDefaultPrevented){source||(source=event);$.each(eventMethods,function(name,predicate){var sourceMethod=source[name];event[name]=function(){this[predicate]=returnTrue;return sourceMethod&&sourceMethod.apply(source,arguments)};event[predicate]=returnFalse});event.timeStamp||(event.timeStamp=Date.now());if(source.defaultPrevented!==undefined?source.defaultPrevented:"returnValue" in source?source.returnValue===false:source.getPreventDefault&&source.getPreventDefault()){event.isDefaultPrevented=returnTrue}}return event}function createProxy(event){var key,proxy={originalEvent:event};for(key in event){if(!ignoreProperties.test(key)&&event[key]!==undefined){proxy[key]=event[key]}}return compatible(proxy,event)}$.fn.delegate=function(selector,event,callback){return this.on(event,selector,callback)};$.fn.undelegate=function(selector,event,callback){return this.off(event,selector,callback)};$.fn.live=function(event,callback){$(document.body).delegate(this.selector,event,callback);return this};$.fn.die=function(event,callback){$(document.body).undelegate(this.selector,event,callback);return this};$.fn.on=function(event,selector,data,callback,one){var autoRemove,delegator,$this=this;if(event&&!isString(event)){$.each(event,function(type,fn){$this.on(type,selector,data,fn,one)});return $this}if(!isString(selector)&&!isFunction(callback)&&callback!==false){callback=data,data=selector,selector=undefined}if(callback===undefined||data===false){callback=data,data=undefined}if(callback===false){callback=returnFalse}return $this.each(function(_,element){if(one){autoRemove=function(e){remove(element,e.type,callback);return callback.apply(this,arguments)}}if(selector){delegator=function(e){var evt,match=$(e.target).closest(selector,element).get(0);if(match&&match!==element){evt=$.extend(createProxy(e),{currentTarget:match,liveFired:element});return(autoRemove||callback).apply(match,[evt].concat(slice.call(arguments,1)))}}}add(element,event,callback,data,selector,delegator||autoRemove)})};$.fn.off=function(event,selector,callback){var $this=this;if(event&&!isString(event)){$.each(event,function(type,fn){$this.off(type,selector,fn)});return $this}if(!isString(selector)&&!isFunction(callback)&&callback!==false){callback=selector,selector=undefined}if(callback===false){callback=returnFalse}return $this.each(function(){remove(this,event,callback,selector)})};$.fn.trigger=function(event,args){event=(isString(event)||$.isPlainObject(event))?$.Event(event):compatible(event);event._args=args;return this.each(function(){if(event.type in focus&&typeof this[event.type]=="function"){this[event.type]()}else{if("dispatchEvent" in this){this.dispatchEvent(event)}else{$(this).triggerHandler(event,args)}}})};$.fn.triggerHandler=function(event,args){var e,result;this.each(function(i,element){e=createProxy(isString(event)?$.Event(event):event);e._args=args;e.target=element;$.each(findHandlers(element,event.type||event),function(i,handler){result=handler.proxy(e);if(e.isImmediatePropagationStopped()){return false}})});return result};("focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error").split(" ").forEach(function(event){$.fn[event]=function(callback){return(0 in arguments)?this.bind(event,callback):this.trigger(event)}});$.Event=function(type,props){if(!isString(type)){props=type,type=props.type}var event=document.createEvent(specialEvents[type]||"Events"),bubbles=true;if(props){for(var name in props){(name=="bubbles")?(bubbles=!!props[name]):(event[name]=props[name])}}event.initEvent(type,bubbles,true);return compatible(event)}})(Zepto);(function($){var jsonpID=+new Date(),document=window.document,key,name,rscript=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,scriptTypeRE=/^(?:text|application)\/javascript/i,xmlTypeRE=/^(?:text|application)\/xml/i,jsonType="application/json",htmlType="text/html",blankRE=/^\s*$/,originAnchor=document.createElement("a");originAnchor.href=window.location.href;function triggerAndReturn(context,eventName,data){var event=$.Event(eventName);$(context).trigger(event,data);return !event.isDefaultPrevented()}function triggerGlobal(settings,context,eventName,data){if(settings.global){return triggerAndReturn(context||document,eventName,data)}}$.active=0;function ajaxStart(settings){if(settings.global&&$.active++===0){triggerGlobal(settings,null,"ajaxStart")}}function ajaxStop(settings){if(settings.global&&!(--$.active)){triggerGlobal(settings,null,"ajaxStop")}}function ajaxBeforeSend(xhr,settings){var context=settings.context;if(settings.beforeSend.call(context,xhr,settings)===false||triggerGlobal(settings,context,"ajaxBeforeSend",[xhr,settings])===false){return false}triggerGlobal(settings,context,"ajaxSend",[xhr,settings])}function ajaxSuccess(data,xhr,settings,deferred){var context=settings.context,status="success";settings.success.call(context,data,status,xhr);if(deferred){deferred.resolveWith(context,[data,status,xhr])}triggerGlobal(settings,context,"ajaxSuccess",[xhr,settings,data]);ajaxComplete(status,xhr,settings)}function ajaxError(error,type,xhr,settings,deferred){var context=settings.context;settings.error.call(context,xhr,type,error);if(deferred){deferred.rejectWith(context,[xhr,type,error])}triggerGlobal(settings,context,"ajaxError",[xhr,settings,error||type]);ajaxComplete(type,xhr,settings)}function ajaxComplete(status,xhr,settings){var context=settings.context;settings.complete.call(context,xhr,status);triggerGlobal(settings,context,"ajaxComplete",[xhr,settings]);ajaxStop(settings)}function ajaxDataFilter(data,type,settings){if(settings.dataFilter==empty){return data}var context=settings.context;return settings.dataFilter.call(context,data,type)}function empty(){}$.ajaxJSONP=function(options,deferred){if(!("type" in options)){return $.ajax(options)}var _callbackName=options.jsonpCallback,callbackName=($.isFunction(_callbackName)?_callbackName():_callbackName)||("Zepto"+(jsonpID++)),script=document.createElement("script"),originalCallback=window[callbackName],responseData,abort=function(errorType){$(script).triggerHandler("error",errorType||"abort")},xhr={abort:abort},abortTimeout;if(deferred){deferred.promise(xhr)}$(script).on("load error",function(e,errorType){clearTimeout(abortTimeout);$(script).off().remove();if(e.type=="error"||!responseData){ajaxError(null,errorType||"error",xhr,options,deferred)}else{ajaxSuccess(responseData[0],xhr,options,deferred)}window[callbackName]=originalCallback;if(responseData&&$.isFunction(originalCallback)){originalCallback(responseData[0])}originalCallback=responseData=undefined});if(ajaxBeforeSend(xhr,options)===false){abort("abort");return xhr}window[callbackName]=function(){responseData=arguments};script.src=options.url.replace(/\?(.+)=\?/,"?$1="+callbackName);document.head.appendChild(script);if(options.timeout>0){abortTimeout=setTimeout(function(){abort("timeout")},options.timeout)}return xhr};$.ajaxSettings={type:"GET",beforeSend:empty,success:empty,error:empty,complete:empty,context:null,global:true,xhr:function(){return new window.XMLHttpRequest()},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:jsonType,xml:"application/xml, text/xml",html:htmlType,text:"text/plain"},crossDomain:false,timeout:0,processData:true,cache:true,dataFilter:empty};function mimeToDataType(mime){if(mime){mime=mime.split(";",2)[0]}return mime&&(mime==htmlType?"html":mime==jsonType?"json":scriptTypeRE.test(mime)?"script":xmlTypeRE.test(mime)&&"xml")||"text"}function appendQuery(url,query){if(query==""){return url}return(url+"&"+query).replace(/[&?]{1,2}/,"?")}function serializeData(options){if(options.processData&&options.data&&$.type(options.data)!="string"){options.data=$.param(options.data,options.traditional)}if(options.data&&(!options.type||options.type.toUpperCase()=="GET"||"jsonp"==options.dataType)){options.url=appendQuery(options.url,options.data),options.data=undefined}}$.ajax=function(options){var settings=$.extend({},options||{}),deferred=$.Deferred&&$.Deferred(),urlAnchor,hashIndex;for(key in $.ajaxSettings){if(settings[key]===undefined){settings[key]=$.ajaxSettings[key]}}ajaxStart(settings);if(!settings.crossDomain){urlAnchor=document.createElement("a");urlAnchor.href=settings.url;urlAnchor.href=urlAnchor.href;settings.crossDomain=(originAnchor.protocol+"//"+originAnchor.host)!==(urlAnchor.protocol+"//"+urlAnchor.host)}if(!settings.url){settings.url=window.location.toString()}if((hashIndex=settings.url.indexOf("#"))>-1){settings.url=settings.url.slice(0,hashIndex)}serializeData(settings);var dataType=settings.dataType,hasPlaceholder=/\?.+=\?/.test(settings.url);if(hasPlaceholder){dataType="jsonp"}if(settings.cache===false||((!options||options.cache!==true)&&("script"==dataType||"jsonp"==dataType))){settings.url=appendQuery(settings.url,"_="+Date.now())}if("jsonp"==dataType){if(!hasPlaceholder){settings.url=appendQuery(settings.url,settings.jsonp?(settings.jsonp+"=?"):settings.jsonp===false?"":"callback=?")}return $.ajaxJSONP(settings,deferred)}var mime=settings.accepts[dataType],headers={},setHeader=function(name,value){headers[name.toLowerCase()]=[name,value]},protocol=/^([\w-]+:)\/\//.test(settings.url)?RegExp.$1:window.location.protocol,xhr=settings.xhr(),nativeSetHeader=xhr.setRequestHeader,abortTimeout;if(deferred){deferred.promise(xhr)}if(!settings.crossDomain){setHeader("X-Requested-With","XMLHttpRequest")}setHeader("Accept",mime||"*/*");if(mime=settings.mimeType||mime){if(mime.indexOf(",")>-1){mime=mime.split(",",2)[0]}xhr.overrideMimeType&&xhr.overrideMimeType(mime)}if(settings.contentType||(settings.contentType!==false&&settings.data&&settings.type.toUpperCase()!="GET")){setHeader("Content-Type",settings.contentType||"application/x-www-form-urlencoded")}if(settings.headers){for(name in settings.headers){setHeader(name,settings.headers[name])}}xhr.setRequestHeader=setHeader;xhr.onreadystatechange=function(){if(xhr.readyState==4){xhr.onreadystatechange=empty;clearTimeout(abortTimeout);var result,error=false;if((xhr.status>=200&&xhr.status<300)||xhr.status==304||(xhr.status==0&&protocol=="file:")){dataType=dataType||mimeToDataType(settings.mimeType||xhr.getResponseHeader("content-type"));if(xhr.responseType=="arraybuffer"||xhr.responseType=="blob"){result=xhr.response}else{result=xhr.responseText;try{result=ajaxDataFilter(result,dataType,settings);if(dataType=="script"){(1,eval)(result)}else{if(dataType=="xml"){result=xhr.responseXML}else{if(dataType=="json"){result=blankRE.test(result)?null:$.parseJSON(result)}}}}catch(e){error=e}if(error){return ajaxError(error,"parsererror",xhr,settings,deferred)}}ajaxSuccess(result,xhr,settings,deferred)}else{ajaxError(xhr.statusText||null,xhr.status?"error":"abort",xhr,settings,deferred)}}};if(ajaxBeforeSend(xhr,settings)===false){xhr.abort();ajaxError(null,"abort",xhr,settings,deferred);return xhr}var async="async" in settings?settings.async:true;xhr.open(settings.type,settings.url,async,settings.username,settings.password);if(settings.xhrFields){for(name in settings.xhrFields){xhr[name]=settings.xhrFields[name]}}for(name in headers){nativeSetHeader.apply(xhr,headers[name])}if(settings.timeout>0){abortTimeout=setTimeout(function(){xhr.onreadystatechange=empty;xhr.abort();ajaxError(null,"timeout",xhr,settings,deferred)},settings.timeout)}xhr.send(settings.data?settings.data:null);return xhr};function parseArguments(url,data,success,dataType){if($.isFunction(data)){dataType=success,success=data,data=undefined}if(!$.isFunction(success)){dataType=success,success=undefined}return{url:url,data:data,success:success,dataType:dataType}}$.get=function(){return $.ajax(parseArguments.apply(null,arguments))};$.post=function(){var options=parseArguments.apply(null,arguments);options.type="POST";return $.ajax(options)};$.getJSON=function(){var options=parseArguments.apply(null,arguments);options.dataType="json";return $.ajax(options)};$.fn.load=function(url,data,success){if(!this.length){return this}var self=this,parts=url.split(/\s/),selector,options=parseArguments(url,data,success),callback=options.success;if(parts.length>1){options.url=parts[0],selector=parts[1]}options.success=function(response){self.html(selector?$("<div>").html(response.replace(rscript,"")).find(selector):response);callback&&callback.apply(self,arguments)};$.ajax(options);return this};var escape=encodeURIComponent;function serialize(params,obj,traditional,scope){var type,array=$.isArray(obj),hash=$.isPlainObject(obj);$.each(obj,function(key,value){type=$.type(value);if(scope){key=traditional?scope:scope+"["+(hash||type=="object"||type=="array"?key:"")+"]"}if(!scope&&array){params.add(value.name,value.value)}else{if(type=="array"||(!traditional&&type=="object")){serialize(params,value,traditional,key)}else{params.add(key,value)}}})}$.param=function(obj,traditional){var params=[];params.add=function(key,value){if($.isFunction(value)){value=value()}if(value==null){value=""}this.push(escape(key)+"="+escape(value))};serialize(params,obj,traditional);return params.join("&").replace(/%20/g,"+")}})(Zepto);(function($){$.fn.serializeArray=function(){var name,type,result=[],add=function(value){if(value.forEach){return value.forEach(add)}result.push({name:name,value:value})};if(this[0]){$.each(this[0].elements,function(_,field){type=field.type,name=field.name;if(name&&field.nodeName.toLowerCase()!="fieldset"&&!field.disabled&&type!="submit"&&type!="reset"&&type!="button"&&type!="file"&&((type!="radio"&&type!="checkbox")||field.checked)){add($(field).val())}})}return result};$.fn.serialize=function(){var result=[];this.serializeArray().forEach(function(elm){result.push(encodeURIComponent(elm.name)+"="+encodeURIComponent(elm.value))});return result.join("&")};$.fn.submit=function(callback){if(0 in arguments){this.bind("submit",callback)}else{if(this.length){var event=$.Event("submit");this.eq(0).trigger(event);if(!event.isDefaultPrevented()){this.get(0).submit()}}}return this}})(Zepto);(function(){try{getComputedStyle(undefined)}catch(e){var nativeGetComputedStyle=getComputedStyle;window.getComputedStyle=function(element,pseudoElement){try{return nativeGetComputedStyle(element,pseudoElement)}catch(e){return null}}}})();return Zepto}));
(function(a){function b(w,q){var o=this.os={},f=this.browser={},x=w.match(/Web[kK]it[\/]{0,1}([\d.]+)/),c=w.match(/(Android);?[\s\/]+([\d.]+)?/),p=!!w.match(/\(Macintosh\; Intel /),k=w.match(/(iPad).*OS\s([\d_]+)/),m=w.match(/(iPod)(.*OS\s([\d_]+))?/),l=!k&&w.match(/(iPhone\sOS)\s([\d_]+)/),y=w.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),A=/Win\d{2}|Windows/.test(q),B=w.match(/Windows Phone ([\d.]+)/),v=y&&w.match(/TouchPad/),n=w.match(/Kindle\/([\d.]+)/),u=w.match(/Silk\/([\d._]+)/),e=w.match(/(BlackBerry).*Version\/([\d.]+)/),d=w.match(/(BB10).*Version\/([\d.]+)/),s=w.match(/(RIM\sTablet\sOS)\s([\d.]+)/),r=w.match(/PlayBook/),g=w.match(/Chrome\/([\d.]+)/)||w.match(/CriOS\/([\d.]+)/),h=w.match(/Firefox\/([\d.]+)/),i=w.match(/\((?:Mobile|Tablet); rv:([\d.]+)\).*Firefox\/[\d.]+/),j=w.match(/MSIE\s([\d.]+)/)||w.match(/Trident\/[\d](?=[^\?]+).*rv:([0-9.].)/),z=!g&&w.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/),t=z||w.match(/Version\/([\d.]+)([^S](Safari)|[^M]*(Mobile)[^S]*(Safari))/);if(f.webkit=!!x){f.version=x[1]}if(c){o.android=true,o.version=c[2]}if(l&&!m){o.ios=o.iphone=true,o.version=l[2].replace(/_/g,".")}if(k){o.ios=o.ipad=true,o.version=k[2].replace(/_/g,".")}if(m){o.ios=o.ipod=true,o.version=m[3]?m[3].replace(/_/g,"."):null}if(B){o.wp=true,o.version=B[1]}if(y){o.webos=true,o.version=y[2]}if(v){o.touchpad=true}if(e){o.blackberry=true,o.version=e[2]}if(d){o.bb10=true,o.version=d[2]}if(s){o.rimtabletos=true,o.version=s[2]}if(r){f.playbook=true}if(n){o.kindle=true,o.version=n[1]}if(u){f.silk=true,f.version=u[1]}if(!u&&o.android&&w.match(/Kindle Fire/)){f.silk=true}if(g){f.chrome=true,f.version=g[1]}if(h){f.firefox=true,f.version=h[1]}if(i){o.firefoxos=true,o.version=i[1]}if(j){f.ie=true,f.version=j[1]}if(t&&(p||o.ios||A)){f.safari=true;if(!o.ios){f.version=t[1]}}if(z){f.webview=true}o.tablet=!!(k||r||(c&&!w.match(/Mobile/))||(h&&w.match(/Tablet/))||(j&&!w.match(/Phone/)&&w.match(/Touch/)));o.phone=!!(!o.tablet&&!o.ipod&&(c||l||y||e||d||(g&&w.match(/Android/))||(g&&w.match(/CriOS\/([\d.]+)/))||(h&&w.match(/Mobile/))||(j&&w.match(/Touch/))))}b.call(a,navigator.userAgent,navigator.platform);a.__detect=b})(Zepto);
(function(a){var d={},e=a.fn.data,c=a.camelCase,g=a.expando="Zepto"+(+new Date()),f=[];function h(m,l){var k=m[g],n=k&&d[k];if(l===undefined){return n||i(m)}else{if(n){if(l in n){return n[l]}var j=c(l);if(j in n){return n[j]}}return e.call(a(m),l)}}function i(l,k,n){var j=l[g]||(l[g]=++a.uuid),m=d[j]||(d[j]=b(l));if(k!==undefined){m[c(k)]=n}return m}function b(j){var k={};a.each(j.attributes||f,function(m,l){if(l.name.indexOf("data-")==0){k[c(l.name.replace("data-",""))]=a.zepto.deserializeValue(l.value)}});return k}a.fn.data=function(j,k){return k===undefined?a.isPlainObject(j)?this.each(function(l,m){a.each(j,function(n,o){i(m,n,o)})}):(0 in this?h(this[0],j):undefined):this.each(function(){i(this,j,k)})};a.fn.removeData=function(j){if(typeof j=="string"){j=j.split(/\s+/)}return this.each(function(){var k=this[g],l=k&&d[k];if(l){a.each(j||l,function(m){delete l[j?c(this):m]})}})};["remove","empty"].forEach(function(j){var k=a.fn[j];a.fn[j]=function(){var l=this.find("*");if(j==="remove"){l=l.add(this)}l.removeData();return k.call(this)}})})(Zepto);
(function(a,r){var j="",h,s={Webkit:"webkit",Moz:"",O:"o"},l=document.createElement("div"),k=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,m,p,o,q,n,d,c,e,b,f={};function g(t){return t.replace(/([a-z])([A-Z])/,"$1-$2").toLowerCase()}function i(t){return h?h+t:t.toLowerCase()}a.each(s,function(u,t){if(l.style[u+"TransitionProperty"]!==r){j="-"+u.toLowerCase()+"-";h=t;return false}});m=j+"transform";f[p=j+"transition-property"]=f[o=j+"transition-duration"]=f[n=j+"transition-delay"]=f[q=j+"transition-timing-function"]=f[d=j+"animation-name"]=f[c=j+"animation-duration"]=f[b=j+"animation-delay"]=f[e=j+"animation-timing-function"]="";a.fx={off:(h===r&&l.style.transitionProperty===r),speeds:{_default:400,fast:200,slow:600},cssPrefix:j,transitionEnd:i("TransitionEnd"),animationEnd:i("AnimationEnd")};a.fn.animate=function(x,v,w,t,u){if(a.isFunction(v)){t=v,w=r,v=r}if(a.isFunction(w)){t=w,w=r}if(a.isPlainObject(v)){w=v.easing,t=v.complete,u=v.delay,v=v.duration}if(v){v=(typeof v=="number"?v:(a.fx.speeds[v]||a.fx.speeds._default))/1000}if(u){u=parseFloat(u)/1000}return this.anim(x,v,w,t,u)};a.fn.anim=function(C,x,y,t,w){var B,v={},u,E="",D=this,F,z=a.fx.transitionEnd,A=false;if(x===r){x=a.fx.speeds._default/1000}if(w===r){w=0}if(a.fx.off){x=0}if(typeof C=="string"){v[d]=C;v[c]=x+"s";v[b]=w+"s";v[e]=(y||"linear");z=a.fx.animationEnd}else{u=[];for(B in C){if(k.test(B)){E+=B+"("+C[B]+") "}else{v[B]=C[B],u.push(g(B))}}if(E){v[m]=E,u.push(m)}if(x>0&&typeof C==="object"){v[p]=u.join(", ");v[o]=x+"s";v[n]=w+"s";v[q]=(y||"linear")}}F=function(G){if(typeof G!=="undefined"){if(G.target!==G.currentTarget){return}a(G.target).unbind(z,F)}else{a(this).unbind(z,F)}A=true;a(this).css(f);t&&t.call(this)};if(x>0){this.bind(z,F);setTimeout(function(){if(A){return}F.call(D)},((x+w)*1000)+25)}this.size()&&this.get(0).clientLeft;this.css(v);if(x<=0){setTimeout(function(){D.each(function(){F.call(this)})},0)}return this};l=null})(Zepto);
var Mini2=Mini2||{};Mini2._startTime=new Date().getTime();Mini2.classDefine={};Mini2.singleton={};Mini2.identity=0;enumerables=true;enumerablesTest={toString:1};Mini2.getIdentity=function(){Mini2.identity++;return Mini2.identity};Mini2.newId=Mini2.getIdentity;Mini2.ClassType=function(){};Mini2.extend=function(b,c){var a=function(){};a.prototype=c.prototype;b.prototype=new a();b.prototype.constructor=b;b.base=c.prototype;if(c.prototype.constructor==Object.prototype.constructor){c.prototype.constructor=c}return b};Mini2.overriden=function(b,c){if(c){var d=b.prototype;for(var a in c){d[a]=c[a]}}};Mini2.apply=function(f,a,b){if(b){Mini2.apply(f,b)}if(f&&a&&typeof a==="object"){var c,d,e;for(c in a){f[c]=a[c]}}return f};Mini2.applyIf=function(b,a){if(b&&a){for(var d in a){if(typeof b[d]=="undefined"){b[d]=a[d]}}}return b};Mini2.ns=function(c){var d,f=c.split("."),b=f.length,e=Mini2,a;for(a=1;a<b;a++){d=f[a];if(e[d]==undefined){e[d]={}}e=e[d]}};Mini2.defineClass=function(c,b){if(!c){return}var h=c.split("."),e=h.length,a=h[e-1],g=Mini2,d,f;for(d=1;d<e-1;d++){f=h[d];if(g[f]==undefined){g[f]={}}g=g[f]}g[a]=b;return a};Mini2.define=function(fullname,codeObj,returnFn){var F,extend,extendObj,name,funType;if(codeObj instanceof Function){Mini2.classDefine[fullname]=codeObj;return codeObj}F=function(){return((typeof this._returnFn=="function")?this._returnFn((arguments.length>0?arguments[0]:false),(arguments.length>1?arguments[1]:false)):this._returnFn)};extend=codeObj.extend;if(extend!=undefined&&extend!=null&&extend!=""){extendObj=Mini2.classDefine[extend];if(extendObj==undefined){throw new Error(fullname+"继承对象 "+extend+" 不存在")}Mini2.extend(F,extendObj)}Mini2.overriden(F,codeObj);if(returnFn!=undefined){F.prototype._returnFn=returnFn}Mini2.classDefine[fullname]=F;name=Mini2.defineClass(fullname,F);funType=new Mini2.ClassType();funType.fullName=fullname;funType.name=name;F.prototype.getType=function(){return eval("this.classType")};F.prototype.classType=funType;if(codeObj.alternateClassName){var i,altName,altNames=codeObj.alternateClassName;for(i=0;i<altNames.length;i++){altName=altNames[i];Mini2.classDefine[altName]=F;Mini2.defineClass(altName,F)}}if(codeObj.singleton){Mini2.create(fullname)}return F};Mini2.createSingleton=function(c,d,h){var g=Mini2.singleton[d],b,a,e;if(g!=undefined){return g}g=new c(h);g.muid="mu_"+Mini2.newId();for(var f in h){newObj[f]=h[f]}Mini2.singleton[d]=g;Mini2.defineClass(d,g);if(c.prototype.alternateClassName){b=c.prototype.alternateClassName;for(e=0;e<b.length;e++){a=b[e];Mini2.singleton[a]=g;Mini2.defineClass(a,g)}}return g};Mini2.create=function(b,d){var a=Mini2.classDefine[b],c=null;if(undefined==a){throw new Error("对象 "+b+" 不存在, 无法创建.")}d=d||{};if(a.prototype.singleton){c=Mini2.createSingleton(a,b,d)}else{d.muid="mu_"+Mini2.newId();c=new a(d);if(a.prototype._returnFn==undefined){Mini2.apply(c,d)}}return c};Mini2.apply(Mini2,{emptyFn:function(){},baseCSSPrefix:"mi-",toString:Object.prototype.toString,defaultEl:$("<div></div>"),isEmpty:function(a){if(a==undefined||a==null){return true}if(typeof a=="string"){if(a==""){return true}}return false},getBody:function(){return $(document.body)},iterableRe:/\[object\s*(?:Array|Arguments|\w*Collection|\w*List|HTML\s+document\.all\s+class)\]/,join:function(a){var b=a.join("");return b},$joinStr:function(a){var b=a.join("");return $(b)},typeOf:function(c){var a,b;if(c===null){return"null"}a=typeof c;if(a==="undefined"||a==="string"||a==="number"||a==="boolean"){return a}b=Object.prototype.toString.call(c);switch(b){case"[object Array]":return"array";case"[object Date]":return"date";case"[object Boolean]":return"boolean";case"[object Number]":return"number";case"[object RegExp]":return"regexp"}if(a==="function"){return"function"}if(a==="object"){if(c.nodeType!==undefined){if(c.nodeType===3){return(nonWhitespaceRe).test(c.nodeValue)?"textnode":"whitespace"}else{return"element"}}return"object"}},clone:function(c){var g,b,d,e,a,f;if(c===null||c===undefined){return c}if(c.nodeType&&c.cloneNode){return c.cloneNode(true)}g=Object.prototype.toString.call(c);if(g==="[object Date]"){return new Date(c.getTime())}if(g==="[object Array]"){b=c.length;a=[];while(b--){a[b]=Mini2.clone(c[b])}}else{if(g==="[object Object]"&&c.constructor===Object){a={};for(f in c){a[f]=Mini2.clone(c[f])}if(enumerables){for(d=enumerables.length;d--;){e=enumerables[d];if(c.hasOwnProperty(e)){a[e]=c[e]}}}}}return a||c},isString:function(a){if(a===false){return}return(typeof a=="string")||(a instanceof String)},isDate:function(a){if(a===false){return}return Object.prototype.toString.call(a)==="[object Date]"},isArray:function(a){return $.isArray(a)},isFunction:function(a){return $.isFunction(a)},isBoolean:function(a){return(typeof a==="boolean")},isNumber:function(a){return(typeof a==="number")},isDom:function(d){if(!d){return false}var c=d.toString();var a=c.length;if(a<12){return false}var b=c.substr(0,12);return(b==="[object HTML")},type:function(a){},isIterable:function(a){if(!a||typeof a.length!=="number"||typeof a==="string"){return false}if(a.muid){return true}if(!a.propertyIsEnumerable){return !!a.item}if(a.hasOwnProperty("length")&&!a.propertyIsEnumerable("length")){return true}return this.iterableRe.test(Object.prototype.toString.call(a))},functionFactory:function(){var c=this,a=Array.prototype.slice.call(arguments),b;if(Mini2.isSandboxed){b=a.length;if(b>0){b--;a[b]="var Mini=window."+Mini2.name+";"+a[b]}}return Function.prototype.constructor.apply(Function.prototype,a)},isDefined:function(a){return typeof a!=="undefined"},alertProps:function(b){var c="";for(var a in b){c+=a+" = "+b[a]+"\n"}alert(c)}});Mini2.format=function(b,a){if(arguments.length==1){return function(){var c=$.makeArray(arguments);c.unshift(b);return $.format.apply(this,c)}}if(arguments.length>2&&a.constructor!=Array){a=$.makeArray(arguments).slice(1)}if(a.constructor!=Array){a=[a]}$.each(a,function(c,d){b=b.replace(new RegExp("\\{"+c+"\\}","g"),d)});return b};
Mini2.Logger=new function(){Mini2.apply(this,{space:-4,begin:function(h){var e=this,a=window.console,f="",b=new Date(),g="["+b.getHours()+":"+b.getMinutes()+":"+b.getSeconds()+"] ";e.space+=4;if(!h){return}for(var c=0;c<e.space;c++){f+=" "}if(a&&a.log){a.log(g+f+"【"+h+"】")}},end:function(b){var a=this;if(b){a.debug("【end】:"+b)}else{a.debug("【end】")}a.space-=4},error:function(h){var b=window.console,e,c=new Date(),g,f="";if(arguments.length>1){var a=[];for(var e=1;e<arguments.length;e++){a.push(arguments[e-1])}}for(e=0;e<this.space;e++){f+=" "}g=c.getHours()+":"+c.getMinutes()+":"+c.getSeconds()+"  ";if(b&&b.log){b.log(g+f+"[ERROR]"+h)}},debug:function(j,f){var e=this,a=window.console,c,b=new Date(),h="["+b.getHours()+":"+b.getMinutes()+":"+b.getSeconds()+"] ",g="";for(c=0;c<e.space;c++){g+=" "}if(arguments.length>1){j=$.format(j,f)}if(a&&a.log){a.log(h+g+j)}}})};
Mini2.Date=new function(){var h=this,g=/(\\.)/g,c=/([gGhHisucUOPZ]|MS)/,b=/([djzmnYycU]|MS)/,f=/\\/gi,e=/\{(\d+)\}/g,d=new RegExp("\\/Date\\(([-+])?(\\d+)(?:[+-]\\d{4})?\\)\\/"),a=["var me = this, dt, y, m, d, h, i, s, ms, o, O, z, zz, u, v, W, year, jan4, week1monday, daysInMonth, dayMatched,","def = me.defaults,","from = Mini2.Number.from,","results = String(input).match(me.parseRegexes[{0}]);","if(results){","{1}","if(u != null){","v = new Date(u * 1000);","}else{","dt = me.clearTime(new Date);","y = from(y, from(def.y, dt.getFullYear()));","m = from(m, from(def.m - 1, dt.getMonth()));","dayMatched = d !== undefined;","d = from(d, from(def.d, dt.getDate()));","if (!dayMatched) {","dt.setDate(1);","dt.setMonth(m);","dt.setFullYear(y);","daysInMonth = me.getDaysInMonth(dt);","if (d > daysInMonth) {","d = daysInMonth;","}","}","h  = from(h, from(def.h, dt.getHours()));","i  = from(i, from(def.i, dt.getMinutes()));","s  = from(s, from(def.s, dt.getSeconds()));","ms = from(ms, from(def.ms, dt.getMilliseconds()));","if(z >= 0 && y >= 0){","v = me.add(new Date(y < 100 ? 100 : y, 0, 1, h, i, s, ms), me.YEAR, y < 100 ? y - 100 : 0);","v = !strict? v : (strict === true && (z <= 364 || (me.isLeapYear(v) && z <= 365))? me.add(v, me.DAY, z) : null);","}else if(strict === true && !me.isValid(y, m + 1, d, h, i, s, ms)){","v = null;","}else{","if (W) {","year = y || (new Date()).getFullYear(),","jan4 = new Date(year, 0, 4, 0, 0, 0),","week1monday = new Date(jan4.getTime() - ((jan4.getDay() - 1) * 86400000));","v = Mini2.Date.clearTime(new Date(week1monday.getTime() + ((W - 1) * 604800000)));","} else {","v = me.add(new Date(y < 100 ? 100 : y, m, d, h, i, s, ms), me.YEAR, y < 100 ? y - 100 : 0);","}","}","}","}","if(v){","if(zz != null){","v = me.add(v, me.SECOND, -v.getTimezoneOffset() * 60 - zz);","}else if(o){","v = me.add(v, me.MINUTE, -v.getTimezoneOffset() + (sn == '+'? -1 : 1) * (hr * 60 + mn));","}","}","return v;"].join("\n");function i(k){var j=Array.prototype.slice.call(arguments,1);return k.replace(e,function(n,l){return j[l]})}Mini2.apply(h,{now:Date.now||function(){return +new Date()},toString:function(j){var k=Mini2.String.leftPad;return j.getFullYear()+"-"+k(j.getMonth()+1,2,"0")+"-"+k(j.getDate(),2,"0")+"T"+k(j.getHours(),2,"0")+":"+k(j.getMinutes(),2,"0")+":"+k(j.getSeconds(),2,"0")},getElapsed:function(j,k){return Math.abs(j-(k||h.now()))},useStrict:false,formatCodeToRegex:function(j,k){var l=h.parseCodes[j];if(l){l=typeof l=="function"?l():l;h.parseCodes[j]=l}return l?Mini2.applyIf({c:l.c?i(l.c,k||"{0}"):l.c},l):{g:0,c:null,s:Mini2.String.escapeRegex(j)}},parseFunctions:{MS:function(j,l){var k=(j||"").match(d);return k?new Date(((k[1]||"")+k[2])*1):null},time:function(j,l){var k=parseInt(j,10);if(k||k===0){return new Date(k)}return null},timestamp:function(j,l){var k=parseInt(j,10);if(k||k===0){return new Date(k*1000)}return null}},parseRegexes:[],formatFunctions:{MS:function(){return"\\/Date("+this.getTime()+")\\/"},time:function(){return this.getTime().toString()},timestamp:function(){return h.format(this,"U")}},y2kYear:50,MILLI:"ms",SECOND:"s",MINUTE:"mi",HOUR:"h",DAY:"d",MONTH:"mo",YEAR:"y",defaults:{},dayNames:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNumbers:{January:0,Jan:0,February:1,Feb:1,March:2,Mar:2,April:3,Apr:3,May:4,June:5,Jun:5,July:6,Jul:6,August:7,Aug:7,September:8,Sep:8,October:9,Oct:9,November:10,Nov:10,December:11,Dec:11},defaultFormat:"m/d/Y",getShortMonthName:function(j){return Mini2.Date.monthNames[j].substring(0,3)},getShortDayName:function(j){return Mini2.Date.dayNames[j].substring(0,3)},getMonthNumber:function(j){return Mini2.Date.monthNumbers[j.substring(0,1).toUpperCase()+j.substring(1,3).toLowerCase()]},formatContainsHourInfo:function(j){return c.test(j.replace(g,""))},formatContainsDateInfo:function(j){return b.test(j.replace(g,""))},unescapeFormat:function(j){return j.replace(f,"")},formatCodes:{d:"Mini2.String.leftPad(this.getDate(), 2, '0')",D:"Mini2.Date.getShortDayName(this.getDay())",j:"this.getDate()",l:"Mini2.Date.dayNames[this.getDay()]",N:"(this.getDay() ? this.getDay() : 7)",S:"Mini2.Date.getSuffix(this)",w:"this.getDay()",z:"Mini2.Date.getDayOfYear(this)",W:"Mini2.String.leftPad(Mini2.Date.getWeekOfYear(this), 2, '0')",F:"Mini2.Date.monthNames[this.getMonth()]",m:"Mini2.String.leftPad(this.getMonth() + 1, 2, '0')",M:"Mini2.Date.getShortMonthName(this.getMonth())",n:"(this.getMonth() + 1)",t:"Mini2.Date.getDaysInMonth(this)",L:"(Mini2.Date.isLeapYear(this) ? 1 : 0)",o:"(this.getFullYear() + (Mini2.Date.getWeekOfYear(this) == 1 && this.getMonth() > 0 ? +1 : (Mini2.Date.getWeekOfYear(this) >= 52 && this.getMonth() < 11 ? -1 : 0)))",Y:"Mini2.String.leftPad(this.getFullYear(), 4, '0')",y:"('' + this.getFullYear()).substring(2, 4)",a:"(this.getHours() < 12 ? 'am' : 'pm')",A:"(this.getHours() < 12 ? 'AM' : 'PM')",g:"((this.getHours() % 12) ? this.getHours() % 12 : 12)",G:"this.getHours()",h:"Mini2.String.leftPad((this.getHours() % 12) ? this.getHours() % 12 : 12, 2, '0')",H:"Mini2.String.leftPad(this.getHours(), 2, '0')",i:"Mini2.String.leftPad(this.getMinutes(), 2, '0')",s:"Mini2.String.leftPad(this.getSeconds(), 2, '0')",u:"Mini2.String.leftPad(this.getMilliseconds(), 3, '0')",O:"Mini2.Date.getGMTOffset(this)",P:"Mini2.Date.getGMTOffset(this, true)",T:"Mini2.Date.getTimezone(this)",Z:"(this.getTimezoneOffset() * -60)",c:function(){var j,k,n,o,m;for(j="Y-m-dTH:i:sP",k=[],n=0,o=j.length;n<o;++n){m=j.charAt(n);k.push(m=="T"?"'T'":h.getFormatCode(m))}return k.join(" + ")},U:"Math.round(this.getTime() / 1000)"},isValid:function(r,o,j,l,n,q,p){l=l||0;n=n||0;q=q||0;p=p||0;var k=h.add(new Date(r<100?100:r,o-1,j,l,n,q,p),h.YEAR,r<100?r-100:0);return r==k.getFullYear()&&o==k.getMonth()+1&&j==k.getDate()&&l==k.getHours()&&n==k.getMinutes()&&q==k.getSeconds()&&p==k.getMilliseconds()},parse:function(k,j,m){var l=h.parseFunctions;if(l[j]==null){h.createParser(j)}return l[j].call(h,k,Mini2.isDefined(m)?m:h.useStrict)},parseDate:function(k,j,l){return h.parse(k,j,l)},getFormatCode:function(j){var k=h.formatCodes[j];if(k){k=typeof k=="function"?k():k;h.formatCodes[j]=k}return k||("'"+Mini2.String.escape(j)+"'")},createFormat:function(l){var k=[],n=false,j="",m;for(m=0;m<l.length;++m){j=l.charAt(m);if(!n&&j=="\\"){n=true}else{if(n){n=false;k.push("'"+Mini2.String.escape(j)+"'")}else{k.push(h.getFormatCode(j))}}}h.formatFunctions[l]=Mini2.functionFactory("return "+k.join("+"))},createParser:function(n){var s=h.parseRegexes.length,m=1,k=[],r=[],t=false,l="",o=0,p=n.length,j=[],q;for(;o<p;++o){l=n.charAt(o);if(!t&&l=="\\"){t=true}else{if(t){t=false;r.push(Mini2.String.escape(l))}else{q=h.formatCodeToRegex(l,m);m+=q.g;r.push(q.s);if(q.g&&q.c){if(q.calcAtEnd){j.push(q.c)}else{k.push(q.c)}}}}}k=k.concat(j);h.parseRegexes[s]=new RegExp("^"+r.join("")+"$","i");h.parseFunctions[n]=Mini2.functionFactory("input","strict",i(a,s,k.join("")))},parseCodes:{d:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(3[0-1]|[1-2][0-9]|0[1-9])"},j:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(3[0-1]|[1-2][0-9]|[1-9])"},D:function(){for(var j=[],k=0;k<7;j.push(h.getShortDayName(k)),++k){}return{g:0,c:null,s:"(?:"+j.join("|")+")"}},l:function(){return{g:0,c:null,s:"(?:"+h.dayNames.join("|")+")"}},N:{g:0,c:null,s:"[1-7]"},S:{g:0,c:null,s:"(?:st|nd|rd|th)"},w:{g:0,c:null,s:"[0-6]"},z:{g:1,c:"z = parseInt(results[{0}], 10);\n",s:"(\\d{1,3})"},W:{g:1,c:"W = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},F:function(){return{g:1,c:"m = parseInt(me.getMonthNumber(results[{0}]), 10);\n",s:"("+h.monthNames.join("|")+")"}},M:function(){for(var j=[],k=0;k<12;j.push(h.getShortMonthName(k)),++k){}return Mini2.applyIf({s:"("+j.join("|")+")"},h.formatCodeToRegex("F"))},m:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(1[0-2]|0[1-9])"},n:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(1[0-2]|[1-9])"},t:{g:0,c:null,s:"(?:\\d{2})"},L:{g:0,c:null,s:"(?:1|0)"},o:{g:1,c:"y = parseInt(results[{0}], 10);\n",s:"(\\d{4})"},Y:{g:1,c:"y = parseInt(results[{0}], 10);\n",s:"(\\d{4})"},y:{g:1,c:"var ty = parseInt(results[{0}], 10);\ny = ty > me.y2kYear ? 1900 + ty : 2000 + ty;\n",s:"(\\d{1,2})"},a:{g:1,c:"if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(am|pm|AM|PM)",calcAtEnd:true},A:{g:1,c:"if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(AM|PM|am|pm)",calcAtEnd:true},g:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(1[0-2]|[0-9])"},G:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(2[0-3]|1[0-9]|[0-9])"},h:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(1[0-2]|0[1-9])"},H:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(2[0-3]|[0-1][0-9])"},i:{g:1,c:"i = parseInt(results[{0}], 10);\n",s:"([0-5][0-9])"},s:{g:1,c:"s = parseInt(results[{0}], 10);\n",s:"([0-5][0-9])"},u:{g:1,c:"ms = results[{0}]; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n",s:"(\\d+)"},O:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(3,5) / 60),","mn = o.substring(3,5) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Mini2.String.leftPad(hr, 2, '0') + Mini2.String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{4})"},P:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(4,6) / 60),","mn = o.substring(4,6) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Mini2.String.leftPad(hr, 2, '0') + Mini2.String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{2}:\\d{2})"},T:{g:0,c:null,s:"[A-Z]{1,5}"},Z:{g:1,c:"zz = results[{0}] * 1;\nzz = (-43200 <= zz && zz <= 50400)? zz : null;\n",s:"([+-]?\\d{1,5})"},c:function(){var k=[],j=[h.formatCodeToRegex("Y",1),h.formatCodeToRegex("m",2),h.formatCodeToRegex("d",3),h.formatCodeToRegex("H",4),h.formatCodeToRegex("i",5),h.formatCodeToRegex("s",6),{c:"ms = results[7] || '0'; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n"},{c:["if(results[8]) {","if(results[8] == 'Z'){","zz = 0;","}else if (results[8].indexOf(':') > -1){",h.formatCodeToRegex("P",8).c,"}else{",h.formatCodeToRegex("O",8).c,"}","}"].join("\n")}],m,n;for(m=0,n=j.length;m<n;++m){k.push(j[m].c)}return{g:1,c:k.join(""),s:[j[0].s,"(?:","-",j[1].s,"(?:","-",j[2].s,"(?:","(?:T| )?",j[3].s,":",j[4].s,"(?::",j[5].s,")?","(?:(?:\\.|,)(\\d+))?","(Z|(?:[-+]\\d{2}(?::)?\\d{2}))?",")?",")?",")?"].join("")}},U:{g:1,c:"u = parseInt(results[{0}], 10);\n",s:"(-?\\d+)"}},dateFormat:function(j,k){return h.format(j,k)},isEqual:function(j,k){if(j&&k){return(j.getTime()===k.getTime())}return !(j||k)},format:function(j,k){var l=h.formatFunctions;if(!Mini2.isDate(j)){return""}if(l[k]==null){h.createFormat(k)}return l[k].call(j)+""},getTimezone:function(j){return j.toString().replace(/^.* (?:\((.*)\)|([A-Z]{1,5})(?:[\-+][0-9]{4})?(?: -?\d+)?)$/,"$1$2").replace(/[^A-Z]/g,"")},getGMTOffset:function(k,j){var l=k.getTimezoneOffset();return(l>0?"-":"+")+Mini2.String.leftPad(Math.floor(Math.abs(l)/60),2,"0")+(j?":":"")+Mini2.String.leftPad(Math.abs(l%60),2,"0")},getDayOfYear:function(k){var o=0,j=Mini2.Date.clone(k),n=k.getMonth(),l;for(l=0,j.setDate(1),j.setMonth(0);l<n;j.setMonth(++l)){o+=h.getDaysInMonth(j)}return o+k.getDate()-1},getWeekOfYear:(function(){var j=86400000,k=7*j;return function(m){var n=Date.UTC(m.getFullYear(),m.getMonth(),m.getDate()+3)/j,l=Math.floor(n/7),o=new Date(l*k).getUTCFullYear();return l-Math.floor(Date.UTC(o,0,7)/k)+1}}()),isLeapYear:function(j){var k=j.getFullYear();return !!((k&3)==0&&(k%100||(k%400==0&&k)))},getFirstDayOfMonth:function(j){var k=(j.getDay()-(j.getDate()-1))%7;return(k<0)?(k+7):k},getLastDayOfMonth:function(j){return h.getLastDateOfMonth(j).getDay()},getFirstDateOfMonth:function(j){return new Date(j.getFullYear(),j.getMonth(),1)},getLastDateOfMonth:function(j){return new Date(j.getFullYear(),j.getMonth(),h.getDaysInMonth(j))},getDaysInMonth:(function(){var j=[31,28,31,30,31,30,31,31,30,31,30,31];return function(k){var l=k.getMonth();return l==1&&h.isLeapYear(k)?29:j[l]}}()),getSuffix:function(j){switch(j.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},clone:function(j){return new Date(j.getTime())},isDST:function(j){return new Date(j.getFullYear(),0,1).getTimezoneOffset()!=j.getTimezoneOffset()},clearTime:function(m,k){if(k){return Mini2.Date.clearTime(Mini2.Date.clone(m))}var l=m.getDate(),n,j;m.setHours(0);m.setMinutes(0);m.setSeconds(0);m.setMilliseconds(0);if(m.getDate()!=l){for(n=1,j=h.add(m,Mini2.Date.HOUR,n);j.getDate()!=l;n++,j=h.add(m,Mini2.Date.HOUR,n)){}m.setDate(l);m.setHours(j.getHours())}return m},add:function(l,p,q){var k=Mini2.Date.clone(l),m=Mini2.Date,n,o,j=0;if(!p||q===0){return k}o=q-parseInt(q,10);q=parseInt(q,10);if(q){switch(p.toLowerCase()){case Mini2.Date.MILLI:k.setTime(k.getTime()+q);break;case Mini2.Date.SECOND:k.setTime(k.getTime()+q*1000);break;case Mini2.Date.MINUTE:k.setTime(k.getTime()+q*60*1000);break;case Mini2.Date.HOUR:k.setTime(k.getTime()+q*60*60*1000);break;case Mini2.Date.DAY:k.setDate(k.getDate()+q);break;case Mini2.Date.MONTH:n=l.getDate();if(n>28){n=Math.min(n,Mini2.Date.getLastDateOfMonth(Mini2.Date.add(Mini2.Date.getFirstDateOfMonth(l),Mini2.Date.MONTH,q)).getDate())}k.setDate(n);k.setMonth(l.getMonth()+q);break;case Mini2.Date.YEAR:n=l.getDate();if(n>28){n=Math.min(n,Mini2.Date.getLastDateOfMonth(Mini2.Date.add(Mini2.Date.getFirstDateOfMonth(l),Mini2.Date.YEAR,q)).getDate())}k.setDate(n);k.setFullYear(l.getFullYear()+q);break}}if(o){switch(p.toLowerCase()){case Mini2.Date.MILLI:j=1;break;case Mini2.Date.SECOND:j=1000;break;case Mini2.Date.MINUTE:j=1000*60;break;case Mini2.Date.HOUR:j=1000*60*60;break;case Mini2.Date.DAY:j=1000*60*60*24;break;case Mini2.Date.MONTH:n=h.getDaysInMonth(k);j=1000*60*60*24*n;break;case Mini2.Date.YEAR:n=(h.isLeapYear(k)?366:365);j=1000*60*60*24*n;break}if(j){k.setTime(k.getTime()+j*o)}}return k},subtract:function(j,k,l){return h.add(j,k,-l)},between:function(j,l,k){var m=j.getTime();return l.getTime()<=m&&m<=k.getTime()},compat:function(){var j=window.Date,k,t=["useStrict","formatCodeToRegex","parseFunctions","parseRegexes","formatFunctions","y2kYear","MILLI","SECOND","MINUTE","HOUR","DAY","MONTH","YEAR","defaults","dayNames","monthNames","monthNumbers","getShortMonthName","getShortDayName","getMonthNumber","formatCodes","isValid","parseDate","getFormatCode","createFormat","createParser","parseCodes"],n=["dateFormat","format","getTimezone","getGMTOffset","getDayOfYear","getWeekOfYear","isLeapYear","getFirstDayOfMonth","getLastDayOfMonth","getDaysInMonth","getSuffix","clone","isDST","clearTime","add","between"],q=t.length,l=n.length,r,m,o;for(o=0;o<q;o++){r=t[o];j[r]=h[r]}for(k=0;k<l;k++){m=n[k];j.prototype[m]=function(){var p=Array.prototype.slice.call(arguments);p.unshift(this);return h[m].apply(h,p)}}}})};
Mini2.Array=new function(){Mini2.apply(this,{clone:Mini2.clone,contains:function(f,d,c){var b=false,a=0,e=f.length;if(c){for(;a<e;a++){if(f[a]==d){b=true;break}}}else{for(;a<e;a++){if(f[a]===d){b=true;break}}}return b},lastIndexOf:function(e,b){var d=-1,c=e.length,a=c;while(a--){if(e[a]===b){d=a;break}}return d},indexOf:function(e,b){var d=-1,a=0,c=e.length;for(;a<c;a++){if(e[a]===b){d=a;break}}return d},add:function(b,a){b.push(a)},include:function(e,d){var a=[];if(Mini2.isArray(d)){for(var b=0;b<d.length;b++){if(this.contains(e,d)){continue}e.push(d)}}else{if(this.contains(e,d)){return}e.push(d)}},remove:function(e,b){var a=[],d=this.indexOf(e,b);if(d>-1){e.splice(d,1)}}})};
Mini2.Guid=new function(){Mini2.apply(this,{newGuid:function(){var a="",b,c;for(b=1;b<=32;b++){c=Math.floor(Math.random()*16).toString(16);a+=c;if((b==8)||(b==12)||(b==16)||(b==20)){a+="-"}}return a}})};Mini2.Random=new function(){Mini2.apply(this,{newNum:function(b){var a=b||10000000,c=Math.random()*a;return Math.ceil(c)}})};
Mini2.String=(function(){var l=/^[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+|[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+$/g,g=/('|\\)/g,i=/\{(\d+)\}/g,h=/([-.*+?\^${}()|\[\]\/\\])/g,a=/^\s+|\s+$/g,n=/\s+/,m=/(^[^a-z]*|[^\w])/gi,c,e,d,f,k=function(p,o){return c[o]},j=function(p,o){return(o in e)?e[o]:String.fromCharCode(parseInt(o.substr(2),10))},b=function(p,o){if(p===null||p===undefined||o===null||o===undefined){return false}return o.length<=p.length};return{insert:function(q,r,o){if(!q){return r}if(!r){return q}var p=q.length;if(!o&&o!==0){o=p}if(o<0){o*=-1;if(o>=p){o=0}else{o=p-o}}if(o===0){q=r+q}else{if(o>=q.length){q+=r}else{q=q.substr(0,o)+r+q.substr(o)}}return q},startsWith:function(q,r,o){var p=b(q,r);if(p){if(o){q=q.toLowerCase();r=r.toLowerCase()}p=q.lastIndexOf(r,0)===0}return p},endsWith:function(r,o,p){var q=b(r,o);if(q){if(p){r=r.toLowerCase();o=o.toLowerCase()}q=r.indexOf(o,r.length-o.length)!==-1}return q},createVarName:function(o){return o.replace(m,"")},htmlEncode:function(o){return(!o)?o:String(o).replace(d,k)},htmlDecode:function(o){return(!o)?o:String(o).replace(f,j)},addCharacterEntities:function(s){var o=[],q=[],r,p;for(r in s){p=s[r];e[r]=p;c[p]=r;o.push(p);q.push(r)}d=new RegExp("("+o.join("|")+")","g");f=new RegExp("("+q.join("|")+"|&#[0-9]{1,5};)","g")},resetCharacterEntities:function(){c={};e={};this.addCharacterEntities({"&amp;":"&","&gt;":">","&lt;":"<","&quot;":'"',"&#39;":"'"})},urlAppend:function(u,t,o){if(!Mini2.isEmpty(t)){var r=0,s="",p=t,q;if(Mini2.typeOf(t)=="object"){p=t;for(q in p){if(r++>0){s+="&"}s+=(q+"="+p[q])}}if(true===o){if(r++>0){s+="&"}s+="timestamp="+(new Date()).valueOf()}if(r>0){t=s}return u+(u.indexOf("?")===-1?"?":"&")+t}return u},trim:function(o){return o.replace(l,"")},capitalize:function(o){return o.charAt(0).toUpperCase()+o.substr(1)},uncapitalize:function(o){return o.charAt(0).toLowerCase()+o.substr(1)},ellipsis:function(q,p,s){if(q&&q.length>p){if(s){var r=q.substr(0,p-2),o=Math.max(r.lastIndexOf(" "),r.lastIndexOf("."),r.lastIndexOf("!"),r.lastIndexOf("?"));if(o!==-1&&o>=(p-15)){return r.substr(0,o)+"..."}}return q.substr(0,p-3)+"..."}return q},escapeRegex:function(o){return o.replace(h,"\\$1")},escape:function(o){return o.replace(g,"\\$1")},toggle:function(p,q,o){return p===q?o:q},leftPad:function(r,q,o){var p=String(r);o=o||" ";while(p.length<q){p=o+p}return p},format:function(p){var o=Mini2.Array.toArray(arguments,1);return p.replace(i,function(r,q){return o[q]})},repeat:function(r,p,s){if(p<1){p=0}for(var o=[],q=p;q--;){o.push(r)}return o.join(s||"")},splitWords:function(o){if(o&&typeof o=="string"){return o.replace(a,"").split(n)}return o||[]},isBlank:function(o){if(undefined===o||null===o){return true}if(typeof o=="string"){if(""==o){return true}var p=Mini2.String.trim(o);if(""==p){return true}}return false}}}());Mini2.String.resetCharacterEntities();Mini2.htmlEncode=Mini2.String.htmlEncode;Mini2.htmlDecode=Mini2.String.htmlDecode;Mini2.urlAppend=Mini2.String.urlAppend;
Mini2.Uri=new function(){Mini2.apply(this,{getUrlFragment:function(c){try{var b=c.indexOf("#");return b===-1?"":c.slice(b+1)}catch(a){console.debug("url=",c);console.error("url 格式错误.",a)}},getAbsoluteUrl:function(c){var b=document.createElement("a");b.setAttribute("href",c);var a=b.href;b=null;return a},getBaseUrl:function(b){var a=b.indexOf("#");return a===-1?b.slice(0):b.slice(0,a)},toUrlObject:function(d){var c=this.getAbsoluteUrl(d),a=this.getBaseUrl(c),b=this.getUrlFragment(d);return{base:a,full:c,original:d,fragment:b}},supportStorage:function(){var b="sm.router.storage.ability";try{sessionStorage.setItem(b,b);sessionStorage.removeItem(b);return true}catch(a){return false}}})};
Mini2.define("Mini2.Timer",{owner:null,enabled:false,interval:100,count:0,limit:0,overtime:0,timeStart:null,tick:Mini2.emptyFn,timer:null,stop:function(){var a=this;a.enabled=false;if(a.timer){clearTimeout(a.timer);delete a.timer}return a},start:function(){var a=this;if(!a.enabled){a.timeStart=new Date().getTime();a.enabled=true;a.callTick()}return a},reset:function(){var a=this;a.count=0;a.timeStart=new Date().getTime();return a},resetStart:function(){var a=this;a.reset().start();return a},callTick:function(){var b=this,e=b.owner,c,a=b.limit,d=b.overtime,f;if(!b.enabled){return}if(a>0&&b.count>=a){b.stop();return}if(d>0){c=new Date();span=c.getTime()-b.timeStart;if(span>=d){b.stop();return}}b.timer=setTimeout(function(){c=new Date();span=c.getTime()-b.timeStart;if(span>=b.interval){f=b.tick.call(e);b.count++;if(false===f){b.stop();return}}b.callTick.call(b)},b.interval)}},function(){var a=this;Mini2.apply(this,arguments[0]);this.start()});Mini2.setTimer=function(c,b){var d,a={};if(undefined==b){}else{if(Mini2.isNumber(b)){a.interval=b}else{a=Mini2.apply(a,b)}}a.tick=c;d=Mini2.create("Mini2.Timer",a);return d};Mini2.run1_data={};Mini2.awaitRun=function(a,c,f,g){var e=this,d,b=Mini2.run1_data;a=a||f.muid;d=b[a];if(d){d.restart()}else{d=Mini2.setTimer(function(){g.call(f);delete e.run1_data[a]},[c,1]);d.owner=e;b[a]=d}};
Mini2.define("Mini2.collection.ArrayList",{log:Mini2.Logger,constructor:function(b,c){var d=this,a=arguments;d.length=0;d.items=[];if(Mini2.isArray(a[0])){d.items=a[0];d.length=d.items.length}if(Mini2.isFunction(c)){d.getFun=c}},getCount:function(){return this.items.length},add:function(a){var b=this,c=b.items;if(a&&a.length){b.items=c=c.concat(a)}else{c.push(a)}b.length=c.length},erase:function(a,b){},insert:function(b,c){var f=this,h=0,e,d=f.items,a,g;if(b>d.length){b=d.length}e=f.getRange(b,null);if(typeof c=="array"){for(a=0;a<c.length;a++){g=a+b;d[g]=c[a]}h=b+c.length}else{d[b]=c;h=b+1}for(a=0;a<e.length;a++){g=h+a;d[g]=e[a]}f.length=d.length},remoteAt:function(a){var d=this,c=d.items,b;if(a<d.length&&a>=0){b=c[a];c.splice(a,1);d.length=c.length;return b}return false},removeAll:function(){var a=this;while(a.length){a.removeAt(0)}a.length=a.items.length},remove:function(c){var f=this,a,b=0,g=-1,d=f.items,e=d.length;for(;b<e;b++){a=d[b];if(a===c){g=b;break}}f.remoteAt(g);f.length=d.length;return g},removeRange:function(g,a){var d=this,b=d.items,e=[],c=b.length,h,f;if(c<1){return e}if(g>a){f=true;h=g;g=a;a=h}if(g<0){g=0}if(a==null||a>=c){a=c-1}e=b.splice(g,a+1);d.length=b.length;return e},getByProp:function(h,j){var g=this,e=null,f=g.items,b,a,d=0;for(;d<f.length;d++){b=f[d];a=b[h];if(a==j){e=b;break}}return e},get:function(a){var c=this,b=null;b=c.items[a];return b},set:function(a,b){this.items[a]=b},first:function(){return this.items[0]},last:function(){return this.items[this.length-1]},getRange:function(g,a){var d=this,b=d.items,e=[],c=b.length,h,f;if(c<1){return e}if(a!=undefined&&a!=null&&g>a){f=true;h=g;g=a;a=h}if(g<0){g=0}if(a==null||a>=c){a=c-1}e=b.slice(g,a+1);if(f&&e.length){e.reverse()}return e},filterFirstBy:function(a,g){var e=this,f=null,c=e.items,d=c.length,b=0;for(;b<d;b++){if(a.call(g||e,c[b])){f=c[b];break}}return f},filterBy:function(a,g){var e=this,f=new Mini2.collection.ArrayList(),c=e.items,d=c.length,b=0;for(;b<d;b++){if(a.call(g||e,c[b])){f.add(c[b])}}return f},findIndexBy:function(a,h,j){var g=this,d,e=g.items,f=e.length,b=j,c=-1;if(j==undefined){b=0}for(;b<f;b++){if(a.call(h||g,e[b])){c=b;break}}return c},toArray:function(){return this.items}},function(a){var c=this,d=[],e=arguments,b=0;for(;b<e.length;b++){d[b]=e[b]}c.muid=Mini2.getIdentity();c.constructor(d[0],d[1])});
Mini2.Ajax=new function(){Mini2.apply(this,{request:function(f){var d="",a,b,c=f.indexOf("?"),e;if(c>-1){e=f.substring(c+1,f.length).split("&");for(a=0;b=e[a];a++){if(a>0){d+="$$$"}d+=b}}return d},getPath:function(f){var a=f.indexOf("/App/"),b=f.indexOf("?",a);if(b==-1){b=f.length}var e=b-a-5;var c=f.substr(a+5,e);var d=c.lastIndexOf(".");if(d>0){c=c.substr(0,d)}return c},post:function(h,c,d,j,e){var f=this,a=Mini2.Ajax,g,i=a.request(h.url),b=a.getPath(h.url);if(typeof d!="object"){e=j;j=d;d={}}g={__Path:b,__IsPost:1,__Query:i,__Action:c,__ReturnFormat:"text",__ActionPs:"",__Rum__:Mini2.Random.newNum()};var k=Mini2.urlAppend("/Core/Mini/EcWidgetAction.aspx",$.param(g));$.post(k,d,function(m){if(m.success){if(j){try{j.call(h,m.data,m)}catch(l){console.error("执行成功的反馈函数错误.",l)}}else{}}else{if(e){e.call(h,m)}else{$.alert(m.error_msg)}}},"json")},})};Mini2.post=Mini2.Ajax.post;
(function(a){["width","height"].forEach(function(c){var d=c.replace(/./,function(e){return e[0].toUpperCase()});a.fn["outer"+d]=function(f){var e=this;if(e){var h=e[c]();var g={width:["left","right"],height:["top","bottom"]};g[c].forEach(function(i){if(f){h+=parseInt(e.css("margin-"+i),10)}});return h}else{return null}}});a.support=(function(){var c={touch:!!(("ontouchstart" in window)||window.DocumentTouch&&document instanceof window.DocumentTouch)};return c})();a.touchEvents={start:a.support.touch?"touchstart":"mousedown",move:a.support.touch?"touchmove":"mousemove",end:a.support.touch?"touchend":"mouseup"};a.getTranslate=function(f,c){var g,e,d,h;if(typeof c==="undefined"){c="x"}d=window.getComputedStyle(f,null);if(window.WebKitCSSMatrix){h=new WebKitCSSMatrix(d.webkitTransform==="none"?"":d.webkitTransform)}else{h=d.MozTransform||d.transform||d.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,");g=h.toString().split(",")}if(c==="x"){if(window.WebKitCSSMatrix){e=h.m41}else{if(g.length===16){e=parseFloat(g[12])}else{e=parseFloat(g[4])}}}if(c==="y"){if(window.WebKitCSSMatrix){e=h.m42}else{if(g.length===16){e=parseFloat(g[13])}else{e=parseFloat(g[5])}}}return e||0};a.requestAnimationFrame=function(c){if(requestAnimationFrame){return requestAnimationFrame(c)}else{if(webkitRequestAnimationFrame){return webkitRequestAnimationFrame(c)}else{if(mozRequestAnimationFrame){return mozRequestAnimationFrame(c)}else{return setTimeout(c,1000/60)}}}};a.cancelAnimationFrame=function(c){if(cancelAnimationFrame){return cancelAnimationFrame(c)}else{if(webkitCancelAnimationFrame){return webkitCancelAnimationFrame(c)}else{if(mozCancelAnimationFrame){return mozCancelAnimationFrame(c)}else{return clearTimeout(c)}}}};a.fn.dataset=function(){var c={},d=this[0].dataset;for(var f in d){var e=(c[f]=d[f]);if(e==="false"){c[f]=false}else{if(e==="true"){c[f]=true}else{if(parseFloat(e)===e*1){c[f]=e*1}}}}return a.extend({},c,this[0].__eleData)};a.fn.data=function(g,j){var h=a(this).dataset();if(!g){return h}if(typeof j==="undefined"){var d=h[g],c=this[0].__eleData;if(c&&(g in c)){return c[g]}else{return d}}else{for(var f=0;f<this.length;f++){var e=this[f];if(g in h){delete e.dataset[g]}if(!e.__eleData){e.__eleData={}}e.__eleData[g]=j}return this}};function b(e,c){var f=e,h,d=this;function g(i){if(i.target!==this){return}c.call(this,i);for(h=0;h<f.length;h++){d.off(f[h],g)}}if(c){for(h=0;h<f.length;h++){d.on(f[h],g)}}}a.fn.animationEnd=function(c){b.call(this,["webkitAnimationEnd","animationend"],c);return this};a.fn.transitionEnd=function(c){b.call(this,["webkitTransitionEnd","transitionend"],c);return this};a.fn.transition=function(c){if(typeof c!=="string"){c=c+"ms"}for(var e=0;e<this.length;e++){var d=this[e].style;d.webkitTransitionDuration=d.MozTransitionDuration=d.transitionDuration=c}return this};a.fn.transform=function(e){for(var d=0;d<this.length;d++){var c=this[d].style;c.webkitTransform=c.MozTransform=c.transform=e}return this};a.fn.prevAll=function(f){var e=[],c=this[0];if(!c){return a([])}while(c.previousElementSibling){var d=c.previousElementSibling;if(f){if(a(d).is(f)){e.push(d)}}else{e.push(d)}c=d}return a(e)};a.fn.nextAll=function(f){var e=[],c=this[0];if(!c){return a([])}while(c.nextElementSibling){var d=c.nextElementSibling;if(f){if(a(d).is(f)){e.push(d)}}else{e.push(d)}c=d}return a(e)};a.fn.show=function(){var d={};function c(g){var f,e;if(!d[g]){f=document.createElement(g);document.body.appendChild(f);e=getComputedStyle(f,"").getPropertyValue("display");f.parentNode.removeChild(f);e==="none"&&(e="block");d[g]=e}return d[g]}return this.each(function(){this.style.display==="none"&&(this.style.display="");if(getComputedStyle(this,"").getPropertyValue("display")==="none"){}this.style.display=c(this.nodeName)})};a.device=(function(){var f=navigator.userAgent;var c=f.match(/(Android);?[\s\/]+([\d.]+)?/);var d=f.match(/(iPad).*OS\s([\d_]+)/);var e=!d&&f.match(/(iPhone\sOS)\s([\d_]+)/);return{ios:d||e||d,android:c}})()})(Zepto);(function(a){a.fn.switchClass=function(d,b,c){if(c){this.removeClass(b).addClass(d)}else{this.removeClass(d).addClass(b)}return this}})(Zepto);
Mini2.SLog=new function(){Mini2.apply(this,{server:null,level:"all",getPageUrl:function(a){return Mini2.isString(a)?a:(a?a.url:null)},debug:function(d,c){var b=this,e=b.getPageUrl(d);try{this.sendToServer("DEBUG",e,c)}catch(a){console.warn("发送给服务器日志异常, 不影响系统操作.",a)}},info:function(d,c){var b=this,e=b.getPageUrl(d);try{this.sendToServer("INFO",e,c)}catch(a){console.warn("发送给服务器日志异常, 不影响系统操作.",a)}},error:function(d,c){var b=this,e=b.getPageUrl(d);try{this.sendToServer("ERROR",e,c)}catch(a){console.warn("发送给服务器日志异常, 不影响系统操作.",a)}},sendToServer:function(d,e,c){var b=this,f,a;if(!b.server){return}if("all"!=b.level){return}if(!e){return}if(!c){return}f=b.server+"?action="+d;a={url:e,msg:c};$.post(f,a,function(g){if(g.success){}else{console.warn("没有指定日志服务器地址错误!")}},"json")}})};
Mini2.define("Mini2.ui.PageRoute",{cache:null,pageCur:null,pageGroupEl:null,currentUrl:null,firstUrl:null,isCur:true,routerConfig:{sectionGroupClass:"page-group",curPageClass:"page-current",visiblePageClass:"page-visible",pageClass:"page"},DIRECTION:{leftToRight:"from-left-to-right",rightToLeft:"from-right-to-left"},identityPageId:0,newPageId:function(){var a=this;a.identityPageId++;return a.identityPageId},Util:Mini2.Uri,constructor:function(){var a=this;a.cache={};a.onInit();a.onHandleClicks()},execMainScript:function(pageEl,pageId,scriptCode,curUrl,exParam){var me=this;if(scriptCode){var uid="page_uid_"+pageId;var fullname="Mini2._tmp_page_define."+uid;var funMain;try{funMain=eval("("+scriptCode+")")}catch(ex){console.error("执行 Page 脚本错误",ex);console.debug("Page 脚本",scriptCode);Mini2.SLog.error(curUrl,"执行 Page 脚本错误! \n error.description = "+ex.description);Mini2.SLog.debug(curUrl,"Page 脚本! "+scriptCode);throw ex}var cfg=funMain();if(!cfg.extend){if(pageEl.hasClass("popup")){cfg.extend="Mini2.ui.Popup"}else{cfg.extend="Mini2.ui.Page"}}Mini2.define(fullname,cfg);var page=Mini2.create(fullname,{url:curUrl,exParam:exParam,el:pageEl});console.debug("当前界面实例.",page);try{page.onPreInit()}catch(ex){console.error("执行用户初始化函数错误. onPreInit() ",page.onPreInit);Mini2.SLog.error(page,"执行用户初始化函数错误. onPreInit() \n error.description = "+ex.description);throw ex}return page}else{var uid="page_uid_"+pageId,fullname="Mini2._tmp_page_define."+uid;var scriptMain=$(pageEl).children("script[data-main]");var cfg=main();if(!cfg.extend){if(pageEl.hasClass("popup")){cfg.extend="Mini2.ui.Popup"}else{cfg.extend="Mini2.ui.Page"}}Mini2.define(fullname,cfg);var page=Mini2.create(fullname,{url:curUrl,exParam:exParam,el:pageEl});console.debug("当前界面实例.",page);try{page.onPreInit()}catch(ex){console.error("执行用户初始化函数错误. onPreInit() ");Mini2.SLog.error(page,"执行用户初始化函数错误. onPreInit() \n error.description = "+ex.description);throw ex}scriptMain.remove();return page}},onInit:function(){var g=this,f=Mini2.Logger,a=g.routerConfig,k=g.Util,h,c=g.currentUrl=g.firstUrl=location.href,j=k.toUrlObject(c).base,b,i,e,d;g.pageGroupEl=$(".page-group");if(g.pageGroupEl.length==0){throw new Error("当前页面没有指定 .page-group 样式节点.")}h=g.pageGroupEl.children(".page-group .page");if(h.length==0){throw new Error("当前页面组, 没有找到 .page 样式的节点.")}g.pageCur=h;b=Mini2.newId();g.scroller(h);i=g.execMainScript(h,b,null,c);g.pageJs=i;e=window.history;if(null===e.state){d={id:b,url:k.toUrlObject(c),pageId:b};e.replaceState(d,"",c)}g.cache[j]={url:c,lastTime:new Date(),docEl:$(window),contentEl:$("body"),pageEl:h,pageJs:i};g.allowPageShow_First(h,i);window.addEventListener("popstate",function(l){var m=l.state;if(null===m){return}if(m.url.base==g.currentUrl){return}console.debug("window 后退事件。 url=",m.url);Mini2.SLog.debug(h,"window 后退事件。 url="+m.url);g.doSwitchDocument(m.url.base,false,g.DIRECTION.leftToRight)});g.initClickEvent()},call_onPreLoad:function(c,d){var b=this;if(!c.hasClass("page-current")){c.addClass("page-current")}if(d.onPreLoad){try{console.info("执行 onPreLoad()");Mini2.SLog.info(c,"执行 onPreLoad()");d.onPreLoad()}catch(a){console.error("执行 onLoad() 错误",a);Mini2.SLog.error(c,"执行 onLoad() 错误 \n error.description="+a.description);throw a}}if(d.pageRefresh){console.debug("执行页面刷新 pageRefresh()");Mini2.SLog.debug(d,"执行页面刷新 pageRefresh()");try{d.pageRefresh()}catch(a){console.error("执行页面刷新 pageRefresh() 错误",d.pageRefresh);console.error(a);Mini2.SLog.error(d,"执行页面刷新 pageRefresh() 错误. \n error.description="+a.description)}}},allowPageShow_First:function(b,c){var a=this;if(c.canShow()){a.call_onPreLoad(b,c);return}setTimeout(function(){if(c.canShow()){a.call_onPreLoad(b,c)}else{a.allowPageShow_First(b,c)}},100)},classBlackList:["external","tab-link","open-popup","close-popup","open-panel","close-panel"],protoWhiteList:["http","https"],isInRouterBlackList:function(c){var f=this,b,d,e,g=f.protoWhiteList,a=f.classBlackList;for(b=a.length-1;b>=0;b--){if(c.hasClass(a[b])){return true}}d=c.get(0);e=d.getAttribute("href");if(/^(\w+):/.test(e)&&g.indexOf(RegExp.$1)<0){return true}if(d.hasAttribute("external")){return true}return false},customClickFilter:function(a){return true},initClickEvent:function(a){var b=this;$(document).on("click","a",function(d){var h=$(d.currentTarget);var f=b.customClickFilter(h);if(!f){return}if(b.isInRouterBlackList(h)){return}d.preventDefault();if(h.hasClass("back")){b.back()}else{var i=h.attr("href");if(!i||i==="#"){return}var g=h.attr("data-no-cache")==="true";var c=h.attr("data-direction");if(b.DIRECTION.leftToRight==c){}else{if(b.DIRECTION.rightToLeft==c){}else{c=null}}b.load(i,g,null,c)}})},back:function(){var d=this,e=d.pageCur,f=d.pageJs,a,c=window.history;try{console.debug("准备执行 pageBacking().");console.debug("函数 ",f.pageBacking);Mini2.SLog.debug(e,"准备执行 pageBacking().");a=f.pageBacking()}catch(b){console.error("执行页面 pageBacking 事件错误."+b.message,f.pageBacking);Mini2.SLog.error(e,"执行页面 pageBacking 事件错误. \n error.description="+b.description);return}if(false===a){return}c.back()},load:function(k,g,f,e,i,c){var h=this,l=h.Util,b,d,a;if(!k){throw new Error("pageUrl 跳转地址的参数能为空.")}if(!Mini2.isString(k)){var j=k;k=j.url||j.pageUrl;i=j.opened;c=j.closed;console.debug("加载参数: ",j)}console.debug("加载页面 pageUrl=",k);Mini2.SLog.debug(k,"加载页面 pageUrl=",k);g=!!g;a=l.toUrlObject(k).base;if(g){delete h.cache[a]}b=h.cache[a];e=e||h.DIRECTION.rightToLeft;if(b){if(b.isPopup){h.openPopup(a,f,i,c)}else{console.debug("缓冲弹出 cacheDocument, url=",a);console.debug("direction 方向:",e);Mini2.SLog.debug(k,"缓冲弹出 cacheDocument, url=",a);h.doSwitchDocument(a,true,e,i,c)}}else{h.loadDocument(a,f,e,g,i,c)}h.isCur=false},scroller:function(d){var c=this,a=$(d).find(".content"),b;if(a.hasClass("pull-to-refresh-content")){b=new Hammer(a[0]);b.get("swipe").set({direction:Hammer.DIRECTION_VERTICAL});b.on("pan",function(f){var g=f.deltaY;$(a).css("-webkit-transform","translate3d(0, "+g+"px, 0)")});b.on("panstart",function(f){});b.on("panend",function(f){$(a).animate({translate3d:"0, 0px,0"},"fast","ease-out")})}},saveDocumentIntoCache:function(b,j,d){var e=this,l=e.Util,k=l.toUrlObject(j).base,c=$(b),a=c.find(".page-group"),f=a.children(".page"),h=a.children(".popup"),g,i;if(h.length>0){f=h}console.debug("exParam: saveDocumentIntoCache()",d);i=$(f).children("script[data-main]");g=i.html();i.remove();e.cache[k]={url:j,exParam:d,lastTime:new Date(),docEl:c,contentEl:a,pageEl:f,isPopup:(h.length>0),pageJs:null,pageJsCode:g}},switchToDocument:function(){},animateElement:function(e,g,d){var f=this,e=$(e),g=$(g),b,c;var a=["page-from-center-to-left","page-from-center-to-right","page-from-right-to-center","page-from-left-to-center"].join(" ");switch(d){case f.DIRECTION.rightToLeft:b="page-from-center-to-left";c="page-from-right-to-center";break;case f.DIRECTION.leftToRight:b="page-from-center-to-right";c="page-from-left-to-center";break;default:b="page-from-center-to-left";c="page-from-right-to-center";break}e.removeClass(a).addClass(b);g.removeClass(a).addClass(c);e.animationEnd(function(){e.off("webkitAnimationEnd");e.removeClass(a);e.removeClass("page-current");e.remove()});g.animationEnd(function(){g.off("webkitAnimationEnd");g.removeClass(a);g.addClass("page-current")})},doSwitchDocument:function(p,h,d){var i=this,r=i.Util,q=r.toUrlObject(p).base,n,l=i.pageGroupEl,a,f,m;console.debug("doSwitchDocument(...)  url=",p);a=i.cache[q];if(!a){console.debug("doSwitchDocument(...) cache 不存在");return}f=i.pageCur;m=null;console.debug("cache.pageEl = ",a.pageEl);if(a.pageEl){m=a.pageEl}else{var g,j,k;g=$("<div></div>").append(a.contentEl);j=$($(g).html());k=j.find(".page");a.pageEl=k;m=k}var o,b;if(!a.pageJs){b=Mini2.newId();o="uid-"+b;m.addClass(o);$(m).attr("data-uid",o)}l.append(m);console.debug("exParam: doSwitchDocument()  cache.exParam=",a.exParam);a.pageJs=a.pageJs||i.execMainScript(m,b,a.pageJsCode,a.url,a.exParam);if(a.pageJsCode){delete a.pageJsCode}n=a.pageJs;i.pageCur=m;i.pageJs=a.pageJs;if(h){var c={exParam:a.exParam,id:o,url:r.toUrlObject(q),pageId:b};history.pushState(c,"",q)}i.currentUrl=q;i.allowPageShow(f,m,n,d);if(!h){if(n.pageRevert){console.debug("执行恢复函数 pageRevert().");Mini2.SLog.debug(n,"执行恢复函数 pageRevert()");try{n.pageRevert()}catch(e){console.error("执行恢复函数 pageRevert(). 错误",n.pageRevert);console.error(e);Mini2.SLog.error(n,"执行恢复函数 pageRevert(). 错误 \n + "+e.description)}}}if(n.pageRefresh){console.debug("执行页面刷新 pageRefresh()");Mini2.SLog.debug(n,"执行页面刷新 pageRefresh()");try{n.pageRefresh()}catch(e){console.error("执行页面刷新 pageRefresh() 错误",n.pageRefresh);console.error(e);Mini2.SLog.error(n,"执行页面刷新 pageRefresh(). 错误 \n + "+e.description)}}return i},call_pageLoad:function(c,e,f,a){var d=this;d.pageAnimationStart(c,e,f,a);if(f.onPreLoad){try{console.info("执行 onPreLoad()");f.onPreLoad()}catch(b){console.error("执行 onPreLoad() 错误",b);Mini2.SLog.error(f,"执行 onPreLoad(). 错误 \n + "+b.description);throw b}}},allowPageShow:function(b,d,e,a){var c=this;console.debug("allowPageShow() ",{fromPage:b,toPage:d});if(e.canShow()){c.call_pageLoad(b,d,e,a);return}setTimeout(function(){if(e.canShow()){c.call_pageLoad(b,d,e,a)}else{console.debug("等待中...");c.allowPageShow(b,d,e,a)}},100)},pageAnimationStart:function(b,d,e,a){var c=this;e.on("pageAnimationStart");c.animateElement(b,d,a);$(b).animationEnd(function(){$(this).removeClass("page-current")});$(d).animationEnd(function(){$(this).addClass("page-current");e.on("pageAnimationEnd")})},parsePage:function(b,l,f,c,h,a){var g=this;console.debug("exParam: parsePage()",f);var d=$("<html></html>");d.append(b);var j=d.find(".page-group");var i=j.children(".page");var k=j.children(".popup");if(k.size()>0){try{g.saveDocumentIntoCache(d,l,f)}catch(e){throw new Error("saveDocumentIntoCache(...) 执行异常.503")}g.openPopup(l,f,h,a)}else{c=c||g.DIRECTION.rightToLeft;try{g.saveDocumentIntoCache(d,l,f)}catch(e){throw new Error("saveDocumentIntoCache(...) 执行异常.504")}console.debug("parsePage(...) 解析页面 html 后弹出. url=",l);g.doSwitchDocument(l,true,g.DIRECTION.rightToLeft)}},loadTime:false,loadFunNum:0,preloader:false,showToast:function(){var a=this;if(a.loadFunNum==0){a.loadTime=new Date()}a.showToastX2()},showToastX2:function(){var a=this;console.log("显示加载器.");setTimeout(function(){var b=new Date(),c=a.preloader;var d=b-a.loadTime;if(a.loadFunNum>0){if(d>500&&!c){a.preloader=$.preloader()}a.showToastX2()}else{if(c){c.close();a.preloader=false}}console.log("加载器提示...loadFunNum ",a.loadFunNum)},100)},loadDocument:function(h,c,b,d,f,a){var e=this,g=h;e.showToast();e.loadFunNum++;console.debug("ajax: loadDocument(...) 加载前...loadFunNum=",e.loadFunNum);if(d){if(g.lastIndexOf("?")==-1){g+="?"}g+="&"+Mini2.Guid.newGuid()}var i=$.ajax({url:g,success:function(j,l,m){console.debug("exParam: loadDocument()",c);try{e.parsePage.call(e,j,h,c,b,f,a)}catch(k){console.error("加载失败!",k);$.toast("加载失败...501\n"+h+"\n"+k.message)}},error:function(l,k,j){console.error("加载失败...",h);$.toast("加载失败...502")},complete:function(){e.loadFunNum--;console.debug("ajax: loadDocument(...) 请求完成, loadFunNum = ",e.loadFunNum);if(e.loadFunNum<0){console.error("me.loadFunNum < 0 ",e.loadFunNum);e.loadFunNum=0}}});return e},openPopup:function(n,e,i,b){var g=this,p=g.Util,o=p.toUrlObject(n).base,k=g.pageGroupEl,a,l;a=g.cache[o];if(!a){return}if(a.pageEl){l=a.pageEl}else{var f=$("<div></div>").append(a.contentEl);var h=$($(f).html());var j=h.find(".popup");a.pageEl=j;l=a.pageEl}var m,c;if(!a.pageJs){c=Mini2.newId();m="uid-"+c;l.addClass(m);$(l).attr("data-uid",m)}k.append(l);a.pageJs=a.pageJs||g.execMainScript(l,c,a.pageJsCode,a.url,a.exParam);if(i){a.pageJs.bind("opened",i)}if(b){a.pageJs.bind("closed",b)}a.pageJs.open();if(a.pageJs.onPreLoad){try{console.info("执行 onPreLoad()");a.pageJs.onPreLoad()}catch(d){console.error("执行 onPreLoad() 错误",d);Mini2.SLog.error(a.pageJs,"执行 onPreLoad(). 错误 \n + "+d.description);throw d}}if(a.pageJs.pageRefresh){console.debug("执行页面刷新 pageRefresh()");try{a.pageJs.pageRefresh()}catch(d){console.error("执行页面刷新 pageRefresh() 错误",a.pageJs.pageRefresh);Mini2.SLog.error(a.pageJs,"执行 pageRefresh(). 错误 \n + "+d.description);console.error(d)}}return g},closePanel:function(){var c=this,a=$(document.body);var b=a.hasClass("with-panel-left-reveal");if(b){var d=$(".page-group").children(".active");setTimeout(function(){a.removeClass("panel-closing");d.removeClass("active");d.css("display","none")},500);a.removeClass("with-panel-left-reveal").addClass("panel-closing")}},createPanelCode:function(j){var f=this;var e=j.attr("data-main-fn");var d=window[e];if(d){var i=Mini2.newId(),k="page_uid_"+i,c="Mini2._tmp_page_define."+k;var a=d();var h=j;if(!a.extend){if(h.hasClass("popup")){a.extend="Mini2.ui.Popup"}else{a.extend="Mini2.ui.Page"}}Mini2.define(c,a);var g=Mini2.create(c,{el:h});console.debug("当前界面实例.",g);try{g.onPreInit()}catch(b){console.error("执行用户初始化函数错误. onPreInit() ",g.onPreInit);Mini2.SLog.error(g,"执行用户初始化函数错误. onPreInit(). 错误 \n + "+b.description);throw b}j.attr("data-instance","true")}},openPanel:function(d){var b=this,a=$(document.body),c;c=$(d);if(c.attr("data-instance")!="true"){b.createPanelCode(c)}c.addClass("active");c.css({display:"block"});a.addClass("with-panel-left-reveal")},onHandleClicks:function(){var a=this;$(".panel-overlay").click(function(){if(!$(this).hasClass("event-ignore")){a.closePanel()}});$(document).on("click",".close-panel",function(b){if(!$(this).hasClass("event-ignore")){a.closePanel()}});$(document).on("click",".open-panel",function(b){if(!$(this).hasClass("event-ignore")){var c=$(this).attr("data-panel");a.openPanel(c)}})}},function(a){var c=this,d=[],e=arguments,b=0;for(;b<e.length;b++){d[b]=e[b]}c.muid=Mini2.newId();c.constructor(d[0],d[1])});
Mini2.define("Mini2.ui.Scroller",{pageContentEl:null,onInit:function(a){var c=this,b=a||c.pageContentEl;b.addClass("native-scroll")},getScroller:function(a){var c=this,b=a||c.pageContentEl;b=b.hasClass("content")?b:b.parents(".content");if(b){return $(b).data("scroller")}else{return $(".content.javascript-scroll").data("scroller")}},detectScrollerType:function(a){var c=this,b=a||c.pageContentEl;if(b){if($(b).data("scroller")&&$(b).data("scroller").scroller){return"js"}else{return"native"}}},});
Mini2.define("Mini2.ui.InfiniteScroll",{el:null,pageContentEl:null,distance:50,isLoading:false,enabled:true,onInit:function(d){var c=this,e,a,b=d||c.el;b=$(b);c.pageContentEl=e=b.hasClass("infinite-scroll")?b:b.find(".infinite-scroll");a=e.attr("data-distance");c.distance=a||c.distance;if(Mini2.isString(c.distance)){c.distance=parseInt(c.distance)}if(0===e.length){return}$(e).on("scroll",function(){if(!c.enabled){return}if(c.isLoading){return}Mini2.awaitRun(null,100,c,function(){c.handle()})})},handle:function(){var c=this,a=c.el,b,f,e,d=c.pageContentEl;b=d.height();f=d.scrollTop();e=d[0].scrollHeight;if(f+b>=e-c.distance){c.isLoading=true;console.debug('呵呵! 到底了, 触发事件 page.bind("infinite", data, callback ) .');c.ownerPage.on("infinite",null,function(g){c.endLoad();if(false===g){c.setEnabled(false)}})}},setEnabled:function(b){var a=this;console.debug("激活触发无限滚动的事件."+b);a.enabled=!!b;return a},endLoad:function(){var a=this;a.isLoading=false;return a}});
Mini2.define("Mini2.ui.Component",{extend:false,el:null,isComponent:true,renderTo:Mini2.getBody(),onPreInitComponent:function(){var a=this;a.initComponent()},initComponent:Mini2.emptyFn,onPreInit:function(){var a=this;a.onInit()},onInit:Mini2.emptyFn,eventSet:null,bind:function(b,e,a,g){var f=this,d=f.eventSet,c;if(!e){throw new Error("["+b+"] 必须指定绑定函数.")}if(!d){f.eventSet=d={}}c=d[b];if(!c){c=d[b]=[]}c.push({fun:e,owner:g,data:a});return f},off:function(a){var d=this,b=d.eventSet,c;if(b){c=b[a];if(c){delete b[a]}}return d},on:function(c,b,a){if(this.eventSet){var k=this,j,d,h,e,g=k.eventSet,f=g[c]||[];for(j=0;j<f.length;j++){d=f[j];h=d.fun;if(!h||!h.call){console.log("函数不存在...");console.log(h);continue}if(d.data){e=Mini2.clone(d.data)}else{e={}}e=Mini2.applyIf(e,b);h.call(d.owner||k,k,e,a)}}return this},join:function(a){return a.join("")},$join:function(a){var b=a.join("");return $(b)},render:function(){var a=this;a.baseRender()}},function(){var a=this;Mini2.apply(a,arguments[0]);a.onPreInitComponent()});
Mini2.define("Mini2.ui.Page",{extend:"Mini2.ui.Component",el:null,contentEl:null,pageBacking:Mini2.emptyFn,pageRevert:Mini2.emptyFn,pageRefresh:Mini2.emptyFn,isPreLoaded:false,onPreLoad:function(){var b=this;if(!b.isPreLoaded){b.isPreLoaded=true;b.onInitInfinterScroll();if(b.onLoad){try{b.onLoad()}catch(a){console.error("初始化 onLoad  错误",a)}}}},onInitInfinterScroll:function(){var d=this,a=d.el,c;c=Mini2.create("Mini2.ui.InfiniteScroll",{el:a,ownerPage:d});d.infiniteScroll=c;try{console.debug("执行 infinterScroll.onInit()");c.onInit()}catch(b){console.error("初始化无限滚动错误.",b)}},canShow:function(){return true}});
Mini2.define("Mini2.ui.Picker",{extend:"Mini2.ui.Component",title:"请选择",initComponent:function(){var b=this,a=b.el},cols:[{values:["广东省"]},{values:["广州市"]},{values:["天河区","海珠区","荔湾区","越秀区","番禺区","花都区","萝岗区","白云区","南沙区","黄埔区","增城市","从化市","广州大学城"]}],setValue:function(e){var d=this,f,a,b=d.cols;f=e.split(" ");for(var c=0;c<f.length;c++){var g=f[c];a=b[c];a.value=g;d.selectItem(c,g)}return d},getValue:function(){var e=this,f="",a,b=e.cols||[],d=b.length;for(var c=0;c<d;c++){if(c>0){f+=" "}a=b[c];f+=a.value}return f},curCol:null,onInit:function(){var a=this},isPreLoaded:false,onPreLoad:function(){var a=this;if(!a.isPreLoaded){a.isPreLoaded=true;if(a.onLoad){a.onLoad()}}},selectItem:function(d,m){var n=this,e=n.cols,a=e[d],j=n.innerEl,b;var c=$(j).children(".picker-items-col");b=c[d];var q=$(b).children(".picker-items-col-wrapper");var l=$(q).children(".picker-item");var g=null;var f=-1;for(var h=0;h<l.length;h++){var k=l[h];var p=$(k).attr("data-picker-value");if(p==m){f=h;g=k;break}}f=n.selectItemForIndex(d,b,f);var o=f*36;a.local.y=-o;$(q).css("transform","translate3d(0px, "+(a.local.y+72+7)+"px, 0px)")},selectItemForIndex:function(c,b,g){var j=this,a,d=j.cols;var k=$(b).children(".picker-items-col-wrapper");a=d[c];var f=$(k).children(".picker-item");if(g<0){g=0}else{if(g>=f.length){g=f.length-1}}var i=a.item_index;a.item_index=g;var e=f[g];var h=f[i];$(h).removeClass("picker-selected");$(e).addClass("picker-selected");a.value=$(e).attr("data-picker-value");console.debug("itemEl index = ",f.length);return g},baseRender:function(){var m=this,e,f,a,k,d=m.cols||[];for(var h=0;h<d.length;h++){var b=d[h];Mini2.apply(b,{index:h,item_index:-1,mouse_down:{x:0,y:0},mouse_move:{x:0,y:0},src_mouse_move:{x:0,y:0},src_local:{x:0,y:0},local:{x:0,y:0}})}m.el=e=m.$join(['<div class="picker-modal picker-columns  remove-on-close" style="display:none;">','<header class="bar bar-nav">','<button class="button button-link pull-left close-picker" data-cmd="cancel">取消</button>','<button class="button button-link pull-right close-picker" data-cmd="ok" >确定</button>','<h1 class="title">',m.title,"</h1>","</header>",'<div class="picker-modal-inner picker-items">',"</div>",'<div class="picker-center-highlight"></div>',"</div>","</div>"]);f=e.children("header.bar");a=f.children(".close-picker");k=e.children(".picker-modal-inner");for(var h=0;h<d.length;h++){var b=d[h];var o=b.values;var g='<div class="picker-items-col picker-items-col-center ">';g+='<div class="picker-items-col-wrapper" style="transform: translate3d(0px, 72px, 0px);">';for(var l=0;l<o.length;l++){var n=o[l];g+='<div class="picker-item " data-picker-value="'+n+'">'+n+"</div>"}g+="</div>";g+="</div>";k.append(g)}m.headerEl=f;m.innerEl=k;$(a).on("click",function(j){var i=$(this).attr("data-cmd");if("ok"==i&&m.closed){m.closed.call(m)}m.close()});if(m.renderTo){$(m.renderTo).append(e)}var c=$(k).children(".picker-items-col");$(c).on("touchstart",function(q){var s=q.touches[0];var j=s.clientX;var p=s.clientY;var r=$(this).index();var i=m.cols[r];m.curCol=i;i.mouse_down={x:j,y:p};i.mouse_move={x:0,y:0};i.src_mouse_move={x:0,y:0};i.curStep={x:0,y:0};console.log("Touch started (%d, %d)",j,p)});$(c).on("touchmove",function(q){var i=m.curCol;var u=q.touches[0];var p=u.clientY;var r=p-i.mouse_down.y;var t=r-i.src_mouse_move.y;i.src_mouse_move.y=r;i.curStep.y=t;i.local.y+=t;var s=i.local.y%36;console.log("y = %d, m = %d",i.local.y,s);var v=$(this).children(".picker-items-col-wrapper");var r=i.local.y%36;var j=(i.local.y-r)/36;if(r>18){j++}else{if(r<-18){j--}}m.selectItemForIndex(i.index,this,-j);$(v).css("transform","translate3d(0px, "+(i.local.y+72+7)+"px, 0px)");q.preventDefault()});$(c).on("touchend",function(p){if(!m.curCol){return}var i=m.curCol;var t=i.local.y;var q=t%36;var j=(t-q)/36;if(q>18){j++}else{if(q<-18){j--}}j=m.selectItemForIndex(i.index,this,-j);var r=j*36;i.local.y=-r;var s=$(this).children(".picker-items-col-wrapper");$(s).css("transform","translate3d(0px, "+(i.local.y+72+7)+"px, 0px)");console.log("end y = %d",i.local.y);m.curCol=null;p.preventDefault()})},setVisible:function(c){var b=this,a=b.el;a.switchClass("modal-in","modal-out",c);return b},open:function(){var b=this,a=b.el;$(document.body).addClass("with-picker-modal");$(a).show();setTimeout(function(){b.setVisible(true)},100);if(b.value){b.setValue(b.value)}return b},close:function(){var b=this,a=b.el;b.setVisible(false);a.transitionEnd(function(c){console.debug("关闭 Picker.");a.remove()});$(document.body).removeClass("with-picker-modal");return b},render:function(){var b=this,a;b.baseRender();b.open()}});(function(a){a.fn.Picker=function(b){var c=this;a(c).on("click",function(){var d=Mini2.apply({value:a(c).val(),closed:function(){var f=this.getValue();a(c).val(f)}},b);var e=Mini2.create("Mini2.ui.Picker",d);e.render()})}})(Zepto);
Mini2.define("Mini2.ui.Preloader",{extend:"Mini2.ui.Component",tpl:['<div class="preloader-indicator-overlay"></div>','<div class="preloader-indicator-modal">','<span class="preloader preloader-white"></span>',"</div>"],onInit:function(){},baseRender:function(){var b=this,a=b.$join(b.tpl);$(b.renderTo).append(a);b.el=a},open:function(){var b=this,a=b.el;return b},close:function(){var b=this,a=b.el;a.remove();return b},render:function(){var a=this;a.baseRender();a.open()}});$.preloader=function(b){var a;if(b){a=Mini2.create("Mini2.ui.Window",{title:b,contentHtml:'<div class="preloader"></div>'})}else{a=Mini2.create("Mini2.ui.Preloader",{})}a.render();return a};
Mini2.define("Mini2.ui.Window",{extend:"Mini2.ui.Component",onInit:function(){},title:false,text:false,contentHtml:false,buttons:false,afterTextHTML:"",extraClass:"",modalOverlayClass:"modal-overlay",setTitle:function(c){var b=this,a=b.el;b.title=c;$(a).find(".modal-title").html(c)},getTitle:function(){var a=this;return a.title},baseRender:function(){var h=this,g=h.extraClass,j,m="",l="",d="",b=h.afterTextHTML,n=h.verticalButtons?"modal-buttons-vertical":"",f=h.contentHtml,e=h.contentEl,c=h.buttons||[],k=(c.length?"":" modal-no-buttons");if(h.title){m=h.join(['<div class="modal-title">',h.title,"</div>"])}if(e){l=""}else{if(f){l=f}else{if(h.text){l=h.join(['<div class="modal-text">',h.text,"</div>"])}}}var a=document.createElement("div");j=h.join(['<div class="modal ',g,k,'">','<div class="modal-inner">',m,l,b,"</div>",'<div class="modal-buttons ',n,'">',d,"</div>","</div>"]);a.innerHTML=j;var i=$(a).children();if(e){$(i).children(".modal-inner").append(e)}h.initButtonGroup(i);h.showOverlay();h.renderTo=Mini2.getBody();$(h.renderTo).append(i);h.el=i;return i},initButtonGroup:function(h){var g=this,e,b,c,a,d=g.buttons||[],f=d.length;if(f){c=$(h).children(".modal-buttons");for(e=0;e<f;e++){a=d[e];b=g.createButton(a);c.append(b)}}},createButton:function(b){var d=this,c,a=(b.bold?" modal-button-bold":"");c=d.$join(['<span class="modal-button',a,'">',b.text,"</span>"]);c.on("click",function(){var e=b;return function(){e.click.call(d,{sender:c})}}());return c},showOverlay:function(){var a=this,b=a.modalOverlayClass,c=b+"-visible";if($("."+b).length===0){$(document.body).append('<div class="'+b+'"></div>')}$("."+b).addClass(c);return a},hideOverlay:function(){var a=this,b=a.modalOverlayClass,c=b+"-visible";$("."+b).removeClass(c);return a},setVisible:function(c){var b=this,a=b.el;a.switchClass("modal-in","modal-out",c);return b},open:function(){var b=this,a=b.el;a.show().css({marginTop:-Math.round(a.outerHeight()/2)+"px"});b.setVisible(true);return b},close:function(){var b=this,a=b.el;b.hideOverlay();b.setVisible(false);a.transitionEnd(function(c){a.remove();console.debug("关闭窗体.")});return b},render:function(){var b=this,a=b.el;b.baseRender();b.open()}});Mini2.define("Mini2.ui.MessageBox",{extend:"Mini2.ui.Window",buttons:[{title:"消息框",text:"确定",click:function(){this.close()}}],onInit:function(){}});$.alert=function(c,d,a){if(typeof d==="function"){a=arguments[1];d=undefined}var b=Mini2.create("Mini2.ui.MessageBox",{text:c,title:d,callback_ok:a,buttons:[{text:"确定",click:function(){var f=this,e=f.callback_ok;f.close();if(e){e.call(f)}}}]});b.render();return b};$.confirm=function(d,e,b,a){if(typeof e==="function"){a=arguments[2];b=arguments[1];e=undefined}var c=Mini2.create("Mini2.ui.MessageBox",{text:d,title:e,callback_ok:b,callback_cancel:a,buttons:[{text:"确定",click:function(){var g=this,f=g.callback_ok;g.close();if(f){f.call(g)}}},{text:"取消",click:function(){var g=this,f=g.callback_cancel;g.close();if(f){f.call(g)}}}]});c.render();return c};Mini2.define("Mini2.ui.PromptWindow",{extend:"Mini2.ui.MessageBox",contentHtml:'<div class="modal-text">请输入：</div><input type="text" class="modal-text-input">',title:"标题",callback_ok:false,callback_cancel:false,getValue:function(){var b=this,a=b.el;return $(a).find(".modal-text-input").val()},setValue:function(c){var b=this,a=b.el;$(a).find(".modal-text-input").val(c);return b},render:function(){var c=this,a,b;c.baseRender();c.open();a=c.el;b=a.find(".modal-text-input");if(c.value){b.val(c.value)}setTimeout(function(){b.focus()},300)},buttons:[{text:"确定",bold:true,click:function(b){var c=this,a=c.callback_ok,d;if(a){d=a.call(c);if(false!==d){c.close()}}}},{text:"取消",click:function(b){var c=this,a=c.callback_cancel;c.close();if(a){a.call(c)}}}]});$.prompt=function(d,e,b,a){if(typeof e==="function"){a=arguments[2];b=arguments[1];e=undefined}var c=Mini2.create("Mini2.ui.PromptWindow",{contentHtml:'<div class="modal-text">'+d+'</div><input type="text" class="modal-text-input">',title:e,callback_ok:b,callback_cancel:a,});c.render();return c};
Mini2.define("Mini2.ui.Toast",{extend:"Mini2.ui.Component",text:"消息",duration:2000,extraclass:"",onInit:function(){},baseRender:function(){var c=this,d,a,b=c.extraclass||"";d=['<div class="modal toast ',b,'">',c.text,"</div>"];c.el=a=c.$join(d);$(c.renderTo).append(a)},setVisible:function(c){var b=this,a=b.el;a.switchClass("modal-in","modal-out",c);return b},open:function(){var b=this,a=b.el;a.show();var c=0;if($(a).outerWidth){c=$(a).outerWidth()}else{if($(a).width){c=$(a).width()}}a.css({marginLeft:-Math.round(c/2/1.185)+"px"});b.setVisible(true);return b},close:function(){var b=this,a=b.el;b.setVisible(false);a.transitionEnd(function(c){a.remove()});return b},render:function(){var a=this;a.baseRender();a.open();setTimeout(function(){a.close()},a.duration)}});$.toast=function(d,a,b){var c=Mini2.create("Mini2.ui.Toast",{text:d,duration:a||2000,extraclass:b});c.render();return c};
Mini2.define("Mini2.ui.Popup",{extend:"Mini2.ui.Component",popupOverlayClass:"popup-overlay",initComponent:function(){var c=this,b=c.el,d=c.popupOverlayClass;var a=$(b).find(".close-popup");a.on("click",function(f){c.close()})},showOverlay:function(){var a=this,b=a.popupOverlayClass;if(0===$("."+b).length){$(a.renderTo).append('<div class="'+b+'"></div>')}$("."+b).addClass(b+"-visible");return a},hideOverlay:function(){var a=this,b=a.popupOverlayClass;$("."+b).removeClass(b+"-visible");return a},onInit:function(){var a=this},baseRender:function(){var b=this,a=b.el},setVisible:function(c){var b=this,a=b.el;a.switchClass("modal-in","modal-out",c);return b},isPreLoaded:false,onPreLoad:function(){var a=this;if(!a.isPreLoaded){a.isPreLoaded=true;if(a.onLoad){a.onLoad()}}},open:function(){var b=this,a=b.el;b.showOverlay();$(a).show();setTimeout(function(){b.setVisible(true);b.on("opened")},50);return b},close:function(){var b=this,a=b.el;b.hideOverlay();b.setVisible(false);setTimeout(function(){$(a).remove()},500);b.on("closed");return b},render:function(){var b=this,a=b.el;b.baseRender();b.open();return b}});
Mini2.define("Mini2.ui.Tabs",{extend:"Mini2.ui.Component"});+function(a){var c=function(i,j,d){var e=a(i);if(arguments.length===2){if(typeof j==="boolean"){d=j}}if(e.length===0){return false}if(e.hasClass("active")){if(d){e.trigger("show")}return false}var k=e.parent(".tabs");if(k.length===0){return false}var f=k.children(".tab.active").removeClass("active");e.addClass("active");e.trigger("show");if(j){j=a(j)}else{if(typeof i==="string"){j=a('.tab-link[href="'+i+'"]')}else{j=a('.tab-link[href="#'+e.attr("id")+'"]')}if(!j||j&&j.length===0){a("[data-tab]").each(function(){if(e.is(a(this).attr("data-tab"))){j=a(this)}})}}if(j.length===0){return}var h;if(f&&f.length>0){var g=f.attr("id");if(g){h=a('.tab-link[href="#'+g+'"]')}if(!h||h&&h.length===0){a("[data-tab]").each(function(){if(f.is(a(this).attr("data-tab"))){h=a(this)}})}}if(j&&j.length>0){j.addClass("active")}if(h&&h.length>0){h.removeClass("active")}j.trigger("active");return true};var b=a.showTab;a.showTab=c;a.showTab.noConflict=function(){a.showTab=b;return this};a(document).on("click",".tab-link",function(f){f.preventDefault();var d=a(this);c(d.data("tab")||d.attr("href"),d)})}(Zepto);
window.addEventListener("load",function(){(function(b){var c=function(h,B){var l=this.defaults;var q=B&&B.virtualTranslate;B=B||{};for(var k in l){if(typeof B[k]==="undefined"){B[k]=l[k]}else{if(typeof B[k]==="object"){for(var j in l[k]){if(typeof B[k][j]==="undefined"){B[k][j]=l[k][j]}}}}}var D=this;D.params=B;D.classNames=[];D.$=b;D.container=b(h);if(D.container.length===0){return}if(D.container.length>1){D.container.each(function(){new b.Swiper(this,B)});return}D.container[0].swiper=D;D.container.data("swiper",D);D.classNames.push("swiper-container-"+D.params.direction);if(D.params.freeMode){D.classNames.push("swiper-container-free-mode")}if(!D.support.flexbox){D.classNames.push("swiper-container-no-flexbox");D.params.slidesPerColumn=1}if(D.params.parallax||D.params.watchSlidesVisibility){D.params.watchSlidesProgress=true}if(["cube","coverflow"].indexOf(D.params.effect)>=0){if(D.support.transforms3d){D.params.watchSlidesProgress=true;D.classNames.push("swiper-container-3d")}else{D.params.effect="slide"}}if(D.params.effect!=="slide"){D.classNames.push("swiper-container-"+D.params.effect)}if(D.params.effect==="cube"){D.params.resistanceRatio=0;D.params.slidesPerView=1;D.params.slidesPerColumn=1;D.params.slidesPerGroup=1;D.params.centeredSlides=false;D.params.spaceBetween=0;D.params.virtualTranslate=true;D.params.setWrapperSize=false}if(D.params.effect==="fade"){D.params.slidesPerView=1;D.params.slidesPerColumn=1;D.params.slidesPerGroup=1;D.params.watchSlidesProgress=true;D.params.spaceBetween=0;if(typeof q==="undefined"){D.params.virtualTranslate=true}}if(D.params.grabCursor&&D.support.touch){D.params.grabCursor=false}D.wrapper=D.container.children("."+D.params.wrapperClass);if(D.params.pagination){D.paginationContainer=b(D.params.pagination);if(D.params.paginationClickable){D.paginationContainer.addClass("swiper-pagination-clickable")}}function t(){return D.params.direction==="horizontal"}D.rtl=t()&&(D.container[0].dir.toLowerCase()==="rtl"||D.container.css("direction")==="rtl");if(D.rtl){D.classNames.push("swiper-container-rtl")}if(D.rtl){D.wrongRTL=D.wrapper.css("display")==="-webkit-box"}if(D.params.slidesPerColumn>1){D.classNames.push("swiper-container-multirow")}if(D.device.android){D.classNames.push("swiper-container-android")}D.container.addClass(D.classNames.join(" "));D.translate=0;D.progress=0;D.velocity=0;D.lockSwipeToNext=function(){D.params.allowSwipeToNext=false};D.lockSwipeToPrev=function(){D.params.allowSwipeToPrev=false};D.lockSwipes=function(){D.params.allowSwipeToNext=D.params.allowSwipeToPrev=false};D.unlockSwipeToNext=function(){D.params.allowSwipeToNext=true};D.unlockSwipeToPrev=function(){D.params.allowSwipeToPrev=true};D.unlockSwipes=function(){D.params.allowSwipeToNext=D.params.allowSwipeToPrev=true};if(D.params.grabCursor){D.container[0].style.cursor="move";D.container[0].style.cursor="-webkit-grab";D.container[0].style.cursor="-moz-grab";D.container[0].style.cursor="grab"}D.imagesToLoad=[];D.imagesLoaded=0;D.loadImage=function(K,M,s,p){var J;function L(){if(p){p()}}if(!K.complete||!s){if(M){J=new Image();J.onload=L;J.onerror=L;J.src=M}else{L()}}else{L()}};D.preloadImages=function(){D.imagesToLoad=D.container.find("img");function p(){if(typeof D==="undefined"||D===null){return}if(D.imagesLoaded!==undefined){D.imagesLoaded++}if(D.imagesLoaded===D.imagesToLoad.length){if(D.params.updateOnImagesReady){D.update()}D.emit("onImagesReady",D)}}for(var s=0;s<D.imagesToLoad.length;s++){D.loadImage(D.imagesToLoad[s],(D.imagesToLoad[s].currentSrc||D.imagesToLoad[s].getAttribute("src")),true,p)}};D.autoplayTimeoutId=undefined;D.autoplaying=false;D.autoplayPaused=false;function f(){D.autoplayTimeoutId=setTimeout(function(){if(D.params.loop){D.fixLoop();D._slideNext()}else{if(!D.isEnd){D._slideNext()}else{if(!B.autoplayStopOnLast){D._slideTo(0)}else{D.stopAutoplay()}}}},D.params.autoplay)}D.startAutoplay=function(){if(typeof D.autoplayTimeoutId!=="undefined"){return false}if(!D.params.autoplay){return false}if(D.autoplaying){return false}D.autoplaying=true;D.emit("onAutoplayStart",D);f()};D.stopAutoplay=function(){if(!D.autoplayTimeoutId){return}if(D.autoplayTimeoutId){clearTimeout(D.autoplayTimeoutId)}D.autoplaying=false;D.autoplayTimeoutId=undefined;D.emit("onAutoplayStop",D)};D.pauseAutoplay=function(p){if(D.autoplayPaused){return}if(D.autoplayTimeoutId){clearTimeout(D.autoplayTimeoutId)}D.autoplayPaused=true;if(p===0){D.autoplayPaused=false;f()}else{D.wrapper.transitionEnd(function(){D.autoplayPaused=false;if(!D.autoplaying){D.stopAutoplay()}else{f()}})}};D.minTranslate=function(){return(-D.snapGrid[0])};D.maxTranslate=function(){return(-D.snapGrid[D.snapGrid.length-1])};D.updateContainerSize=function(){D.width=D.container[0].clientWidth;D.height=D.container[0].clientHeight;D.size=t()?D.width:D.height};D.updateSlidesSize=function(){D.slides=D.wrapper.children("."+D.params.slideClass);D.snapGrid=[];D.slidesGrid=[];D.slidesSizesGrid=[];var U=D.params.spaceBetween,P=0,s,M=0,J=0;if(typeof U==="string"&&U.indexOf("%")>=0){U=parseFloat(U.replace("%",""))/100*D.size}D.virtualSize=-U;if(D.rtl){D.slides.css({marginLeft:"",marginTop:""})}else{D.slides.css({marginRight:"",marginBottom:""})}var R;if(D.params.slidesPerColumn>1){if(Math.floor(D.slides.length/D.params.slidesPerColumn)===D.slides.length/D.params.slidesPerColumn){R=D.slides.length}else{R=Math.ceil(D.slides.length/D.params.slidesPerColumn)*D.params.slidesPerColumn}}var Q;for(s=0;s<D.slides.length;s++){Q=0;var O=D.slides.eq(s);if(D.params.slidesPerColumn>1){var K;var p,N;var S=D.params.slidesPerColumn;var T;if(D.params.slidesPerColumnFill==="column"){p=Math.floor(s/S);N=s-p*S;K=p+N*R/S;O.css({"-webkit-box-ordinal-group":K,"-moz-box-ordinal-group":K,"-ms-flex-order":K,"-webkit-order":K,order:K})}else{T=R/S;N=Math.floor(s/T);p=s-N*T}O.css({"margin-top":(N!==0&&D.params.spaceBetween)&&(D.params.spaceBetween+"px")}).attr("data-swiper-column",p).attr("data-swiper-row",N)}if(O.css("display")==="none"){continue}if(D.params.slidesPerView==="auto"){Q=t()?O.outerWidth(true):O.outerHeight(true)}else{Q=(D.size-(D.params.slidesPerView-1)*U)/D.params.slidesPerView;if(t()){D.slides[s].style.width=Q+"px"}else{D.slides[s].style.height=Q+"px"}}D.slides[s].swiperSlideSize=Q;D.slidesSizesGrid.push(Q);if(D.params.centeredSlides){P=P+Q/2+M/2+U;if(s===0){P=P-D.size/2-U}if(Math.abs(P)<1/1000){P=0}if((J)%D.params.slidesPerGroup===0){D.snapGrid.push(P)}D.slidesGrid.push(P)}else{if((J)%D.params.slidesPerGroup===0){D.snapGrid.push(P)}D.slidesGrid.push(P);P=P+Q+U}D.virtualSize+=Q+U;M=Q;J++}D.virtualSize=Math.max(D.virtualSize,D.size);var L;if(D.rtl&&D.wrongRTL&&(D.params.effect==="slide"||D.params.effect==="coverflow")){D.wrapper.css({width:D.virtualSize+D.params.spaceBetween+"px"})}if(!D.support.flexbox||D.params.setWrapperSize){if(t()){D.wrapper.css({width:D.virtualSize+D.params.spaceBetween+"px"})}else{D.wrapper.css({height:D.virtualSize+D.params.spaceBetween+"px"})}}if(D.params.slidesPerColumn>1){D.virtualSize=(Q+D.params.spaceBetween)*R;D.virtualSize=Math.ceil(D.virtualSize/D.params.slidesPerColumn)-D.params.spaceBetween;D.wrapper.css({width:D.virtualSize+D.params.spaceBetween+"px"});if(D.params.centeredSlides){L=[];for(s=0;s<D.snapGrid.length;s++){if(D.snapGrid[s]<D.virtualSize+D.snapGrid[0]){L.push(D.snapGrid[s])}}D.snapGrid=L}}if(!D.params.centeredSlides){L=[];for(s=0;s<D.snapGrid.length;s++){if(D.snapGrid[s]<=D.virtualSize-D.size){L.push(D.snapGrid[s])}}D.snapGrid=L;if(Math.floor(D.virtualSize-D.size)>Math.floor(D.snapGrid[D.snapGrid.length-1])){D.snapGrid.push(D.virtualSize-D.size)}}if(D.snapGrid.length===0){D.snapGrid=[0]}if(D.params.spaceBetween!==0){if(t()){if(D.rtl){D.slides.css({marginLeft:U+"px"})}else{D.slides.css({marginRight:U+"px"})}}else{D.slides.css({marginBottom:U+"px"})}}if(D.params.watchSlidesProgress){D.updateSlidesOffset()}};D.updateSlidesOffset=function(){for(var p=0;p<D.slides.length;p++){D.slides[p].swiperSlideOffset=t()?D.slides[p].offsetLeft:D.slides[p].offsetTop}};D.updateSlidesProgress=function(P){if(typeof P==="undefined"){P=D.translate||0}if(D.slides.length===0){return}if(typeof D.slides[0].swiperSlideOffset==="undefined"){D.updateSlidesOffset()}var J=D.params.centeredSlides?-P+D.size/2:-P;if(D.rtl){J=D.params.centeredSlides?P-D.size/2:P}D.slides.removeClass(D.params.slideVisibleClass);for(var p=0;p<D.slides.length;p++){var K=D.slides[p];var N=(D.params.centeredSlides===true)?K.swiperSlideSize/2:0;var O=(J-K.swiperSlideOffset-N)/(K.swiperSlideSize+D.params.spaceBetween);if(D.params.watchSlidesVisibility){var M=-(J-K.swiperSlideOffset-N);var L=M+D.slidesSizesGrid[p];var s=(M>=0&&M<D.size)||(L>0&&L<=D.size)||(M<=0&&L>=D.size);if(s){D.slides.eq(p).addClass(D.params.slideVisibleClass)}}K.progress=D.rtl?-O:O}};D.updateProgress=function(p){if(typeof p==="undefined"){p=D.translate||0}var s=D.maxTranslate()-D.minTranslate();if(s===0){D.progress=0;D.isBeginning=D.isEnd=true}else{D.progress=(p-D.minTranslate())/(s);D.isBeginning=D.progress<=0;D.isEnd=D.progress>=1}if(D.isBeginning){D.emit("onReachBeginning",D)}if(D.isEnd){D.emit("onReachEnd",D)}if(D.params.watchSlidesProgress){D.updateSlidesProgress(p)}D.emit("onProgress",D,D.progress)};D.updateActiveIndex=function(){var K=D.rtl?D.translate:-D.translate;var s,p,J;for(p=0;p<D.slidesGrid.length;p++){if(typeof D.slidesGrid[p+1]!=="undefined"){if(K>=D.slidesGrid[p]&&K<D.slidesGrid[p+1]-(D.slidesGrid[p+1]-D.slidesGrid[p])/2){s=p}else{if(K>=D.slidesGrid[p]&&K<D.slidesGrid[p+1]){s=p+1}}}else{if(K>=D.slidesGrid[p]){s=p}}}if(s<0||typeof s==="undefined"){s=0}J=Math.floor(s/D.params.slidesPerGroup);if(J>=D.snapGrid.length){J=D.snapGrid.length-1}if(s===D.activeIndex){return}D.snapIndex=J;D.previousIndex=D.activeIndex;D.activeIndex=s;D.updateClasses()};D.updateClasses=function(){D.slides.removeClass(D.params.slideActiveClass+" "+D.params.slideNextClass+" "+D.params.slidePrevClass);var p=D.slides.eq(D.activeIndex);p.addClass(D.params.slideActiveClass);p.next("."+D.params.slideClass).addClass(D.params.slideNextClass);p.prev("."+D.params.slideClass).addClass(D.params.slidePrevClass);if(D.bullets&&D.bullets.length>0){D.bullets.removeClass(D.params.bulletActiveClass);var s;if(D.params.loop){s=Math.ceil(D.activeIndex-D.loopedSlides)/D.params.slidesPerGroup;if(s>D.slides.length-1-D.loopedSlides*2){s=s-(D.slides.length-D.loopedSlides*2)}if(s>D.bullets.length-1){s=s-D.bullets.length}}else{if(typeof D.snapIndex!=="undefined"){s=D.snapIndex}else{s=D.activeIndex||0}}if(D.paginationContainer.length>1){D.bullets.each(function(){if(b(this).index()===s){b(this).addClass(D.params.bulletActiveClass)}})}else{D.bullets.eq(s).addClass(D.params.bulletActiveClass)}}if(!D.params.loop){if(D.params.prevButton){if(D.isBeginning){b(D.params.prevButton).addClass(D.params.buttonDisabledClass);if(D.params.a11y&&D.a11y){D.a11y.disable(b(D.params.prevButton))}}else{b(D.params.prevButton).removeClass(D.params.buttonDisabledClass);if(D.params.a11y&&D.a11y){D.a11y.enable(b(D.params.prevButton))}}}if(D.params.nextButton){if(D.isEnd){b(D.params.nextButton).addClass(D.params.buttonDisabledClass);if(D.params.a11y&&D.a11y){D.a11y.disable(b(D.params.nextButton))}}else{b(D.params.nextButton).removeClass(D.params.buttonDisabledClass);if(D.params.a11y&&D.a11y){D.a11y.enable(b(D.params.nextButton))}}}}};D.updatePagination=function(){if(!D.params.pagination){return}if(D.paginationContainer&&D.paginationContainer.length>0){var p="";var J=D.params.loop?Math.ceil((D.slides.length-D.loopedSlides*2)/D.params.slidesPerGroup):D.snapGrid.length;for(var s=0;s<J;s++){if(D.params.paginationBulletRender){p+=D.params.paginationBulletRender(s,D.params.bulletClass)}else{p+='<span class="'+D.params.bulletClass+'"></span>'}}D.paginationContainer.html(p);D.bullets=D.paginationContainer.find("."+D.params.bulletClass)}};D.update=function(K){D.updateContainerSize();D.updateSlidesSize();D.updateProgress();D.updatePagination();D.updateClasses();if(D.params.scrollbar&&D.scrollbar){D.scrollbar.set()}function p(){s=Math.min(Math.max(D.translate,D.maxTranslate()),D.minTranslate());D.setWrapperTranslate(s);D.updateActiveIndex();D.updateClasses()}if(K){var J,s;if(D.params.freeMode){p()}else{if(D.params.slidesPerView==="auto"&&D.isEnd&&!D.params.centeredSlides){J=D.slideTo(D.slides.length-1,0,false,true)}else{J=D.slideTo(D.activeIndex,0,false,true)}if(!J){p()}}}};D.onResize=function(){D.updateContainerSize();D.updateSlidesSize();D.updateProgress();if(D.params.slidesPerView==="auto"||D.params.freeMode){D.updatePagination()}if(D.params.scrollbar&&D.scrollbar){D.scrollbar.set()}if(D.params.freeMode){var p=Math.min(Math.max(D.translate,D.maxTranslate()),D.minTranslate());D.setWrapperTranslate(p);D.updateActiveIndex();D.updateClasses()}else{D.updateClasses();if(D.params.slidesPerView==="auto"&&D.isEnd&&!D.params.centeredSlides){D.slideTo(D.slides.length-1,0,false,true)}else{D.slideTo(D.activeIndex,0,false,true)}}};var m=["mousedown","mousemove","mouseup"];if(window.navigator.pointerEnabled){m=["pointerdown","pointermove","pointerup"]}else{if(window.navigator.msPointerEnabled){m=["MSPointerDown","MSPointerMove","MSPointerUp"]}}D.touchEvents={start:D.support.touch||!D.params.simulateTouch?"touchstart":m[0],move:D.support.touch||!D.params.simulateTouch?"touchmove":m[1],end:D.support.touch||!D.params.simulateTouch?"touchend":m[2]};if(window.navigator.pointerEnabled||window.navigator.msPointerEnabled){(D.params.touchEventsTarget==="container"?D.container:D.wrapper).addClass("swiper-wp8-"+D.params.direction)}D.initEvents=function(J){var s=J?"off":"on";var p=J?"removeEventListener":"addEventListener";var M=D.params.touchEventsTarget==="container"?D.container[0]:D.wrapper[0];var L=D.support.touch?M:document;var K=D.params.nested?true:false;if(D.browser.ie){M[p](D.touchEvents.start,D.onTouchStart,false);L[p](D.touchEvents.move,D.onTouchMove,K);L[p](D.touchEvents.end,D.onTouchEnd,false)}else{if(D.support.touch){M[p](D.touchEvents.start,D.onTouchStart,false);M[p](D.touchEvents.move,D.onTouchMove,K);M[p](D.touchEvents.end,D.onTouchEnd,false)}if(B.simulateTouch&&!D.device.ios&&!D.device.android){M[p]("mousedown",D.onTouchStart,false);L[p]("mousemove",D.onTouchMove,K);L[p]("mouseup",D.onTouchEnd,false)}}window[p]("resize",D.onResize);if(D.params.nextButton){b(D.params.nextButton)[s]("click",D.onClickNext);if(D.params.a11y&&D.a11y){b(D.params.nextButton)[s]("keydown",D.a11y.onEnterKey)}}if(D.params.prevButton){b(D.params.prevButton)[s]("click",D.onClickPrev);if(D.params.a11y&&D.a11y){b(D.params.prevButton)[s]("keydown",D.a11y.onEnterKey)}}if(D.params.pagination&&D.params.paginationClickable){b(D.paginationContainer)[s]("click","."+D.params.bulletClass,D.onClickIndex)}if(D.params.preventClicks||D.params.preventClicksPropagation){M[p]("click",D.preventClicks,true)}};D.attachEvents=function(){D.initEvents()};D.detachEvents=function(){D.initEvents(true)};D.allowClick=true;D.preventClicks=function(p){if(!D.allowClick){if(D.params.preventClicks){p.preventDefault()}if(D.params.preventClicksPropagation){p.stopPropagation();p.stopImmediatePropagation()}}};D.onClickNext=function(p){p.preventDefault();D.slideNext()};D.onClickPrev=function(p){p.preventDefault();D.slidePrev()};D.onClickIndex=function(p){p.preventDefault();var s=b(this).index()*D.params.slidesPerGroup;if(D.params.loop){s=s+D.loopedSlides}D.slideTo(s)};function n(p,K){var s=b(p.target);if(!s.is(K)){if(typeof K==="string"){s=s.parents(K)}else{if(K.nodeType){var J;s.parents().each(function(M,L){if(L===K){J=K}});if(!J){return undefined}else{return K}}}}if(s.length===0){return undefined}return s[0]}D.updateClickedSlide=function(s){var K=n(s,"."+D.params.slideClass);if(K){D.clickedSlide=K;D.clickedIndex=b(K).index()}else{D.clickedSlide=undefined;D.clickedIndex=undefined;return}if(D.params.slideToClickedSlide&&D.clickedIndex!==undefined&&D.clickedIndex!==D.activeIndex){var L=D.clickedIndex,J;if(D.params.loop){J=b(D.clickedSlide).attr("data-swiper-slide-index");if(L>D.slides.length-D.params.slidesPerView){D.fixLoop();L=D.wrapper.children("."+D.params.slideClass+'[data-swiper-slide-index="'+J+'"]').eq(0).index();setTimeout(function(){D.slideTo(L)},0)}else{if(L<D.params.slidesPerView-1){D.fixLoop();var p=D.wrapper.children("."+D.params.slideClass+'[data-swiper-slide-index="'+J+'"]');L=p.eq(p.length-1).index();setTimeout(function(){D.slideTo(L)},0)}else{D.slideTo(L)}}}else{D.slideTo(L)}}};var w,u,H,v,i,G,e,o="input, select, textarea, button",y=Date.now(),g,I=[],d;D.animating=false;D.touches={startX:0,startY:0,currentX:0,currentY:0,diff:0};var x,F;D.onTouchStart=function(p){if(p.originalEvent){p=p.originalEvent}x=p.type==="touchstart";if(!x&&"which" in p&&p.which===3){return}if(D.params.noSwiping&&n(p,"."+D.params.noSwipingClass)){D.allowClick=true;return}if(D.params.swipeHandler){if(!n(p,D.params.swipeHandler)){return}}w=true;u=false;v=undefined;F=undefined;D.touches.startX=D.touches.currentX=p.type==="touchstart"?p.targetTouches[0].pageX:p.pageX;D.touches.startY=D.touches.currentY=p.type==="touchstart"?p.targetTouches[0].pageY:p.pageY;H=Date.now();D.allowClick=true;D.updateContainerSize();D.swipeDirection=undefined;if(D.params.threshold>0){e=false}if(p.type!=="touchstart"){var s=true;if(b(p.target).is(o)){s=false}if(document.activeElement&&b(document.activeElement).is(o)){document.activeElement.blur()}if(s){p.preventDefault()}}D.emit("onTouchStart",D,p)};D.onTouchMove=function(J){if(J.originalEvent){J=J.originalEvent}if(x&&J.type==="mousemove"){return}if(J.preventedByNestedSwiper){return}if(D.params.onlyExternal){u=true;D.allowClick=false;return}if(x&&document.activeElement){if(J.target===document.activeElement&&b(J.target).is(o)){u=true;D.allowClick=false;return}}D.emit("onTouchMove",D,J);if(J.targetTouches&&J.targetTouches.length>1){return}D.touches.currentX=J.type==="touchmove"?J.targetTouches[0].pageX:J.pageX;D.touches.currentY=J.type==="touchmove"?J.targetTouches[0].pageY:J.pageY;if(typeof v==="undefined"){var K=Math.atan2(Math.abs(D.touches.currentY-D.touches.startY),Math.abs(D.touches.currentX-D.touches.startX))*180/Math.PI;v=t()?K>D.params.touchAngle:(90-K>D.params.touchAngle)}if(v){D.emit("onTouchMoveOpposite",D,J)}if(typeof F==="undefined"&&D.browser.ieTouch){if(D.touches.currentX!==D.touches.startX||D.touches.currentY!==D.touches.startY){F=true}}if(!w){return}if(v){w=false;return}if(!F&&D.browser.ieTouch){return}D.allowClick=false;D.emit("onSliderMove",D,J);J.preventDefault();if(D.params.touchMoveStopPropagation&&!D.params.nested){J.stopPropagation()}if(!u){if(B.loop){D.fixLoop()}G=D.getWrapperTranslate();D.setWrapperTransition(0);if(D.animating){D.wrapper.trigger("webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd")}if(D.params.autoplay&&D.autoplaying){if(D.params.autoplayDisableOnInteraction){D.stopAutoplay()}else{D.pauseAutoplay()}}d=false;if(D.params.grabCursor){D.container[0].style.cursor="move";D.container[0].style.cursor="-webkit-grabbing";D.container[0].style.cursor="-moz-grabbin";D.container[0].style.cursor="grabbing"}}u=true;var p=D.touches.diff=t()?D.touches.currentX-D.touches.startX:D.touches.currentY-D.touches.startY;p=p*D.params.touchRatio;if(D.rtl){p=-p}D.swipeDirection=p>0?"prev":"next";i=p+G;var s=true;if((p>0&&i>D.minTranslate())){s=false;if(D.params.resistance){i=D.minTranslate()-1+Math.pow(-D.minTranslate()+G+p,D.params.resistanceRatio)}}else{if(p<0&&i<D.maxTranslate()){s=false;if(D.params.resistance){i=D.maxTranslate()+1-Math.pow(D.maxTranslate()-G-p,D.params.resistanceRatio)}}}if(s){J.preventedByNestedSwiper=true}if(!D.params.allowSwipeToNext&&D.swipeDirection==="next"&&i<G){i=G}if(!D.params.allowSwipeToPrev&&D.swipeDirection==="prev"&&i>G){i=G}if(!D.params.followFinger){return}if(D.params.threshold>0){if(Math.abs(p)>D.params.threshold||e){if(!e){e=true;D.touches.startX=D.touches.currentX;D.touches.startY=D.touches.currentY;i=G;D.touches.diff=t()?D.touches.currentX-D.touches.startX:D.touches.currentY-D.touches.startY;return}}else{i=G;return}}if(D.params.freeMode||D.params.watchSlidesProgress){D.updateActiveIndex()}if(D.params.freeMode){if(I.length===0){I.push({position:D.touches[t()?"startX":"startY"],time:H})}I.push({position:D.touches[t()?"currentX":"currentY"],time:(new Date()).getTime()})}D.updateProgress(i);D.setWrapperTranslate(i)};D.onTouchEnd=function(M){if(M.originalEvent){M=M.originalEvent}D.emit("onTouchEnd",D,M);if(!w){return}if(D.params.grabCursor&&u&&w){D.container[0].style.cursor="move";D.container[0].style.cursor="-webkit-grab";D.container[0].style.cursor="-moz-grab";D.container[0].style.cursor="grab"}var X=Date.now();var W=X-H;if(D.allowClick){D.updateClickedSlide(M);D.emit("onTap",D,M);if(W<300&&(X-y)>300){if(g){clearTimeout(g)}g=setTimeout(function(){if(!D){return}if(D.params.paginationHide&&D.paginationContainer.length>0&&!b(M.target).hasClass(D.params.bulletClass)){D.paginationContainer.toggleClass(D.params.paginationHiddenClass)}D.emit("onClick",D,M)},300)}if(W<300&&(X-y)<300){if(g){clearTimeout(g)}D.emit("onDoubleTap",D,M)}}y=Date.now();setTimeout(function(){if(D&&D.allowClick){D.allowClick=true}},0);if(!w||!u||!D.swipeDirection||D.touches.diff===0||i===G){w=u=false;return}w=u=false;var J;if(D.params.followFinger){J=D.rtl?D.translate:-D.translate}else{J=-i}if(D.params.freeMode){if(J<-D.minTranslate()){D.slideTo(D.activeIndex);return}else{if(J>-D.maxTranslate()){D.slideTo(D.slides.length-1);return}}if(D.params.freeModeMomentum){if(I.length>1){var P=I.pop(),Y=I.pop();var K=P.position-Y.position;var V=P.time-Y.time;D.velocity=K/V;D.velocity=D.velocity/2;if(Math.abs(D.velocity)<0.02){D.velocity=0}if(V>150||(new Date().getTime()-P.time)>300){D.velocity=0}}else{D.velocity=0}I.length=0;var R=1000*D.params.freeModeMomentumRatio;var Q=D.velocity*R;var S=D.translate+Q;if(D.rtl){S=-S}var L=false;var p;var s=Math.abs(D.velocity)*20*D.params.freeModeMomentumBounceRatio;if(S<D.maxTranslate()){if(D.params.freeModeMomentumBounce){if(S+D.maxTranslate()<-s){S=D.maxTranslate()-s}p=D.maxTranslate();L=true;d=true}else{S=D.maxTranslate()}}if(S>D.minTranslate()){if(D.params.freeModeMomentumBounce){if(S-D.minTranslate()>s){S=D.minTranslate()+s}p=D.minTranslate();L=true;d=true}else{S=D.minTranslate()}}if(D.velocity!==0){if(D.rtl){R=Math.abs((-S-D.translate)/D.velocity)}else{R=Math.abs((S-D.translate)/D.velocity)}}if(D.params.freeModeMomentumBounce&&L){D.updateProgress(p);D.setWrapperTransition(R);D.setWrapperTranslate(S);D.onTransitionStart();D.animating=true;D.wrapper.transitionEnd(function(){if(!d){return}D.emit("onMomentumBounce",D);D.setWrapperTransition(D.params.speed);D.setWrapperTranslate(p);D.wrapper.transitionEnd(function(){D.onTransitionEnd()})})}else{if(D.velocity){D.updateProgress(S);D.setWrapperTransition(R);D.setWrapperTranslate(S);D.onTransitionStart();if(!D.animating){D.animating=true;D.wrapper.transitionEnd(function(){D.onTransitionEnd()})}}else{D.updateProgress(S)}}D.updateActiveIndex()}if(!D.params.freeModeMomentum||W>=D.params.longSwipesMs){D.updateProgress();D.updateActiveIndex()}return}var O,U=0,N=D.slidesSizesGrid[0];for(O=0;O<D.slidesGrid.length;O+=D.params.slidesPerGroup){if(typeof D.slidesGrid[O+D.params.slidesPerGroup]!=="undefined"){if(J>=D.slidesGrid[O]&&J<D.slidesGrid[O+D.params.slidesPerGroup]){U=O;N=D.slidesGrid[O+D.params.slidesPerGroup]-D.slidesGrid[O]}}else{if(J>=D.slidesGrid[O]){U=O;N=D.slidesGrid[D.slidesGrid.length-1]-D.slidesGrid[D.slidesGrid.length-2]}}}var T=(J-D.slidesGrid[U])/N;if(W>D.params.longSwipesMs){if(!D.params.longSwipes){D.slideTo(D.activeIndex);return}if(D.swipeDirection==="next"){if(T>=D.params.longSwipesRatio){D.slideTo(U+D.params.slidesPerGroup)}else{D.slideTo(U)}}if(D.swipeDirection==="prev"){if(T>(1-D.params.longSwipesRatio)){D.slideTo(U+D.params.slidesPerGroup)}else{D.slideTo(U)}}}else{if(!D.params.shortSwipes){D.slideTo(D.activeIndex);return}if(D.swipeDirection==="next"){D.slideTo(U+D.params.slidesPerGroup)}if(D.swipeDirection==="prev"){D.slideTo(U)}}};D._slideTo=function(p,s){return D.slideTo(p,s,true,true)};D.slideTo=function(K,L,J,s){if(typeof J==="undefined"){J=true}if(typeof K==="undefined"){K=0}if(K<0){K=0}D.snapIndex=Math.floor(K/D.params.slidesPerGroup);if(D.snapIndex>=D.snapGrid.length){D.snapIndex=D.snapGrid.length-1}var M=-D.snapGrid[D.snapIndex];if(D.params.autoplay&&D.autoplaying){if(s||!D.params.autoplayDisableOnInteraction){D.pauseAutoplay(L)}else{D.stopAutoplay()}}D.updateProgress(M);for(var p=0;p<D.slidesGrid.length;p++){if(-M>=D.slidesGrid[p]){K=p}}if(typeof L==="undefined"){L=D.params.speed}D.previousIndex=D.activeIndex||0;D.activeIndex=K;if(M===D.translate){D.updateClasses();return false}D.onTransitionStart(J);if(L===0){D.setWrapperTransition(0);D.setWrapperTranslate(M);D.onTransitionEnd(J)}else{D.setWrapperTransition(L);D.setWrapperTranslate(M);if(!D.animating){D.animating=true;D.wrapper.transitionEnd(function(){D.onTransitionEnd(J)})}}D.updateClasses();return true};D.onTransitionStart=function(p){if(typeof p==="undefined"){p=true}if(D.lazy){D.lazy.onTransitionStart()}if(p){D.emit("onTransitionStart",D);if(D.activeIndex!==D.previousIndex){D.emit("onSlideChangeStart",D)}}};D.onTransitionEnd=function(p){D.animating=false;D.setWrapperTransition(0);if(typeof p==="undefined"){p=true}if(D.lazy){D.lazy.onTransitionEnd()}if(p){D.emit("onTransitionEnd",D);if(D.activeIndex!==D.previousIndex){D.emit("onSlideChangeEnd",D)}}if(D.params.hashnav&&D.hashnav){D.hashnav.setHash()}};D.slideNext=function(s,J,p){if(D.params.loop){if(D.animating){return false}D.fixLoop();return D.slideTo(D.activeIndex+D.params.slidesPerGroup,J,s,p)}else{return D.slideTo(D.activeIndex+D.params.slidesPerGroup,J,s,p)}};D._slideNext=function(p){return D.slideNext(true,p,true)};D.slidePrev=function(s,J,p){if(D.params.loop){if(D.animating){return false}D.fixLoop();return D.slideTo(D.activeIndex-1,J,s,p)}else{return D.slideTo(D.activeIndex-1,J,s,p)}};D._slidePrev=function(p){return D.slidePrev(true,p,true)};D.slideReset=function(p,s){return D.slideTo(D.activeIndex,s,p)};D.setWrapperTransition=function(s,p){D.wrapper.transition(s);if(D.params.effect!=="slide"&&D.effects[D.params.effect]){D.effects[D.params.effect].setTransition(s)}if(D.params.parallax&&D.parallax){D.parallax.setTransition(s)}if(D.params.scrollbar&&D.scrollbar){D.scrollbar.setTransition(s)}if(D.params.control&&D.controller){D.controller.setTransition(s,p)}D.emit("onSetTransition",D,s)};D.setWrapperTranslate=function(s,J,p){var K=0,L=0,M=0;if(t()){K=D.rtl?-s:s}else{L=s}if(!D.params.virtualTranslate){if(D.support.transforms3d){D.wrapper.transform("translate3d("+K+"px, "+L+"px, "+M+"px)")}else{D.wrapper.transform("translate("+K+"px, "+L+"px)")}}D.translate=t()?K:L;if(J){D.updateActiveIndex()}if(D.params.effect!=="slide"&&D.effects[D.params.effect]){D.effects[D.params.effect].setTranslate(D.translate)}if(D.params.parallax&&D.parallax){D.parallax.setTranslate(D.translate)}if(D.params.scrollbar&&D.scrollbar){D.scrollbar.setTranslate(D.translate)}if(D.params.control&&D.controller){D.controller.setTranslate(D.translate,p)}D.emit("onSetTranslate",D,D.translate)};D.getTranslate=function(K,p){var L,J,s,M;if(typeof p==="undefined"){p="x"}if(D.params.virtualTranslate){return D.rtl?-D.translate:D.translate}s=window.getComputedStyle(K,null);if(window.WebKitCSSMatrix){M=new WebKitCSSMatrix(s.webkitTransform==="none"?"":s.webkitTransform)}else{M=s.MozTransform||s.OTransform||s.MsTransform||s.msTransform||s.transform||s.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,");L=M.toString().split(",")}if(p==="x"){if(window.WebKitCSSMatrix){J=M.m41}else{if(L.length===16){J=parseFloat(L[12])}else{J=parseFloat(L[4])}}}if(p==="y"){if(window.WebKitCSSMatrix){J=M.m42}else{if(L.length===16){J=parseFloat(L[13])}else{J=parseFloat(L[5])}}}if(D.rtl&&J){J=-J}return J||0};D.getWrapperTranslate=function(p){if(typeof p==="undefined"){p=t()?"x":"y"}return D.getTranslate(D.wrapper[0],p)};D.observers=[];function r(K,J){J=J||{};var s=window.MutationObserver||window.WebkitMutationObserver;var p=new s(function(L){L.forEach(function(M){D.onResize();D.emit("onObserverUpdate",D,M)})});p.observe(K,{attributes:typeof J.attributes==="undefined"?true:J.attributes,childList:typeof J.childList==="undefined"?true:J.childList,characterData:typeof J.characterData==="undefined"?true:J.characterData});D.observers.push(p)}D.initObservers=function(){if(D.params.observeParents){var p=D.container.parents();for(var s=0;s<p.length;s++){r(p[s])}}r(D.container[0],{childList:false});r(D.wrapper[0],{attributes:false})};D.disconnectObservers=function(){for(var p=0;p<D.observers.length;p++){D.observers[p].disconnect()}D.observers=[]};D.createLoop=function(){D.wrapper.children("."+D.params.slideClass+"."+D.params.slideDuplicateClass).remove();var K=D.wrapper.children("."+D.params.slideClass);D.loopedSlides=parseInt(D.params.loopedSlides||D.params.slidesPerView,10);D.loopedSlides=D.loopedSlides+D.params.loopAdditionalSlides;if(D.loopedSlides>K.length){D.loopedSlides=K.length}var J=[],p=[],s;K.each(function(M,L){var N=b(this);if(M<D.loopedSlides){p.push(L)}if(M<K.length&&M>=K.length-D.loopedSlides){J.push(L)}N.attr("data-swiper-slide-index",M)});for(s=0;s<p.length;s++){D.wrapper.append(b(p[s].cloneNode(true)).addClass(D.params.slideDuplicateClass))}for(s=J.length-1;s>=0;s--){D.wrapper.prepend(b(J[s].cloneNode(true)).addClass(D.params.slideDuplicateClass))}};D.destroyLoop=function(){D.wrapper.children("."+D.params.slideClass+"."+D.params.slideDuplicateClass).remove();D.slides.removeAttr("data-swiper-slide-index")};D.fixLoop=function(){var p;if(D.activeIndex<D.loopedSlides){p=D.slides.length-D.loopedSlides*3+D.activeIndex;p=p+D.loopedSlides;D.slideTo(p,0,false,true)}else{if((D.params.slidesPerView==="auto"&&D.activeIndex>=D.loopedSlides*2)||(D.activeIndex>D.slides.length-D.params.slidesPerView*2)){p=-D.slides.length+D.activeIndex+D.loopedSlides;p=p+D.loopedSlides;D.slideTo(p,0,false,true)}}};D.appendSlide=function(s){if(D.params.loop){D.destroyLoop()}if(typeof s==="object"&&s.length){for(var p=0;p<s.length;p++){if(s[p]){D.wrapper.append(s[p])}}}else{D.wrapper.append(s)}if(D.params.loop){D.createLoop()}if(!(D.params.observer&&D.support.observer)){D.update(true)}};D.prependSlide=function(J){if(D.params.loop){D.destroyLoop()}var s=D.activeIndex+1;if(typeof J==="object"&&J.length){for(var p=0;p<J.length;p++){if(J[p]){D.wrapper.prepend(J[p])}}s=D.activeIndex+J.length}else{D.wrapper.prepend(J)}if(D.params.loop){D.createLoop()}if(!(D.params.observer&&D.support.observer)){D.update(true)}D.slideTo(s,0,false)};D.removeSlide=function(K){if(D.params.loop){D.destroyLoop()}var J=D.activeIndex,s;if(typeof K==="object"&&K.length){for(var p=0;p<K.length;p++){s=K[p];if(D.slides[s]){D.slides.eq(s).remove()}if(s<J){J--}}J=Math.max(J,0)}else{s=K;if(D.slides[s]){D.slides.eq(s).remove()}if(s<J){J--}J=Math.max(J,0)}if(!(D.params.observer&&D.support.observer)){D.update(true)}D.slideTo(J,0,false)};D.removeAllSlides=function(){var s=[];for(var p=0;p<D.slides.length;p++){s.push(p)}D.removeSlide(s)};D.effects={fade:{fadeIndex:null,setTranslate:function(){for(var p=0;p<D.slides.length;p++){var J=D.slides.eq(p);var s=J[0].swiperSlideOffset;var L=-s;if(!D.params.virtualTranslate){L=L-D.translate}var M=0;if(!t()){M=L;L=0}var K=D.params.fade.crossFade?Math.max(1-Math.abs(J[0].progress),0):1+Math.min(Math.max(J[0].progress,-1),0);if(K>0&&K<1){D.effects.fade.fadeIndex=p}J.css({opacity:K}).transform("translate3d("+L+"px, "+M+"px, 0px)")}},setTransition:function(p){D.slides.transition(p);if(D.params.virtualTranslate&&p!==0){var s=D.effects.fade.fadeIndex!==null?D.effects.fade.fadeIndex:D.activeIndex;D.slides.eq(s).transitionEnd(function(){var K=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"];for(var J=0;J<K.length;J++){D.wrapper.trigger(K[J])}})}}},cube:{setTranslate:function(){var Y=0,p;if(D.params.cube.shadow){if(t()){p=D.wrapper.find(".swiper-cube-shadow");if(p.length===0){p=b('<div class="swiper-cube-shadow"></div>');D.wrapper.append(p)}p.css({height:D.width+"px"})}else{p=D.container.find(".swiper-cube-shadow");if(p.length===0){p=b('<div class="swiper-cube-shadow"></div>');D.container.append(p)}}}for(var s=0;s<D.slides.length;s++){var S=D.slides.eq(s);var T=s*90;var M=Math.floor(T/360);if(D.rtl){T=-T;M=Math.floor(-T/360)}var L=Math.max(Math.min(S[0].progress,1),-1);var V=0,W=0,X=0;if(s%4===0){V=-M*4*D.size;X=0}else{if((s-1)%4===0){V=0;X=-M*4*D.size}else{if((s-2)%4===0){V=D.size+M*4*D.size;X=D.size}else{if((s-3)%4===0){V=-D.size;X=3*D.size+D.size*4*M}}}}if(D.rtl){V=-V}if(!t()){W=V;V=0}var U="rotateX("+(t()?0:-T)+"deg) rotateY("+(t()?T:0)+"deg) translate3d("+V+"px, "+W+"px, "+X+"px)";if(L<=1&&L>-1){Y=s*90+L*90;if(D.rtl){Y=-s*90-L*90}}S.transform(U);if(D.params.cube.slideShadows){var R=t()?S.find(".swiper-slide-shadow-left"):S.find(".swiper-slide-shadow-top");var P=t()?S.find(".swiper-slide-shadow-right"):S.find(".swiper-slide-shadow-bottom");if(R.length===0){R=b('<div class="swiper-slide-shadow-'+(t()?"left":"top")+'"></div>');S.append(R)}if(P.length===0){P=b('<div class="swiper-slide-shadow-'+(t()?"right":"bottom")+'"></div>');S.append(P)}if(R.length){R[0].style.opacity=-S[0].progress}if(P.length){P[0].style.opacity=S[0].progress}}}D.wrapper.css({"-webkit-transform-origin":"50% 50% -"+(D.size/2)+"px","-moz-transform-origin":"50% 50% -"+(D.size/2)+"px","-ms-transform-origin":"50% 50% -"+(D.size/2)+"px","transform-origin":"50% 50% -"+(D.size/2)+"px"});if(D.params.cube.shadow){if(t()){p.transform("translate3d(0px, "+(D.width/2+D.params.cube.shadowOffset)+"px, "+(-D.width/2)+"px) rotateX(90deg) rotateZ(0deg) scale("+(D.params.cube.shadowScale)+")")}else{var Q=Math.abs(Y)-Math.floor(Math.abs(Y)/90)*90;var J=1.5-(Math.sin(Q*2*Math.PI/360)/2+Math.cos(Q*2*Math.PI/360)/2);var N=D.params.cube.shadowScale,O=D.params.cube.shadowScale/J,K=D.params.cube.shadowOffset;p.transform("scale3d("+N+", 1, "+O+") translate3d(0px, "+(D.height/2+K)+"px, "+(-D.height/2/O)+"px) rotateX(-90deg)")}}var Z=(D.isSafari||D.isUiWebView)?(-D.size/2):0;D.wrapper.transform("translate3d(0px,0,"+Z+"px) rotateX("+(t()?0:Y)+"deg) rotateY("+(t()?-Y:0)+"deg)")},setTransition:function(p){D.slides.transition(p).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(p);if(D.params.cube.shadow&&!t()){D.container.find(".swiper-cube-shadow").transition(p)}}},coverflow:{setTranslate:function(){var U=D.translate;var p=t()?-U+D.width/2:-U+D.height/2;var L=t()?D.params.coverflow.rotate:-D.params.coverflow.rotate;var V=D.params.coverflow.depth;for(var s=0,J=D.slides.length;s<J;s++){var Q=D.slides.eq(s);var S=D.slidesSizesGrid[s];var R=Q[0].swiperSlideOffset;var K=(p-R-S/2)/S*D.params.coverflow.modifier;var N=t()?L*K:0;var M=t()?0:L*K;var Y=-V*Math.abs(K);var X=t()?0:D.params.coverflow.stretch*(K);var W=t()?D.params.coverflow.stretch*(K):0;if(Math.abs(W)<0.001){W=0}if(Math.abs(X)<0.001){X=0}if(Math.abs(Y)<0.001){Y=0}if(Math.abs(N)<0.001){N=0}if(Math.abs(M)<0.001){M=0}var T="translate3d("+W+"px,"+X+"px,"+Y+"px)  rotateX("+M+"deg) rotateY("+N+"deg)";Q.transform(T);Q[0].style.zIndex=-Math.abs(Math.round(K))+1;if(D.params.coverflow.slideShadows){var P=t()?Q.find(".swiper-slide-shadow-left"):Q.find(".swiper-slide-shadow-top");var O=t()?Q.find(".swiper-slide-shadow-right"):Q.find(".swiper-slide-shadow-bottom");if(P.length===0){P=b('<div class="swiper-slide-shadow-'+(t()?"left":"top")+'"></div>');Q.append(P)}if(O.length===0){O=b('<div class="swiper-slide-shadow-'+(t()?"right":"bottom")+'"></div>');Q.append(O)}if(P.length){P[0].style.opacity=K>0?K:0}if(O.length){O[0].style.opacity=(-K)>0?-K:0}}}if(D.browser.ie){var Z=D.wrapper[0].style;Z.perspectiveOrigin=p+"px 50%"}},setTransition:function(p){D.slides.transition(p).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(p)}}};D.lazy={initialImageLoaded:false,loadImageInSlide:function(s){if(typeof s==="undefined"){return}if(D.slides.length===0){return}var J=D.slides.eq(s);var p=J.find("img.swiper-lazy:not(.swiper-lazy-loaded):not(.swiper-lazy-loading)");if(p.length===0){return}p.each(function(){var K=b(this);K.addClass("swiper-lazy-loading");var L=K.attr("data-src");D.loadImage(K[0],L,false,function(){K.attr("src",L);K.removeAttr("data-src");K.addClass("swiper-lazy-loaded").removeClass("swiper-lazy-loading");J.find(".swiper-lazy-preloader, .preloader").remove();D.emit("onLazyImageReady",D,J[0],K[0])});D.emit("onLazyImageLoad",D,J[0],K[0])})},load:function(){if(D.params.watchSlidesVisibility){D.wrapper.children("."+D.params.slideVisibleClass).each(function(){D.lazy.loadImageInSlide(b(this).index())})}else{if(D.params.slidesPerView>1){for(var p=D.activeIndex;p<D.activeIndex+D.params.slidesPerView;p++){if(D.slides[p]){D.lazy.loadImageInSlide(p)}}}else{D.lazy.loadImageInSlide(D.activeIndex)}}if(D.params.lazyLoadingInPrevNext){var s=D.wrapper.children("."+D.params.slideNextClass);if(s.length>0){D.lazy.loadImageInSlide(s.index())}var J=D.wrapper.children("."+D.params.slidePrevClass);if(J.length>0){D.lazy.loadImageInSlide(J.index())}}},onTransitionStart:function(){if(D.params.lazyLoading){if(D.params.lazyLoadingOnTransitionStart||(!D.params.lazyLoadingOnTransitionStart&&!D.lazy.initialImageLoaded)){D.lazy.initialImageLoaded=true;D.lazy.load()}}},onTransitionEnd:function(){if(D.params.lazyLoading&&!D.params.lazyLoadingOnTransitionStart){D.lazy.load()}}};D.scrollbar={set:function(){if(!D.params.scrollbar){return}var p=D.scrollbar;p.track=b(D.params.scrollbar);p.drag=p.track.find(".swiper-scrollbar-drag");if(p.drag.length===0){p.drag=b('<div class="swiper-scrollbar-drag"></div>');p.track.append(p.drag)}p.drag[0].style.width="";p.drag[0].style.height="";p.trackSize=t()?p.track[0].offsetWidth:p.track[0].offsetHeight;p.divider=D.size/D.virtualSize;p.moveDivider=p.divider*(p.trackSize/D.size);p.dragSize=p.trackSize*p.divider;if(t()){p.drag[0].style.width=p.dragSize+"px"}else{p.drag[0].style.height=p.dragSize+"px"}if(p.divider>=1){p.track[0].style.display="none"}else{p.track[0].style.display=""}if(D.params.scrollbarHide){p.track[0].style.opacity=0}},setTranslate:function(){if(!D.params.scrollbar){return}var J=D.scrollbar;var p;var s=J.dragSize;p=(J.trackSize-J.dragSize)*D.progress;if(D.rtl&&t()){p=-p;if(p>0){s=J.dragSize-p;p=0}else{if(-p+J.dragSize>J.trackSize){s=J.trackSize+p}}}else{if(p<0){s=J.dragSize+p;p=0}else{if(p+J.dragSize>J.trackSize){s=J.trackSize-p}}}if(t()){if(D.support.transforms3d){J.drag.transform("translate3d("+(p)+"px, 0, 0)")}else{J.drag.transform("translateX("+(p)+"px)")}J.drag[0].style.width=s+"px"}else{if(D.support.transforms3d){J.drag.transform("translate3d(0px, "+(p)+"px, 0)")}else{J.drag.transform("translateY("+(p)+"px)")}J.drag[0].style.height=s+"px"}if(D.params.scrollbarHide){clearTimeout(J.timeout);J.track[0].style.opacity=1;J.timeout=setTimeout(function(){J.track[0].style.opacity=0;J.track.transition(400)},1000)}},setTransition:function(p){if(!D.params.scrollbar){return}D.scrollbar.drag.transition(p)}};D.controller={setTranslate:function(M,p){var s=D.params.control;var L,J;if(D.isArray(s)){for(var K=0;K<s.length;K++){if(s[K]!==p&&s[K] instanceof c){M=s[K].rtl&&s[K].params.direction==="horizontal"?-D.translate:D.translate;L=(s[K].maxTranslate()-s[K].minTranslate())/(D.maxTranslate()-D.minTranslate());J=(M-D.minTranslate())*L+s[K].minTranslate();if(D.params.controlInverse){J=s[K].maxTranslate()-J}s[K].updateProgress(J);s[K].setWrapperTranslate(J,false,D);s[K].updateActiveIndex()}}}else{if(s instanceof c&&p!==s){M=s.rtl&&s.params.direction==="horizontal"?-D.translate:D.translate;L=(s.maxTranslate()-s.minTranslate())/(D.maxTranslate()-D.minTranslate());J=(M-D.minTranslate())*L+s.minTranslate();if(D.params.controlInverse){J=s.maxTranslate()-J}s.updateProgress(J);s.setWrapperTranslate(J,false,D);s.updateActiveIndex()}}},setTransition:function(J,p){var s=D.params.control;if(D.isArray(s)){for(var K=0;K<s.length;K++){if(s[K]!==p&&s[K] instanceof c){s[K].setWrapperTransition(J,D)}}}else{if(s instanceof c&&p!==s){s.setWrapperTransition(J,D)}}}};function E(s,K){s=b(s);var J,L,M;J=s.attr("data-swiper-parallax")||"0";L=s.attr("data-swiper-parallax-x");M=s.attr("data-swiper-parallax-y");if(L||M){L=L||"0";M=M||"0"}else{if(t()){L=J;M="0"}else{M=J;L="0"}}if((L).indexOf("%")>=0){L=parseInt(L,10)*K+"%"}else{L=L*K+"px"}if((M).indexOf("%")>=0){M=parseInt(M,10)*K+"%"}else{M=M*K+"px"}s.transform("translate3d("+L+", "+M+",0px)")}D.parallax={setTranslate:function(){D.container.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){E(this,D.progress)});D.slides.each(function(){var p=b(this);p.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var s=Math.min(Math.max(p[0].progress,-1),1);E(this,s)})})},setTransition:function(p){if(typeof p==="undefined"){p=D.params.speed}D.container.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var s=b(this);var J=parseInt(s.attr("data-swiper-parallax-duration"),10)||p;if(p===0){J=0}s.transition(J)})}};D._plugins=[];for(var C in D.plugins){if(D.plugins.hasOwnProperty(C)){var A=D.plugins[C](D,D.params[C]);if(A){D._plugins.push(A)}}}D.callPlugins=function(p){for(var s=0;s<D._plugins.length;s++){if(p in D._plugins[s]){D._plugins[s][p](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])}}};function z(p){if(p.indexOf("on")!==0){if(p[0]!==p[0].toUpperCase()){p="on"+p[0].toUpperCase()+p.substring(1)}else{p="on"+p}}return p}D.emitterEventListeners={};D.emit=function(p){if(D.params[p]){D.params[p](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])}var s;if(!D){return}if(D.emitterEventListeners[p]){for(s=0;s<D.emitterEventListeners[p].length;s++){D.emitterEventListeners[p][s](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])}}if(D.callPlugins){D.callPlugins(p,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])}};D.on=function(p,s){p=z(p);if(!D.emitterEventListeners[p]){D.emitterEventListeners[p]=[]}D.emitterEventListeners[p].push(s);return D};D.off=function(p,s){var J;p=z(p);if(typeof s==="undefined"){D.emitterEventListeners[p]=[];return D}if(!D.emitterEventListeners[p]||D.emitterEventListeners[p].length===0){return}for(J=0;J<D.emitterEventListeners[p].length;J++){if(D.emitterEventListeners[p][J]===s){D.emitterEventListeners[p].splice(J,1)}}return D};D.once=function(s,J){s=z(s);var p=function(){J(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);D.off(s,p)};D.on(s,p);return D};D.a11y={makeFocusable:function(p){p[0].tabIndex="0";return p},addRole:function(p,s){p.attr("role",s);return p},addLabel:function(p,s){p.attr("aria-label",s);return p},disable:function(p){p.attr("aria-disabled",true);return p},enable:function(p){p.attr("aria-disabled",false);return p},onEnterKey:function(p){if(p.keyCode!==13){return}if(b(p.target).is(D.params.nextButton)){D.onClickNext(p);if(D.isEnd){D.a11y.notify(D.params.lastSlideMsg)}else{D.a11y.notify(D.params.nextSlideMsg)}}else{if(b(p.target).is(D.params.prevButton)){D.onClickPrev(p);if(D.isBeginning){D.a11y.notify(D.params.firstSlideMsg)}else{D.a11y.notify(D.params.prevSlideMsg)}}}},liveRegion:b('<span class="swiper-notification" aria-live="assertive" aria-atomic="true"></span>'),notify:function(p){var s=D.a11y.liveRegion;if(s.length===0){return}s.html("");s.html(p)},init:function(){if(D.params.nextButton){var p=b(D.params.nextButton);D.a11y.makeFocusable(p);D.a11y.addRole(p,"button");D.a11y.addLabel(p,D.params.nextSlideMsg)}if(D.params.prevButton){var s=b(D.params.prevButton);D.a11y.makeFocusable(s);D.a11y.addRole(s,"button");D.a11y.addLabel(s,D.params.prevSlideMsg)}b(D.container).append(D.a11y.liveRegion)},destroy:function(){if(D.a11y.liveRegion&&D.a11y.liveRegion.length>0){D.a11y.liveRegion.remove()}}};D.init=function(){if(D.params.loop){D.createLoop()}D.updateContainerSize();D.updateSlidesSize();D.updatePagination();if(D.params.scrollbar&&D.scrollbar){D.scrollbar.set()}if(D.params.effect!=="slide"&&D.effects[D.params.effect]){if(!D.params.loop){D.updateProgress()}D.effects[D.params.effect].setTranslate()}if(D.params.loop){D.slideTo(D.params.initialSlide+D.loopedSlides,0,D.params.runCallbacksOnInit)}else{D.slideTo(D.params.initialSlide,0,D.params.runCallbacksOnInit);if(D.params.initialSlide===0){if(D.parallax&&D.params.parallax){D.parallax.setTranslate()}if(D.lazy&&D.params.lazyLoading){D.lazy.load()}}}D.attachEvents();if(D.params.observer&&D.support.observer){D.initObservers()}if(D.params.preloadImages&&!D.params.lazyLoading){D.preloadImages()}if(D.params.autoplay){D.startAutoplay()}if(D.params.keyboardControl){if(D.enableKeyboardControl){D.enableKeyboardControl()}}if(D.params.mousewheelControl){if(D.enableMousewheelControl){D.enableMousewheelControl()}}if(D.params.hashnav){if(D.hashnav){D.hashnav.init()}}if(D.params.a11y&&D.a11y){D.a11y.init()}D.emit("onInit",D)};D.cleanupStyles=function(){D.container.removeClass(D.classNames.join(" ")).removeAttr("style");D.wrapper.removeAttr("style");if(D.slides&&D.slides.length){D.slides.removeClass([D.params.slideVisibleClass,D.params.slideActiveClass,D.params.slideNextClass,D.params.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-column").removeAttr("data-swiper-row")}if(D.paginationContainer&&D.paginationContainer.length){D.paginationContainer.removeClass(D.params.paginationHiddenClass)}if(D.bullets&&D.bullets.length){D.bullets.removeClass(D.params.bulletActiveClass)}if(D.params.prevButton){b(D.params.prevButton).removeClass(D.params.buttonDisabledClass)}if(D.params.nextButton){b(D.params.nextButton).removeClass(D.params.buttonDisabledClass)}if(D.params.scrollbar&&D.scrollbar){if(D.scrollbar.track&&D.scrollbar.track.length){D.scrollbar.track.removeAttr("style")}if(D.scrollbar.drag&&D.scrollbar.drag.length){D.scrollbar.drag.removeAttr("style")}}};D.destroy=function(s,p){D.detachEvents();D.stopAutoplay();if(D.params.loop){D.destroyLoop()}if(p){D.cleanupStyles()}D.disconnectObservers();if(D.params.keyboardControl){if(D.disableKeyboardControl){D.disableKeyboardControl()}}if(D.params.mousewheelControl){if(D.disableMousewheelControl){D.disableMousewheelControl()}}if(D.params.a11y&&D.a11y){D.a11y.destroy()}D.emit("onDestroy");if(s!==false){D=null}};D.init();return D};c.prototype={defaults:{direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,autoplay:false,autoplayDisableOnInteraction:true,freeMode:false,freeModeMomentum:true,freeModeMomentumRatio:1,freeModeMomentumBounce:true,freeModeMomentumBounceRatio:1,setWrapperSize:false,virtualTranslate:false,effect:"slide",coverflow:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:true},cube:{slideShadows:true,shadow:true,shadowOffset:20,shadowScale:0.94},fade:{crossFade:false},parallax:false,scrollbar:null,scrollbarHide:true,keyboardControl:false,mousewheelControl:false,mousewheelForceToAxis:false,hashnav:false,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:false,touchRatio:1,touchAngle:45,simulateTouch:true,shortSwipes:true,longSwipes:true,longSwipesRatio:0.5,longSwipesMs:300,followFinger:true,onlyExternal:false,threshold:0,touchMoveStopPropagation:true,pagination:null,paginationClickable:false,paginationHide:false,paginationBulletRender:null,resistance:true,resistanceRatio:0.85,nextButton:null,prevButton:null,watchSlidesProgress:false,watchSlidesVisibility:false,grabCursor:false,preventClicks:true,preventClicksPropagation:true,slideToClickedSlide:false,lazyLoading:false,lazyLoadingInPrevNext:false,lazyLoadingOnTransitionStart:false,preloadImages:true,updateOnImagesReady:true,loop:false,loopAdditionalSlides:0,loopedSlides:null,control:undefined,controlInverse:false,allowSwipeToPrev:true,allowSwipeToNext:true,swipeHandler:null,noSwiping:true,noSwipingClass:"swiper-no-swiping",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",buttonDisabledClass:"swiper-button-disabled",paginationHiddenClass:"swiper-pagination-hidden",observer:false,observeParents:false,a11y:false,prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",runCallbacksOnInit:true,},isSafari:(function(){var d=navigator.userAgent.toLowerCase();return(d.indexOf("safari")>=0&&d.indexOf("chrome")<0&&d.indexOf("android")<0)})(),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),isArray:function(d){return Object.prototype.toString.apply(d)==="[object Array]"},browser:{ie:window.navigator.pointerEnabled||window.navigator.msPointerEnabled,ieTouch:(window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>1)||(window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>1),},device:(function(){var g=navigator.userAgent;var d=g.match(/(Android);?[\s\/]+([\d.]+)?/);var e=g.match(/(iPad).*OS\s([\d_]+)/);var f=!e&&g.match(/(iPhone\sOS)\s([\d_]+)/);return{ios:e||f||e,android:d}})(),support:{touch:(window.Modernizr&&Modernizr.touch===true)||(function(){return !!(("ontouchstart" in window)||window.DocumentTouch&&document instanceof DocumentTouch)})(),transforms3d:(window.Modernizr&&Modernizr.csstransforms3d===true)||(function(){var d=document.createElement("div").style;return("webkitPerspective" in d||"MozPerspective" in d||"OPerspective" in d||"MsPerspective" in d||"perspective" in d)})(),flexbox:(function(){var d=document.createElement("div").style;var f=("alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient").split(" ");for(var e=0;e<f.length;e++){if(f[e] in d){return true}}})(),observer:(function(){return("MutationObserver" in window||"WebkitMutationObserver" in window)})()},plugins:{}};b.Swiper=c}(Zepto));(function(b){b.Swiper.prototype.defaults.pagination=".page-current .swiper-pagination";b.swiper=function(c,d){return new b.Swiper(c,d)};b.fn.swiper=function(c){return new b.Swiper(this,c)};b.initSwiper=function(g){var f=b(g||document.body);var k=f.find(".swiper-container");if(k.length===0){return}function d(l){function i(){l.destroy();f.off("pageBeforeRemove",i)}f.on("pageBeforeRemove",i)}for(var e=0;e<k.length;e++){var j=k.eq(e);var h;if(j.data("swiper")){j.data("swiper").update(true);continue}else{h=j.dataset()}var c=b.swiper(j[0],h);d(c)}};b.reinitSwiper=function(e){var d=b(e||".page-current");var g=d.find(".swiper-container");if(g.length===0){return}for(var c=0;c<g.length;c++){var f=g[0].swiper;if(f){f.update(true)}}}}(Zepto));var a=function(G){var H=this,o;var j=this.defaults;G=G||{};for(var h in j){if(typeof G[h]==="undefined"){G[h]=j[h]}}H.params=G;var E=H.params.navbarTemplate||'<header class="bar bar-nav"><a class="icon icon-left pull-left photo-browser-close-link'+(H.params.type==="popup"?" close-popup":"")+'"></a><h1 class="title"><div class="center sliding"><span class="photo-browser-current"></span> <span class="photo-browser-of">'+H.params.ofText+'</span> <span class="photo-browser-total"></span></div></h1></header>';var V=H.params.toolbarTemplate||'<nav class="bar bar-tab"><a class="tab-item photo-browser-prev" href="#"><i class="icon icon-prev"></i></a><a class="tab-item photo-browser-next" href="#"><i class="icon icon-next"></i></a></nav>';var T=H.params.template||'<div class="photo-browser photo-browser-'+H.params.theme+'">{{navbar}}{{toolbar}}<div data-page="photo-browser-slides" class="content">{{captions}}<div class="photo-browser-swiper-container swiper-container"><div class="photo-browser-swiper-wrapper swiper-wrapper">{{photos}}</div></div></div></div>';var K=!H.params.lazyLoading?(H.params.photoTemplate||'<div class="photo-browser-slide swiper-slide"><span class="photo-browser-zoom-container"><img src="{{url}}"></span></div>'):(H.params.photoLazyTemplate||'<div class="photo-browser-slide photo-browser-slide-lazy swiper-slide"><div class="preloader'+(H.params.theme==="dark"?" preloader-white":"")+'"></div><span class="photo-browser-zoom-container"><img data-src="{{url}}" class="swiper-lazy"></span></div>');var e=H.params.captionsTheme||H.params.theme;var d=H.params.captionsTemplate||'<div class="photo-browser-captions photo-browser-captions-'+e+'">{{captions}}</div>';var f=H.params.captionTemplate||'<div class="photo-browser-caption" data-caption-index="{{captionIndex}}">{{caption}}</div>';var F=H.params.objectTemplate||'<div class="photo-browser-slide photo-browser-object-slide swiper-slide">{{html}}</div>';var J="";var c="";for(o=0;o<H.params.photos.length;o++){var I=H.params.photos[o];var U="";if(typeof(I)==="string"||I instanceof String){if(I.indexOf("<")>=0||I.indexOf(">")>=0){U=F.replace(/{{html}}/g,I)}else{U=K.replace(/{{url}}/g,I)}}else{if(typeof(I)==="object"){if(I.hasOwnProperty("html")&&I.html.length>0){U=F.replace(/{{html}}/g,I.html)}else{if(I.hasOwnProperty("url")&&I.url.length>0){U=K.replace(/{{url}}/g,I.url)}}if(I.hasOwnProperty("caption")&&I.caption.length>0){c+=f.replace(/{{caption}}/g,I.caption).replace(/{{captionIndex}}/g,o)}else{U=U.replace(/{{caption}}/g,"")}}}J+=U}var n=T.replace("{{navbar}}",(H.params.navbar?E:"")).replace("{{noNavbar}}",(H.params.navbar?"":"no-navbar")).replace("{{photos}}",J).replace("{{captions}}",d.replace(/{{captions}}/g,c)).replace("{{toolbar}}",(H.params.toolbar?V:""));H.activeIndex=H.params.initialSlide;H.openIndex=H.activeIndex;H.opened=false;H.open=function(i){if(typeof i==="undefined"){i=H.activeIndex}i=parseInt(i,10);if(H.opened&&H.swiper){H.swiper.slideTo(i);return}H.opened=true;H.openIndex=i;if(H.params.type==="standalone"){$(H.params.container).append(n)}if(H.params.type==="popup"){H.popup=$.popup('<div class="popup photo-browser-popup">'+n+"</div>");$(H.popup).on("closed",H.onPopupClose)}if(H.params.type==="page"){$(document).on("pageBeforeInit",H.onPageBeforeInit);$(document).on("pageBeforeRemove",H.onPageBeforeRemove);if(!H.params.view){H.params.view=$.mainView}H.params.view.loadContent(n);return}H.layout(H.openIndex);if(H.params.onOpen){H.params.onOpen(H)}};H.close=function(){H.opened=false;if(!H.swiperContainer||H.swiperContainer.length===0){return}if(H.params.onClose){H.params.onClose(H)}H.attachEvents(true);if(H.params.type==="standalone"){H.container.removeClass("photo-browser-in").addClass("photo-browser-out").transitionEnd(function(){H.container.remove()})}H.swiper.destroy();H.swiper=H.swiperContainer=H.swiperWrapper=H.slides=m=k=l=undefined;setTimeout(function(){$(".photo-browser-light").remove()},0.5*1000)};H.onPopupClose=function(){H.close();$(H.popup).off("pageBeforeInit",H.onPopupClose)};H.onPageBeforeInit=function(i){if(i.detail.page.name==="photo-browser-slides"){H.layout(H.openIndex)}$(document).off("pageBeforeInit",H.onPageBeforeInit)};H.onPageBeforeRemove=function(i){if(i.detail.page.name==="photo-browser-slides"){H.close()}$(document).off("pageBeforeRemove",H.onPageBeforeRemove)};H.onSliderTransitionStart=function(ad){H.activeIndex=ad.activeIndex;var ab=ad.activeIndex+1;var ae=ad.slides.length;if(H.params.loop){ae=ae-2;ab=ab-ad.loopedSlides;if(ab<1){ab=ae+ab}if(ab>ae){ab=ab-ae}}H.container.find(".photo-browser-current").text(ab);H.container.find(".photo-browser-total").text(ae);$(".photo-browser-prev, .photo-browser-next").removeClass("photo-browser-link-inactive");if(ad.isBeginning&&!H.params.loop){$(".photo-browser-prev").addClass("photo-browser-link-inactive")}if(ad.isEnd&&!H.params.loop){$(".photo-browser-next").addClass("photo-browser-link-inactive")}if(H.captions.length>0){H.captionsContainer.find(".photo-browser-caption-active").removeClass("photo-browser-caption-active");var i=H.params.loop?ad.slides.eq(ad.activeIndex).attr("data-swiper-slide-index"):H.activeIndex;H.captionsContainer.find('[data-caption-index="'+i+'"]').addClass("photo-browser-caption-active")}var ac=ad.slides.eq(ad.previousIndex).find("video");if(ac.length>0){if("pause" in ac[0]){ac[0].pause()}}if(H.params.onSlideChangeStart){H.params.onSlideChangeStart(ad)}};H.onSliderTransitionEnd=function(i){if(H.params.zoom&&m&&i.previousIndex!==i.activeIndex){k.transform("translate3d(0,0,0) scale(1)");l.transform("translate3d(0,0,0)");m=k=l=undefined;L=g=1}if(H.params.onSlideChangeEnd){H.params.onSlideChangeEnd(i)}};H.layout=function(i){if(H.params.type==="page"){H.container=$(".photo-browser-swiper-container").parents(".view")}else{H.container=$(".photo-browser")}if(H.params.type==="standalone"){H.container.addClass("photo-browser-in")}H.swiperContainer=H.container.find(".photo-browser-swiper-container");H.swiperWrapper=H.container.find(".photo-browser-swiper-wrapper");H.slides=H.container.find(".photo-browser-slide");H.captionsContainer=H.container.find(".photo-browser-captions");H.captions=H.container.find(".photo-browser-caption");var ab={nextButton:H.params.nextButton||".photo-browser-next",prevButton:H.params.prevButton||".photo-browser-prev",indexButton:H.params.indexButton,initialSlide:i,spaceBetween:H.params.spaceBetween,speed:H.params.speed,loop:H.params.loop,lazyLoading:H.params.lazyLoading,lazyLoadingInPrevNext:H.params.lazyLoadingInPrevNext,lazyLoadingOnTransitionStart:H.params.lazyLoadingOnTransitionStart,preloadImages:H.params.lazyLoading?false:true,onTap:function(ad,ac){if(H.params.onTap){H.params.onTap(ad,ac)}},onClick:function(ad,ac){if(H.params.exposition){H.toggleExposition()}if(H.params.onClick){H.params.onClick(ad,ac)}},onDoubleTap:function(ad,ac){H.toggleZoom($(ac.target).parents(".photo-browser-slide"));if(H.params.onDoubleTap){H.params.onDoubleTap(ad,ac)}},onTransitionStart:function(ac){H.onSliderTransitionStart(ac)},onTransitionEnd:function(ac){H.onSliderTransitionEnd(ac)},onLazyImageLoad:function(ae,ad,ac){if(H.params.onLazyImageLoad){H.params.onLazyImageLoad(H,ad,ac)}},onLazyImageReady:function(ae,ad,ac){$(ad).removeClass("photo-browser-slide-lazy");if(H.params.onLazyImageReady){H.params.onLazyImageReady(H,ad,ac)}}};if(H.params.swipeToClose&&H.params.type!=="page"){ab.onTouchStart=H.swipeCloseTouchStart;ab.onTouchMoveOpposite=H.swipeCloseTouchMove;ab.onTouchEnd=H.swipeCloseTouchEnd}H.swiper=$.swiper(H.swiperContainer,ab);if(i===0){H.onSliderTransitionStart(H.swiper)}H.attachEvents()};H.attachEvents=function(ab){var i=ab?"off":"on";if(H.params.zoom){var ac=H.params.loop?H.swiper.slides:H.slides;ac[i]("gesturestart",H.onSlideGestureStart);ac[i]("gesturechange",H.onSlideGestureChange);ac[i]("gestureend",H.onSlideGestureEnd);ac[i]("touchstart",H.onSlideTouchStart);ac[i]("touchmove",H.onSlideTouchMove);ac[i]("touchend",H.onSlideTouchEnd)}H.container.find(".photo-browser-close-link")[i]("click",H.close)};H.exposed=false;H.toggleExposition=function(){if(H.container){H.container.toggleClass("photo-browser-exposed")}if(H.params.expositionHideCaptions){H.captionsContainer.toggleClass("photo-browser-captions-exposed")}H.exposed=!H.exposed};H.enableExposition=function(){if(H.container){H.container.addClass("photo-browser-exposed")}if(H.params.expositionHideCaptions){H.captionsContainer.addClass("photo-browser-captions-exposed")}H.exposed=true};H.disableExposition=function(){if(H.container){H.container.removeClass("photo-browser-exposed")}if(H.params.expositionHideCaptions){H.captionsContainer.removeClass("photo-browser-captions-exposed")}H.exposed=false};var m,k,l,L=1,g=1,D=false;H.onSlideGestureStart=function(){if(!m){m=$(this);k=m.find("img, svg, canvas");l=k.parent(".photo-browser-zoom-container");if(l.length===0){k=undefined;return}}k.transition(0);D=true};H.onSlideGestureChange=function(i){if(!k||k.length===0){return}L=i.scale*g;if(L>H.params.maxZoom){L=H.params.maxZoom-1+Math.pow((L-H.params.maxZoom+1),0.5)}if(L<H.params.minZoom){L=H.params.minZoom+1-Math.pow((H.params.minZoom-L+1),0.5)}k.transform("translate3d(0,0,0) scale("+L+")")};H.onSlideGestureEnd=function(){if(!k||k.length===0){return}L=Math.max(Math.min(L,H.params.maxZoom),H.params.minZoom);k.transition(H.params.speed).transform("translate3d(0,0,0) scale("+L+")");g=L;D=false;if(L===1){m=undefined}};H.toggleZoom=function(){if(!m){m=H.swiper.slides.eq(H.swiper.activeIndex);k=m.find("img, svg, canvas");l=k.parent(".photo-browser-zoom-container")}if(!k||k.length===0){return}l.transition(300).transform("translate3d(0,0,0)");if(L&&L!==1){L=g=1;k.transition(300).transform("translate3d(0,0,0) scale(1)");m=undefined}else{L=g=H.params.maxZoom;k.transition(300).transform("translate3d(0,0,0) scale("+L+")")}};var t,s,p,q,w,x,u,v,C,r,B={},A={},y,z,W,Y,Z,X,aa;H.onSlideTouchStart=function(i){if(!k||k.length===0){return}if(t){return}if($.device.os==="android"){i.preventDefault()}t=true;B.x=i.type==="touchstart"?i.targetTouches[0].pageX:i.pageX;B.y=i.type==="touchstart"?i.targetTouches[0].pageY:i.pageY};H.onSlideTouchMove=function(i){if(!k||k.length===0){return}H.swiper.allowClick=false;if(!t||!m){return}if(!s){C=k[0].offsetWidth;r=k[0].offsetHeight;y=$.getTranslate(l[0],"x")||0;z=$.getTranslate(l[0],"y")||0;l.transition(0)}var ac=C*L;var ab=r*L;if(ac<H.swiper.width&&ab<H.swiper.height){return}w=Math.min((H.swiper.width/2-ac/2),0);u=-w;x=Math.min((H.swiper.height/2-ab/2),0);v=-x;A.x=i.type==="touchmove"?i.targetTouches[0].pageX:i.pageX;A.y=i.type==="touchmove"?i.targetTouches[0].pageY:i.pageY;if(!s&&!D){if((Math.floor(w)===Math.floor(y)&&A.x<B.x)||(Math.floor(u)===Math.floor(y)&&A.x>B.x)){t=false;return}}i.preventDefault();i.stopPropagation();s=true;p=A.x-B.x+y;q=A.y-B.y+z;if(p<w){p=w+1-Math.pow((w-p+1),0.8)}if(p>u){p=u-1+Math.pow((p-u+1),0.8)}if(q<x){q=x+1-Math.pow((x-q+1),0.8)}if(q>v){q=v-1+Math.pow((q-v+1),0.8)}if(!W){W=A.x}if(!X){X=A.y}if(!Y){Y=Date.now()}Z=(A.x-W)/(Date.now()-Y)/2;aa=(A.y-X)/(Date.now()-Y)/2;if(Math.abs(A.x-W)<2){Z=0}if(Math.abs(A.y-X)<2){aa=0}W=A.x;X=A.y;Y=Date.now();l.transform("translate3d("+p+"px, "+q+"px,0)")};H.onSlideTouchEnd=function(){if(!k||k.length===0){return}if(!t||!s){t=false;s=false;return}t=false;s=false;var ad=300;var ae=300;var i=Z*ad;var af=p+i;var ab=aa*ae;var ag=q+ab;if(Z!==0){ad=Math.abs((af-p)/Z)}if(aa!==0){ae=Math.abs((ag-q)/aa)}var ac=Math.max(ad,ae);p=af;q=ag;var ai=C*L;var ah=r*L;w=Math.min((H.swiper.width/2-ai/2),0);u=-w;x=Math.min((H.swiper.height/2-ah/2),0);v=-x;p=Math.max(Math.min(p,u),w);q=Math.max(Math.min(q,v),x);l.transition(ac).transform("translate3d("+p+"px, "+q+"px,0)")};var P=false;var b=true;var O,Q,N,R=false,M,S;H.swipeCloseTouchStart=function(){if(!b){return}P=true};H.swipeCloseTouchMove=function(ac,i){if(!P){return}if(!R){R=true;Q=i.type==="touchmove"?i.targetTouches[0].pageY:i.pageY;M=H.swiper.slides.eq(H.swiper.activeIndex);S=(new Date()).getTime()}i.preventDefault();N=i.type==="touchmove"?i.targetTouches[0].pageY:i.pageY;O=Q-N;var ab=1-Math.abs(O)/300;M.transform("translate3d(0,"+(-O)+"px,0)");H.swiper.container.css("opacity",ab).transition(0)};H.swipeCloseTouchEnd=function(){P=false;if(!R){R=false;return}R=false;b=false;var i=Math.abs(O);var ab=(new Date()).getTime()-S;if((ab<300&&i>20)||(ab>=300&&i>100)){setTimeout(function(){if(H.params.type==="standalone"){H.close()}if(H.params.type==="popup"){$.closeModal(H.popup)}if(H.params.onSwipeToClose){H.params.onSwipeToClose(H)}b=true},0);return}if(i!==0){M.addClass("transitioning").transitionEnd(function(){b=true;M.removeClass("transitioning")})}else{b=true}H.swiper.container.css("opacity","").transition("");M.transform("")};return H};a.prototype={defaults:{photos:[],container:"body",initialSlide:0,spaceBetween:20,speed:300,zoom:true,maxZoom:3,minZoom:1,exposition:true,expositionHideCaptions:false,type:"standalone",navbar:true,toolbar:true,theme:"light",swipeToClose:true,backLinkText:"Close",ofText:"of",loop:false,lazyLoading:false,lazyLoadingInPrevNext:false,lazyLoadingOnTransitionStart:false,}};$.photoBrowser=function(b){$.extend(b,$.photoBrowser.prototype.defaults);return new a(b)};$.photoBrowser.prototype={defaults:{}}});
